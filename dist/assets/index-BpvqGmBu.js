const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/OverviewTab-Bo407P8U.js","assets/motion-C77FytTZ.js","assets/react-CRB3T2We.js","assets/icons-uXOCDXnq.js","assets/charts-MmWREcvX.js","assets/confetti-oQXWb4Lk.js"])))=>i.map(i=>d[i]);
var md=Object.defineProperty;var hd=(t,s,l)=>s in t?md(t,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[s]=l;var is=(t,s,l)=>hd(t,typeof s!="symbol"?s+"":s,l);import{r as d,j as e,a as qn,m as ne,A as it,u as pd,b as jo,c as So}from"./motion-C77FytTZ.js";import{a as gd,g as xd}from"./react-CRB3T2We.js";import{c as si}from"./confetti-oQXWb4Lk.js";import{T as Ts,R as fa,X as ls,a as fi,C as Rs,L as fd,I as ai,b as bd,c as yl,Z as Ds,d as yd,A as bi,S as Sn,D as vd,e as ii,U as Bs,B as Qt,H as Ln,P as ha,f as Is,F as En,g as vl,h as ni,i as wd,j as wl,k as Eo,l as Ms,W as qs,m as ri,n as Pn,o as Nl,p as Nd,q as _d,r as On,s as Ut,G as Dn,t as oi,M as Cd,u as _l,v as ba,V as kn,w as In,x as jd,y as Sd,z as li,E as Cl,J as jl,K as Ed,N as kd,O as Sl,Q as Id}from"./icons-uXOCDXnq.js";import{r as Td,R as yt,B as El,X as qt,Y as Lt,T as mt,a as ci,L as Rd,b as Ad,A as pa,c as ga,P as kl,d as Il,C as Tl,S as Md,e as qd,f as Ld,g as ko,h as Pd,i as Od,j as Dd,k as Bd,l as Io}from"./charts-MmWREcvX.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function l(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=l(n);fetch(n.href,o)}})();var Ua={},To;function zd(){if(To)return Ua;To=1;var t=gd();return Ua.createRoot=t.createRoot,Ua.hydrateRoot=t.hydrateRoot,Ua}var Yd=zd();const Hd=xd(Yd),$d="modulepreload",Fd=function(t){return"/"+t},Ro={},Vt=function(s,l,i){let n=Promise.resolve();if(l&&l.length>0){let u=function(b){return Promise.all(b.map(_=>Promise.resolve(_).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),v=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));n=u(l.map(b=>{if(b=Fd(b),b in Ro)return;Ro[b]=!0;const _=b.endsWith(".css"),g=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${g}`))return;const r=document.createElement("link");if(r.rel=_?"stylesheet":$d,_||(r.as="script"),r.crossOrigin="",r.href=b,v&&r.setAttribute("nonce",v),document.head.appendChild(r),_)return new Promise((f,S)=>{r.addEventListener("load",f),r.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${b}`)))})}))}function o(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return n.then(u=>{for(const h of u||[])h.status==="rejected"&&o(h.reason);return s().catch(o)})},ce={OVERVIEW:"overview",INVEST:"invest",ASSETS:"assets",BANK:"bank",CAREER:"career",EDUCATION:"education",SELF_LEARN:"self_learn",EQ:"eq",NEGOTIATIONS:"negotiations",SIDEHUSTLE:"sidehustle",LIFESTYLE:"lifestyle"};var z=(t=>(t.STOCK="STOCK",t.INDEX_FUND="INDEX_FUND",t.BOND="BOND",t.REAL_ESTATE="REAL_ESTATE",t.BUSINESS="BUSINESS",t.CRYPTO="CRYPTO",t.COMMODITY="COMMODITY",t.SAVINGS="SAVINGS",t))(z||{});const Ud=JSON.parse('[{"id":"biz_partner_intro","category":"CAREER","art":null,"tags":["business","chain"],"cooldown":18,"choices":[{"effects":{"cashChange":-3000,"statChanges":{"stress":5,"networking":4},"messageKey":"events.biz_partner_intro.choices.0.message"},"followups":[{"id":"biz_partner_scaling","delayMonths":2}],"labelKey":"events.biz_partner_intro.choices.0.label"},{"effects":{"cashChange":0,"statChanges":{"happiness":2},"messageKey":"events.biz_partner_intro.choices.1.message"},"labelKey":"events.biz_partner_intro.choices.1.label"}],"titleKey":"events.biz_partner_intro.title","descriptionKey":"events.biz_partner_intro.description"},{"id":"biz_partner_scaling","category":"CAREER","art":null,"tags":["business","chain"],"cooldown":18,"choices":[{"effects":{"cashChange":-8000,"statChanges":{"stress":8},"messageKey":"events.biz_partner_scaling.choices.0.message"},"followups":[{"id":"biz_partner_dispute","delayMonths":3}],"labelKey":"events.biz_partner_scaling.choices.0.label"},{"effects":{"cashChange":-3000,"statChanges":{"stress":2},"messageKey":"events.biz_partner_scaling.choices.1.message"},"labelKey":"events.biz_partner_scaling.choices.1.label"},{"effects":{"cashChange":0,"statChanges":{"stress":-3},"messageKey":"events.biz_partner_scaling.choices.2.message"},"labelKey":"events.biz_partner_scaling.choices.2.label"}],"titleKey":"events.biz_partner_scaling.title","descriptionKey":"events.biz_partner_scaling.description"},{"id":"biz_partner_dispute","category":"LEGAL","art":null,"tags":["business","chain"],"cooldown":18,"choices":[{"effects":{"cashChange":-10000,"statChanges":{"stress":-5,"happiness":2},"messageKey":"events.biz_partner_dispute.choices.0.message"},"labelKey":"events.biz_partner_dispute.choices.0.label"},{"effects":{"cashChange":-2000,"statChanges":{"stress":3},"messageKey":"events.biz_partner_dispute.choices.1.message"},"labelKey":"events.biz_partner_dispute.choices.1.label"},{"effects":{"cashChange":12000,"statChanges":{"happiness":-4},"messageKey":"events.biz_partner_dispute.choices.2.message"},"labelKey":"events.biz_partner_dispute.choices.2.label"}],"titleKey":"events.biz_partner_dispute.title","descriptionKey":"events.biz_partner_dispute.description"},{"id":"health_checkup","category":"MEDICAL","art":null,"tags":["health","chain"],"cooldown":12,"choices":[{"effects":{"cashChange":-2000,"statChanges":{"stress":-2,"health":2},"messageKey":"events.health_checkup.choices.0.message"},"followups":[{"id":"health_claim","delayMonths":3}],"labelKey":"events.health_checkup.choices.0.label"},{"effects":{"cashChange":0,"statChanges":{"stress":1},"messageKey":"events.health_checkup.choices.1.message"},"followups":[{"id":"health_emergency","delayMonths":2}],"labelKey":"events.health_checkup.choices.1.label"}],"titleKey":"events.health_checkup.title","descriptionKey":"events.health_checkup.description"},{"id":"health_claim","category":"MEDICAL","art":null,"tags":["health","chain"],"cooldown":12,"choices":[{"effects":{"cashChange":4000,"statChanges":{"stress":-4},"messageKey":"events.health_claim.choices.0.message"},"labelKey":"events.health_claim.choices.0.label"},{"effects":{"cashChange":-3000,"statChanges":{"stress":-2},"messageKey":"events.health_claim.choices.1.message"},"labelKey":"events.health_claim.choices.1.label"}],"titleKey":"events.health_claim.title","descriptionKey":"events.health_claim.description"},{"id":"health_emergency","category":"MEDICAL","art":null,"tags":["health","chain"],"cooldown":12,"choices":[{"effects":{"cashChange":-6000,"statChanges":{"stress":6},"messageKey":"events.health_emergency.choices.0.message"},"labelKey":"events.health_emergency.choices.0.label"},{"effects":{"cashChange":0,"statChanges":{"stress":10},"addLiability":{"name":"Medical Payment Plan","balance":7000,"originalBalance":7000,"interestRate":0.1,"monthlyPayment":250,"type":"MEDICAL_DEBT"},"messageKey":"events.health_emergency.choices.1.message"},"labelKey":"events.health_emergency.choices.1.label"}],"titleKey":"events.health_emergency.title","descriptionKey":"events.health_emergency.description"},{"id":"landlord_screening","category":"HOUSING","art":null,"tags":["landlord","chain"],"cooldown":12,"choices":[{"effects":{"cashChange":-200,"statChanges":{"stress":2},"messageKey":"events.landlord_screening.choices.0.message"},"followups":[{"id":"landlord_tenant_good","delayMonths":2}],"labelKey":"events.landlord_screening.choices.0.label"},{"effects":{"cashChange":0,"statChanges":{"stress":1},"messageKey":"events.landlord_screening.choices.1.message"},"followups":[{"id":"landlord_tenant_issue","delayMonths":2}],"labelKey":"events.landlord_screening.choices.1.label"}],"titleKey":"events.landlord_screening.title","descriptionKey":"events.landlord_screening.description"},{"id":"landlord_tenant_good","category":"HOUSING","art":null,"tags":["landlord","chain"],"cooldown":12,"choices":[{"effects":{"cashChange":1500,"statChanges":{"stress":-3},"messageKey":"events.landlord_tenant_good.choices.0.message"},"labelKey":"events.landlord_tenant_good.choices.0.label"},{"effects":{"cashChange":800,"statChanges":{"happiness":3},"messageKey":"events.landlord_tenant_good.choices.1.message"},"labelKey":"events.landlord_tenant_good.choices.1.label"}],"titleKey":"events.landlord_tenant_good.title","descriptionKey":"events.landlord_tenant_good.description"},{"id":"landlord_tenant_issue","category":"HOUSING","art":null,"tags":["landlord","chain"],"cooldown":12,"choices":[{"effects":{"cashChange":0,"statChanges":{"stress":4},"messageKey":"events.landlord_tenant_issue.choices.0.message"},"followups":[{"id":"landlord_eviction","delayMonths":2}],"labelKey":"events.landlord_tenant_issue.choices.0.label"},{"effects":{"cashChange":-800,"statChanges":{"stress":2},"messageKey":"events.landlord_tenant_issue.choices.1.message"},"labelKey":"events.landlord_tenant_issue.choices.1.label"}],"titleKey":"events.landlord_tenant_issue.title","descriptionKey":"events.landlord_tenant_issue.description"},{"id":"landlord_eviction","category":"LEGAL","art":null,"tags":["landlord","chain"],"cooldown":12,"choices":[{"effects":{"cashChange":-2000,"statChanges":{"stress":6},"messageKey":"events.landlord_eviction.choices.0.message"},"labelKey":"events.landlord_eviction.choices.0.label"},{"effects":{"cashChange":-1500,"statChanges":{"stress":3},"messageKey":"events.landlord_eviction.choices.1.message"},"labelKey":"events.landlord_eviction.choices.1.label"}],"titleKey":"events.landlord_eviction.title","descriptionKey":"events.landlord_eviction.description"},{"id":"insurance_discount","category":"ECONOMIC","art":null,"tags":["vehicle"],"cooldown":10,"choices":[{"effects":{"cashChange":300,"statChanges":{"stress":-2},"messageKey":"events.insurance_discount.choices.0.message"},"labelKey":"events.insurance_discount.choices.0.label"},{"effects":{"cashChange":0,"messageKey":"events.insurance_discount.choices.1.message"},"labelKey":"events.insurance_discount.choices.1.label"}],"titleKey":"events.insurance_discount.title","descriptionKey":"events.insurance_discount.description"},{"id":"career_cert_offer","category":"CAREER","art":null,"tags":["career"],"cooldown":14,"choices":[{"effects":{"cashChange":-1200,"statChanges":{"financialIQ":4,"stress":2},"messageKey":"events.career_cert_offer.choices.0.message"},"labelKey":"events.career_cert_offer.choices.0.label"},{"effects":{"cashChange":0,"messageKey":"events.career_cert_offer.choices.1.message"},"labelKey":"events.career_cert_offer.choices.1.label"}],"titleKey":"events.career_cert_offer.title","descriptionKey":"events.career_cert_offer.description"},{"id":"micro_grant","category":"WINDFALL","art":null,"tags":["windfall"],"cooldown":16,"choices":[{"effects":{"cashChange":1000,"statChanges":{"happiness":3},"messageKey":"events.micro_grant.choices.0.message"},"labelKey":"events.micro_grant.choices.0.label"}],"titleKey":"events.micro_grant.title","descriptionKey":"events.micro_grant.description"},{"id":"supply_chain_shock","category":"ECONOMIC","art":null,"tags":["market"],"cooldown":12,"choices":[{"effects":{"cashChange":-1500,"statChanges":{"stress":2},"messageKey":"events.supply_chain_shock.choices.0.message"},"labelKey":"events.supply_chain_shock.choices.0.label"},{"effects":{"cashChange":0,"statChanges":{"stress":1},"messageKey":"events.supply_chain_shock.choices.1.message"},"labelKey":"events.supply_chain_shock.choices.1.label"}],"titleKey":"events.supply_chain_shock.title","descriptionKey":"events.supply_chain_shock.description"},{"id":"alex_hackathon","category":"CAREER","art":null,"tags":["character","tech"],"characterIds":["alex"],"cooldown":12,"choices":[{"effects":{"cashChange":400,"statChanges":{"networking":4,"stress":4},"messageKey":"events.alex_hackathon.choices.0.message"},"labelKey":"events.alex_hackathon.choices.0.label"},{"effects":{"cashChange":0,"statChanges":{"stress":-3,"happiness":2},"messageKey":"events.alex_hackathon.choices.1.message"},"labelKey":"events.alex_hackathon.choices.1.label"}],"titleKey":"events.alex_hackathon.title","descriptionKey":"events.alex_hackathon.description"},{"id":"alex_open_source","category":"CAREER","art":null,"tags":["character","tech"],"characterIds":["alex"],"cooldown":12,"choices":[{"effects":{"cashChange":0,"statChanges":{"financialIQ":3,"networking":3},"messageKey":"events.alex_open_source.choices.0.message"},"labelKey":"events.alex_open_source.choices.0.label"},{"effects":{"cashChange":0,"statChanges":{"stress":-2},"messageKey":"events.alex_open_source.choices.1.message"},"labelKey":"events.alex_open_source.choices.1.label"}],"titleKey":"events.alex_open_source.title","descriptionKey":"events.alex_open_source.description"},{"id":"maria_shift_bonus","category":"CAREER","art":null,"tags":["character","healthcare"],"characterIds":["maria"],"cooldown":10,"choices":[{"effects":{"cashChange":600,"statChanges":{"stress":6,"health":-2},"messageKey":"events.maria_shift_bonus.choices.0.message"},"labelKey":"events.maria_shift_bonus.choices.0.label"},{"effects":{"cashChange":0,"statChanges":{"stress":-2,"health":2},"messageKey":"events.maria_shift_bonus.choices.1.message"},"labelKey":"events.maria_shift_bonus.choices.1.label"}],"titleKey":"events.maria_shift_bonus.title","descriptionKey":"events.maria_shift_bonus.description"},{"id":"maria_community_clinic","category":"CAREER","art":null,"tags":["character","healthcare"],"characterIds":["maria"],"cooldown":14,"choices":[{"effects":{"cashChange":200,"statChanges":{"fulfillment":6,"networking":2},"messageKey":"events.maria_community_clinic.choices.0.message"},"labelKey":"events.maria_community_clinic.choices.0.label"},{"effects":{"cashChange":0,"statChanges":{"stress":-2},"messageKey":"events.maria_community_clinic.choices.1.message"},"labelKey":"events.maria_community_clinic.choices.1.label"}],"titleKey":"events.maria_community_clinic.title","descriptionKey":"events.maria_community_clinic.description"},{"id":"james_client_review","category":"CAREER","art":null,"tags":["character","finance"],"characterIds":["james"],"cooldown":12,"choices":[{"effects":{"cashChange":300,"statChanges":{"networking":4,"stress":3},"messageKey":"events.james_client_review.choices.0.message"},"labelKey":"events.james_client_review.choices.0.label"},{"effects":{"cashChange":0,"statChanges":{"financialIQ":3,"stress":-2},"messageKey":"events.james_client_review.choices.1.message"},"labelKey":"events.james_client_review.choices.1.label"}],"titleKey":"events.james_client_review.title","descriptionKey":"events.james_client_review.description"},{"id":"james_model_edge","category":"CAREER","art":null,"tags":["character","finance"],"characterIds":["james"],"cooldown":14,"choices":[{"effects":{"cashChange":500,"statChanges":{"financialIQ":4,"stress":4},"messageKey":"events.james_model_edge.choices.0.message"},"labelKey":"events.james_model_edge.choices.0.label"},{"effects":{"cashChange":0,"statChanges":{"networking":2,"stress":-2},"messageKey":"events.james_model_edge.choices.1.message"},"labelKey":"events.james_model_edge.choices.1.label"}],"titleKey":"events.james_model_edge.title","descriptionKey":"events.james_model_edge.description"},{"id":"devon_brand_collab","category":"CAREER","art":null,"tags":["character","creative"],"characterIds":["devon"],"cooldown":12,"choices":[{"effects":{"cashChange":450,"statChanges":{"networking":4,"stress":3},"messageKey":"events.devon_brand_collab.choices.0.message"},"labelKey":"events.devon_brand_collab.choices.0.label"},{"effects":{"cashChange":0,"statChanges":{"happiness":3,"stress":-2},"messageKey":"events.devon_brand_collab.choices.1.message"},"labelKey":"events.devon_brand_collab.choices.1.label"}],"titleKey":"events.devon_brand_collab.title","descriptionKey":"events.devon_brand_collab.description"},{"id":"devon_portfolio_feature","category":"CAREER","art":null,"tags":["character","creative"],"characterIds":["devon"],"cooldown":14,"choices":[{"effects":{"cashChange":300,"statChanges":{"networking":5,"fulfillment":4},"messageKey":"events.devon_portfolio_feature.choices.0.message"},"labelKey":"events.devon_portfolio_feature.choices.0.label"},{"effects":{"cashChange":0,"statChanges":{"stress":-2},"messageKey":"events.devon_portfolio_feature.choices.1.message"},"labelKey":"events.devon_portfolio_feature.choices.1.label"}],"titleKey":"events.devon_portfolio_feature.title","descriptionKey":"events.devon_portfolio_feature.description"},{"id":"marcus_pitch_night","category":"CAREER","art":null,"tags":["character","entrepreneur","chain"],"characterIds":["marcus"],"cooldown":18,"choices":[{"effects":{"cashChange":500,"statChanges":{"networking":6,"stress":5},"followups":[{"id":"marcus_seed_terms","delayMonths":2}],"messageKey":"events.marcus_pitch_night.choices.0.message"},"labelKey":"events.marcus_pitch_night.choices.0.label"},{"effects":{"cashChange":0,"statChanges":{"stress":-3},"messageKey":"events.marcus_pitch_night.choices.1.message"},"labelKey":"events.marcus_pitch_night.choices.1.label"}],"titleKey":"events.marcus_pitch_night.title","descriptionKey":"events.marcus_pitch_night.description"},{"id":"marcus_seed_terms","category":"CAREER","art":null,"tags":["character","entrepreneur","chain"],"characterIds":["marcus"],"cooldown":18,"choices":[{"effects":{"cashChange":8000,"statChanges":{"fulfillment":6,"stress":6},"messageKey":"events.marcus_seed_terms.choices.0.message"},"labelKey":"events.marcus_seed_terms.choices.0.label"},{"effects":{"cashChange":3000,"statChanges":{"networking":4,"stress":3},"messageKey":"events.marcus_seed_terms.choices.1.message"},"labelKey":"events.marcus_seed_terms.choices.1.label"}],"titleKey":"events.marcus_seed_terms.title","descriptionKey":"events.marcus_seed_terms.description"},{"id":"sarah_trade_bid","category":"CAREER","art":null,"tags":["character","trades","chain"],"characterIds":["sarah"],"cooldown":18,"choices":[{"effects":{"cashChange":-500,"statChanges":{"networking":4,"stress":4},"followups":[{"id":"sarah_inspection","delayMonths":1}],"messageKey":"events.sarah_trade_bid.choices.0.message"},"labelKey":"events.sarah_trade_bid.choices.0.label"},{"effects":{"cashChange":150,"statChanges":{"stress":-2},"messageKey":"events.sarah_trade_bid.choices.1.message"},"labelKey":"events.sarah_trade_bid.choices.1.label"}],"titleKey":"events.sarah_trade_bid.title","descriptionKey":"events.sarah_trade_bid.description"},{"id":"sarah_inspection","category":"CAREER","art":null,"tags":["character","trades","chain"],"characterIds":["sarah"],"cooldown":18,"choices":[{"effects":{"cashChange":2500,"statChanges":{"fulfillment":5,"happiness":2},"messageKey":"events.sarah_inspection.choices.0.message"},"labelKey":"events.sarah_inspection.choices.0.label"},{"effects":{"cashChange":-600,"statChanges":{"stress":5},"messageKey":"events.sarah_inspection.choices.1.message"},"labelKey":"events.sarah_inspection.choices.1.label"}],"titleKey":"events.sarah_inspection.title","descriptionKey":"events.sarah_inspection.description"},{"id":"linda_pension_briefing","category":"CAREER","art":null,"tags":["character","government"],"characterIds":["linda"],"cooldown":16,"choices":[{"effects":{"cashChange":200,"statChanges":{"financialIQ":3,"stress":-2},"messageKey":"events.linda_pension_briefing.choices.0.message"},"labelKey":"events.linda_pension_briefing.choices.0.label"},{"effects":{"cashChange":0,"statChanges":{"stress":-2},"messageKey":"events.linda_pension_briefing.choices.1.message"},"labelKey":"events.linda_pension_briefing.choices.1.label"}],"titleKey":"events.linda_pension_briefing.title","descriptionKey":"events.linda_pension_briefing.description"},{"id":"linda_policy_committee","category":"CAREER","art":null,"tags":["character","government"],"characterIds":["linda"],"cooldown":18,"choices":[{"effects":{"cashChange":350,"statChanges":{"networking":4,"fulfillment":3},"messageKey":"events.linda_policy_committee.choices.0.message"},"labelKey":"events.linda_policy_committee.choices.0.label"},{"effects":{"cashChange":0,"statChanges":{"stress":-1},"messageKey":"events.linda_policy_committee.choices.1.message"},"labelKey":"events.linda_policy_committee.choices.1.label"}],"titleKey":"events.linda_policy_committee.title","descriptionKey":"events.linda_policy_committee.description"},{"id":"tyler_big_pitch","category":"CAREER","art":null,"tags":["character","sales"],"characterIds":["tyler"],"cooldown":12,"choices":[{"effects":{"cashChange":700,"statChanges":{"networking":5,"stress":4},"messageKey":"events.tyler_big_pitch.choices.0.message"},"labelKey":"events.tyler_big_pitch.choices.0.label"},{"effects":{"cashChange":0,"statChanges":{"stress":-2},"messageKey":"events.tyler_big_pitch.choices.1.message"},"labelKey":"events.tyler_big_pitch.choices.1.label"}],"titleKey":"events.tyler_big_pitch.title","descriptionKey":"events.tyler_big_pitch.description"},{"id":"tyler_pipeline_dip","category":"CAREER","art":null,"tags":["character","sales"],"characterIds":["tyler"],"cooldown":14,"choices":[{"effects":{"cashChange":-200,"statChanges":{"stress":4,"networking":3},"messageKey":"events.tyler_pipeline_dip.choices.0.message"},"labelKey":"events.tyler_pipeline_dip.choices.0.label"},{"effects":{"cashChange":0,"statChanges":{"stress":-2},"messageKey":"events.tyler_pipeline_dip.choices.1.message"},"labelKey":"events.tyler_pipeline_dip.choices.1.label"}],"titleKey":"events.tyler_pipeline_dip.title","descriptionKey":"events.tyler_pipeline_dip.description"}]'),Qe={EASY:{label:"üòä Easy",description:"Perfect for learning. Higher starting cash, better yields.",startingCash:15e3,salaryMultiplier:1.2,expenseMultiplier:.8,assetYieldBonus:.02,volatilityMultiplier:.7,eventFrequency:.7,aiDisruptionSpeed:.5},NORMAL:{label:"üòê Normal",description:"Balanced experience for most players.",startingCash:8e3,salaryMultiplier:1,expenseMultiplier:1,assetYieldBonus:0,volatilityMultiplier:1,eventFrequency:1,aiDisruptionSpeed:1},HARD:{label:"üò§ Hard",description:"Tighter margins. Requires careful planning.",startingCash:4e3,salaryMultiplier:.9,expenseMultiplier:1.15,assetYieldBonus:-.01,volatilityMultiplier:1.3,eventFrequency:1.3,aiDisruptionSpeed:1.5},EXPERT:{label:"üî• Expert",description:"For experienced players. Start with debt.",startingCash:2e3,startingDebt:8e3,salaryMultiplier:.85,expenseMultiplier:1.25,assetYieldBonus:-.02,volatilityMultiplier:1.5,eventFrequency:1.5,aiDisruptionSpeed:2},IMPOSSIBLE:{label:"üíÄ Impossible",description:"Maximum challenge. Good luck.",startingCash:500,startingDebt:2e4,salaryMultiplier:.75,expenseMultiplier:1.4,assetYieldBonus:-.03,volatilityMultiplier:2,eventFrequency:2,aiDisruptionSpeed:3}},Tn=1.1,Qd=t=>Math.ceil(t*Tn),Bn=[{id:"alex",name:"Alex Chen",backstory:"Software engineer at a startup. Good salary but no savings yet.",avatarEmoji:"üë®‚Äçüíª",avatarColor:"from-blue-500 to-cyan-500",careerPath:"TECH",startingBonus:{type:"cash",amount:2e3},traits:["Analytical","Tech-savvy"],perk:{id:"automation_edge",name:"Automation Edge",description:"Earn 5% more salary from workflow automation.",effects:{salaryMultiplier:1.05}}},{id:"maria",name:"Maria Santos",backstory:"Registered nurse with steady income and student loans.",avatarEmoji:"üë©‚Äç‚öïÔ∏è",avatarColor:"from-pink-500 to-rose-500",careerPath:"HEALTHCARE",startingBonus:{type:"cash",amount:-25e3},traits:["Caring","Resilient"],perk:{id:"resilient_care",name:"Resilient Care",description:"Medical event costs are 15% lower.",effects:{medicalCostMultiplier:.85}}},{id:"james",name:"James Wilson",backstory:"Junior financial analyst with dreams of Wall Street.",avatarEmoji:"üë®‚Äçüíº",avatarColor:"from-emerald-500 to-green-500",careerPath:"FINANCE",startingBonus:{type:"cash",amount:5e3},traits:["Ambitious","Numbers-driven"],perk:{id:"rate_savvy",name:"Rate Savvy",description:"Negotiations start with a +8% success edge.",effects:{negotiationBonus:.08}}},{id:"sarah",name:"Sarah Miller",backstory:"Licensed electrician. Skilled trade, no debt.",avatarEmoji:"üë∑‚Äç‚ôÄÔ∏è",avatarColor:"from-amber-500 to-yellow-500",careerPath:"TRADES",startingBonus:{type:"cash",amount:8e3},traits:["Practical","Independent"],perk:{id:"hands_on_fixer",name:"Hands-On Fixer",description:"Business maintenance costs are 15% lower.",effects:{businessMaintenanceCostMultiplier:.85}}},{id:"devon",name:"Devon Brooks",backstory:"Freelance graphic designer building a creative business.",avatarEmoji:"üé®",avatarColor:"from-purple-500 to-violet-500",careerPath:"CREATIVE",startingBonus:{type:"cash",amount:1e3},traits:["Creative","Adaptable"],perk:{id:"brand_builder",name:"Brand Builder",description:"Side hustle income is 6% higher.",effects:{sideHustleIncomeMultiplier:1.06}}},{id:"marcus",name:"Marcus Johnson",backstory:"Serial entrepreneur. High risk, high reward mentality.",avatarEmoji:"üöÄ",avatarColor:"from-orange-500 to-red-500",careerPath:"ENTREPRENEUR",startingBonus:{type:"cash",amount:-5e3},traits:["Risk-taker","Visionary"],perk:{id:"risk_operator",name:"Risk Operator",description:"Business income volatility is reduced by 10%.",effects:{businessVolatilityMultiplier:.9}}},{id:"linda",name:"Linda Park",backstory:"Government employee with pension and job security.",avatarEmoji:"üèõÔ∏è",avatarColor:"from-slate-500 to-gray-500",careerPath:"GOVERNMENT",startingBonus:{type:"cash",amount:6e3},traits:["Stable","Patient"],perk:{id:"stability_buffer",name:"Stability Buffer",description:"Recession salary penalty is reduced.",effects:{recessionSalaryMultiplier:.98}}},{id:"tyler",name:"Tyler Reed",backstory:"Sales rep with commission potential. Income varies wildly.",avatarEmoji:"üìä",avatarColor:"from-teal-500 to-cyan-500",careerPath:"SALES",startingBonus:{type:"cash",amount:3e3},traits:["Persuasive","Competitive"],perk:{id:"sales_momentum",name:"Sales Momentum",description:"Career salary growth is slightly faster.",effects:{salaryGrowthBonus:6e-4}}}],Ce={TECH:{name:"Technology",icon:"üíª",aiVulnerability:.4,futureProofScore:65,specialMechanic:"AI helps your work but may replace junior roles",levels:[{title:"Junior Developer",baseSalary:5500,experienceRequired:0},{title:"Developer",baseSalary:7500,experienceRequired:24},{title:"Senior Developer",baseSalary:1e4,experienceRequired:48},{title:"Staff Engineer",baseSalary:14e3,experienceRequired:84,educationRequired:"BACHELOR",educationCategory:"STEM"},{title:"Principal Engineer",baseSalary:18e3,experienceRequired:120},{title:"VP of Engineering",baseSalary:25e3,experienceRequired:180}]},FINANCE:{name:"Finance",icon:"üí∞",aiVulnerability:.6,futureProofScore:45,specialMechanic:"Robo-advisors are taking over retail finance",levels:[{title:"Financial Analyst",baseSalary:5e3,experienceRequired:0},{title:"Senior Analyst",baseSalary:7e3,experienceRequired:24},{title:"Finance Manager",baseSalary:9500,experienceRequired:48},{title:"Director",baseSalary:13e3,experienceRequired:84},{title:"VP of Finance",baseSalary:18e3,experienceRequired:120,educationRequired:"MBA",educationCategory:"BUSINESS"},{title:"CFO",baseSalary:3e4,experienceRequired:180}]},HEALTHCARE:{name:"Healthcare",icon:"üè•",aiVulnerability:.15,futureProofScore:95,specialMechanic:"Human care is irreplaceable. Very stable.",levels:[{title:"Medical Assistant",baseSalary:3e3,experienceRequired:0},{title:"Registered Nurse",baseSalary:5500,experienceRequired:24},{title:"Senior Nurse",baseSalary:7e3,experienceRequired:48},{title:"Nurse Practitioner",baseSalary:9500,experienceRequired:84,educationRequired:"MASTER",educationCategory:"HEALTHCARE"},{title:"Clinical Director",baseSalary:12e3,experienceRequired:120},{title:"Physician",baseSalary:22e3,experienceRequired:180,educationRequired:"MEDICAL",educationCategory:"HEALTHCARE"}]},TRADES:{name:"Skilled Trades",icon:"üîß",aiVulnerability:.1,futureProofScore:98,specialMechanic:"Robots cannot fix pipes or wire houses. Very safe.",levels:[{title:"Apprentice",baseSalary:3500,experienceRequired:0},{title:"Journeyman",baseSalary:5e3,experienceRequired:24},{title:"Licensed Tradesman",baseSalary:6500,experienceRequired:48},{title:"Master Tradesman",baseSalary:8500,experienceRequired:84},{title:"Contractor",baseSalary:11e3,experienceRequired:120},{title:"Business Owner",baseSalary:15e3,experienceRequired:180}]},CREATIVE:{name:"Creative",icon:"üé®",aiVulnerability:.5,futureProofScore:55,specialMechanic:"AI generates content but humans still curate",levels:[{title:"Junior Designer",baseSalary:3500,experienceRequired:0},{title:"Designer",baseSalary:5e3,experienceRequired:24},{title:"Senior Designer",baseSalary:7e3,experienceRequired:48},{title:"Art Director",baseSalary:9e3,experienceRequired:84},{title:"Creative Director",baseSalary:12e3,experienceRequired:120},{title:"Chief Creative Officer",baseSalary:18e3,experienceRequired:180}]},ENTREPRENEUR:{name:"Entrepreneur",icon:"üöÄ",aiVulnerability:.2,futureProofScore:85,specialMechanic:"AI is your workforce multiplier. High ceiling.",levels:[{title:"Startup Founder",baseSalary:2e3,experienceRequired:0},{title:"Small Business Owner",baseSalary:5e3,experienceRequired:24},{title:"Growing Business",baseSalary:8e3,experienceRequired:48},{title:"Established Business",baseSalary:12e3,experienceRequired:84},{title:"Multi-Business Owner",baseSalary:2e4,experienceRequired:120},{title:"Serial Entrepreneur",baseSalary:35e3,experienceRequired:180}]},GOVERNMENT:{name:"Government",icon:"üèõÔ∏è",aiVulnerability:.35,futureProofScore:70,specialMechanic:"Slow to change. Good benefits and pension.",levels:[{title:"Entry Clerk",baseSalary:3500,experienceRequired:0},{title:"Specialist",baseSalary:4500,experienceRequired:24},{title:"Senior Specialist",baseSalary:5500,experienceRequired:48},{title:"Supervisor",baseSalary:7e3,experienceRequired:84},{title:"Manager",baseSalary:8500,experienceRequired:120},{title:"Director",baseSalary:11e3,experienceRequired:180}]},SALES:{name:"Sales",icon:"üìà",aiVulnerability:.55,futureProofScore:50,specialMechanic:"Transactional sales automated. Relationship sales safe.",levels:[{title:"Sales Rep",baseSalary:3500,experienceRequired:0},{title:"Account Executive",baseSalary:5500,experienceRequired:24},{title:"Senior AE",baseSalary:8e3,experienceRequired:48},{title:"Sales Manager",baseSalary:1e4,experienceRequired:84},{title:"Regional Director",baseSalary:14e3,experienceRequired:120},{title:"VP of Sales",baseSalary:22e3,experienceRequired:180}]}},vt={FRUGAL:{cost:1500,happiness:-10,description:"Minimal spending. Roommates, rice & beans.",icon:"üèöÔ∏è"},MODEST:{cost:2500,happiness:0,description:"Basic apartment, cooking at home.",icon:"üè†"},COMFORTABLE:{cost:4e3,happiness:10,description:"Nice place, occasional dining out.",icon:"üè°"},AFFLUENT:{cost:6500,happiness:20,description:"Upscale living, travel, fine dining.",icon:"üè¢"},LUXURIOUS:{cost:12e3,happiness:25,description:"Premium everything. Live like royalty.",icon:"üè∞"}},Qa=[{id:"hysa",name:"High-Yield Savings",type:z.SAVINGS,price:1e3,expectedYield:.045,volatility:0,risk:"VERY_LOW",description:"FDIC insured savings account",educationalNote:"Start here! Safe and liquid.",industry:"banking"},{id:"cd",name:"12-Month CD",type:z.SAVINGS,price:5e3,expectedYield:.05,volatility:0,risk:"VERY_LOW",description:"Certificate of deposit, locked for 1 year",industry:"banking"},{id:"mma",name:"Money Market Account",type:z.SAVINGS,price:2500,expectedYield:.042,volatility:.01,risk:"VERY_LOW",description:"Higher yield than basic savings",industry:"banking"},{id:"tbill",name:"Treasury Bills",type:z.BOND,price:1e3,expectedYield:.05,volatility:.02,risk:"VERY_LOW",description:"US Government short-term debt",educationalNote:"Backed by US Government. Very safe.",industry:"government"},{id:"ibond",name:"I-Bonds",type:z.BOND,price:1e3,expectedYield:.055,volatility:.01,risk:"VERY_LOW",description:"Inflation-protected savings bonds",industry:"government"},{id:"corpbond",name:"Corporate Bond Fund",type:z.BOND,price:2e3,expectedYield:.065,volatility:.05,risk:"LOW",description:"Diversified corporate bonds",industry:"diversified"},{id:"muni",name:"Municipal Bonds",type:z.BOND,price:5e3,expectedYield:.04,volatility:.03,risk:"LOW",description:"Tax-advantaged local government bonds",industry:"government"},{id:"sp500",name:"S&P 500 Index",type:z.INDEX_FUND,price:500,expectedYield:.1,volatility:.15,risk:"MEDIUM",description:"Top 500 US companies",educationalNote:"Best long-term investment for most people.",industry:"diversified"},{id:"total",name:"Total Stock Market",type:z.INDEX_FUND,price:400,expectedYield:.095,volatility:.16,risk:"MEDIUM",description:"Entire US stock market",industry:"diversified"},{id:"intl",name:"International Index",type:z.INDEX_FUND,price:300,expectedYield:.08,volatility:.18,risk:"MEDIUM",description:"Non-US developed markets",industry:"international"},{id:"emerging",name:"Emerging Markets",type:z.INDEX_FUND,price:250,expectedYield:.11,volatility:.25,risk:"HIGH",description:"Developing economies",industry:"international"},{id:"reit",name:"REIT Index Fund",type:z.INDEX_FUND,price:500,expectedYield:.08,volatility:.18,risk:"MEDIUM",description:"Real estate investment trusts",industry:"real_estate"},{id:"techgiant",name:"Tech Giant Stock",type:z.STOCK,price:3500,expectedYield:.12,volatility:.25,risk:"HIGH",description:"Major technology company",industry:"technology"},{id:"dividend",name:"Dividend Aristocrat",type:z.STOCK,price:1500,expectedYield:.08,volatility:.12,risk:"MEDIUM",description:"25+ years of dividend growth",educationalNote:"Stable income from established companies.",industry:"diversified"},{id:"growth",name:"Growth Stock",type:z.STOCK,price:800,expectedYield:.15,volatility:.35,risk:"HIGH",description:"High-growth potential company",industry:"technology"},{id:"biotech",name:"Biotech Stock",type:z.STOCK,price:600,expectedYield:.18,volatility:.45,risk:"VERY_HIGH",description:"Cutting-edge medical research",industry:"healthcare"},{id:"energy",name:"Energy Stock",type:z.STOCK,price:1200,expectedYield:.09,volatility:.3,risk:"HIGH",description:"Oil & gas company",industry:"energy"},{id:"bank",name:"Bank Stock",type:z.STOCK,price:900,expectedYield:.07,volatility:.22,risk:"MEDIUM",description:"Major financial institution",industry:"banking"},{id:"bond_ladder_mid",name:"Bond Ladder (5-year)",type:z.BOND,price:8e3,expectedYield:.075,volatility:.04,risk:"LOW",tier:"MID",riskRating:"LOW",description:"Staggered bond maturities for steadier income",educationalNote:"Smooths interest rate risk.",industry:"diversified"},{id:"private_credit",name:"Private Credit Fund",type:z.BOND,price:15e3,expectedYield:.11,volatility:.08,risk:"HIGH",tier:"MID",riskRating:"HIGH",description:"Higher yield lending to mid-market firms",educationalNote:"Illiquid but strong cash flow.",industry:"diversified"},{id:"reit_lite",name:"REIT-lite Basket",type:z.INDEX_FUND,price:9e3,expectedYield:.085,volatility:.14,risk:"MEDIUM",tier:"MID",riskRating:"MEDIUM",description:"Smaller REIT bundle focused on rentals",industry:"real_estate"},{id:"dividend_etf",name:"Dividend ETF",type:z.INDEX_FUND,price:6e3,expectedYield:.075,volatility:.12,risk:"MEDIUM",tier:"MID",riskRating:"MEDIUM",description:"Income-focused equity fund",industry:"diversified"},{id:"fractional_rental",name:"Fractional Rental Share",type:z.REAL_ESTATE,price:2e4,expectedYield:.09,volatility:.1,risk:"MEDIUM",tier:"MID",riskRating:"MEDIUM",description:"Own part of a rental property portfolio",educationalNote:"Real estate cashflow without a mortgage.",industry:"real_estate"},{id:"micro_saas",name:"Micro-SaaS Revenue Share",type:z.BUSINESS,price:12e3,expectedYield:.14,volatility:.28,volatilityRange:{min:.2,max:.4},risk:"HIGH",tier:"MID",riskRating:"HIGH",description:"Revenue share in a niche software product",educationalNote:"Great upside, but churn risk.",industry:"technology"},{id:"community_solar",name:"Community Solar Share",type:z.BUSINESS,price:9e3,expectedYield:.1,volatility:.12,risk:"MEDIUM",tier:"MID",riskRating:"MEDIUM",description:"Small stake in a local solar array",industry:"energy"},{id:"farmland_share",name:"Farmland Share",type:z.COMMODITY,price:11e3,expectedYield:.07,volatility:.16,risk:"MEDIUM",tier:"MID",riskRating:"MEDIUM",description:"Income from crop leases and land appreciation",industry:"commodities"},{id:"angel_syndicate",name:"Angel Syndicate Access",type:z.BUSINESS,price:4e4,expectedYield:.13,volatility:.35,risk:"HIGH",tier:"ADVANCED",riskRating:"HIGH",description:"Access to early-stage startup deal flow",educationalNote:"Unlocked with an MBA or advanced business education.",industry:"technology",requiredEducationCategory:["BUSINESS"],requiredEducationLevel:"MBA"},{id:"medtech_royalty",name:"MedTech Royalty Stream",type:z.STOCK,price:28e3,expectedYield:.11,volatility:.22,risk:"MEDIUM",tier:"ADVANCED",riskRating:"MEDIUM",description:"Royalty participation in approved medical devices",educationalNote:"Unlocked with a healthcare master's level education.",industry:"healthcare",requiredEducationCategory:["HEALTHCARE"],requiredEducationLevel:"MASTER"},{id:"btc",name:"Bitcoin",type:z.CRYPTO,price:500,expectedYield:.2,volatility:.6,risk:"VERY_HIGH",description:"Digital gold",educationalNote:"Extremely volatile. Only invest what you can lose.",industry:"crypto"},{id:"eth",name:"Ethereum",type:z.CRYPTO,price:300,expectedYield:.25,volatility:.7,risk:"EXTREME",description:"Smart contract platform",industry:"crypto"},{id:"altcoin",name:"Altcoin Basket",type:z.CRYPTO,price:100,expectedYield:.3,volatility:.85,risk:"EXTREME",description:"Mix of alternative cryptos",industry:"crypto"},{id:"gold",name:"Gold ETF",type:z.COMMODITY,price:2e3,expectedYield:.04,volatility:.12,risk:"MEDIUM",description:"Physical gold exposure",educationalNote:"Hedge against inflation and uncertainty.",industry:"commodities"},{id:"silver",name:"Silver ETF",type:z.COMMODITY,price:500,expectedYield:.05,volatility:.2,risk:"MEDIUM",description:"Industrial and precious metal",industry:"commodities"},{id:"starter_home",name:"Starter Home",type:z.REAL_ESTATE,price:18e4,expectedYield:.06,volatility:.08,risk:"MEDIUM",description:"2BR/1BA starter home",educationalNote:"Build equity instead of paying rent.",industry:"real_estate",canMortgage:!0,mortgageOptions:["conventional_20","conventional_10","fha"]},{id:"condo",name:"Investment Condo",type:z.REAL_ESTATE,price:25e4,expectedYield:.07,volatility:.1,risk:"MEDIUM",description:"Rental condo in growing area",industry:"real_estate",canMortgage:!0,mortgageOptions:["conventional_20","investment_25","investment_20"]},{id:"duplex",name:"Duplex",type:z.REAL_ESTATE,price:35e4,expectedYield:.08,volatility:.1,risk:"MEDIUM",description:"House hack - live in one, rent the other",educationalNote:"Great way to start in real estate!",industry:"real_estate",canMortgage:!0,mortgageOptions:["conventional_20","fha","investment_25"]},{id:"sfh_rental",name:"Single Family Rental",type:z.REAL_ESTATE,price:28e4,expectedYield:.075,volatility:.09,risk:"MEDIUM",description:"Traditional rental property",industry:"real_estate",canMortgage:!0,mortgageOptions:["conventional_20","investment_25","investment_20"]},{id:"small_apt",name:"Small Apartment Building",type:z.REAL_ESTATE,price:8e5,expectedYield:.09,volatility:.12,risk:"HIGH",description:"6-unit apartment building",industry:"real_estate",canMortgage:!0,mortgageOptions:["investment_25","investment_20"]},{id:"commercial",name:"Commercial Property",type:z.REAL_ESTATE,price:12e5,expectedYield:.1,volatility:.15,risk:"HIGH",description:"Retail/office space",industry:"real_estate",canMortgage:!0,mortgageOptions:["investment_25"]},{id:"vending",name:"Vending Route",type:z.BUSINESS,price:15e3,expectedYield:.15,volatility:.2,risk:"MEDIUM",description:"10 vending machines",educationalNote:"Semi-passive income. Requires restocking.",industry:"retail"},{id:"laundromat",name:"Laundromat",type:z.BUSINESS,price:2e5,expectedYield:.18,volatility:.15,risk:"MEDIUM",description:"Self-service laundry facility",industry:"services"},{id:"carwash",name:"Car Wash",type:z.BUSINESS,price:35e4,expectedYield:.16,volatility:.18,risk:"HIGH",description:"Automated car wash business",industry:"services"},{id:"franchise",name:"Fast Food Franchise",type:z.BUSINESS,price:5e5,expectedYield:.14,volatility:.2,risk:"HIGH",description:"Established brand franchise",industry:"food"},{id:"ecommerce",name:"E-Commerce Store",type:z.BUSINESS,price:5e4,expectedYield:.25,volatility:.4,risk:"HIGH",description:"Online retail business",industry:"technology"},{id:"saas",name:"SaaS Startup",type:z.BUSINESS,price:1e5,expectedYield:.35,volatility:.5,risk:"VERY_HIGH",description:"Software as a service company",industry:"technology"}],zn=[{id:"conventional_20",name:"Conventional 20% Down",downPaymentPercent:20,interestRateSpread:0,termYears:30,description:"Best rates, no PMI",requirements:{netWorth:5e4}},{id:"conventional_10",name:"Conventional 10% Down",downPaymentPercent:10,interestRateSpread:.0025,termYears:30,description:"Lower down payment, PMI required",requirements:{netWorth:25e3}},{id:"fha",name:"FHA Loan (3.5% Down)",downPaymentPercent:3.5,interestRateSpread:.005,termYears:30,description:"Government-backed, first-time buyers"},{id:"investment_25",name:"Investment Property 25%",downPaymentPercent:25,interestRateSpread:.0075,termYears:30,description:"For rental properties",requirements:{netWorth:1e5,income:5e3}},{id:"investment_20",name:"Investment Property 20%",downPaymentPercent:20,interestRateSpread:.01,termYears:30,description:"Investment with lower down",requirements:{netWorth:75e3,income:4e3}}],Xe=[{id:"coding_bootcamp",name:"Coding Bootcamp",icon:"üíª",category:"STEM",level:"CERTIFICATE",cost:15e3,duration:6,salaryBoost:1.15,description:"Intensive programming training",relevantCareers:["TECH","ENTREPRENEUR"]},{id:"bs_cs",name:"BS Computer Science",icon:"üéì",category:"STEM",level:"BACHELOR",cost:8e4,duration:48,salaryBoost:1.45,description:"Four-year computer science degree",relevantCareers:["TECH","ENTREPRENEUR"]},{id:"ms_cs",name:"MS Computer Science",icon:"üéì",category:"STEM",level:"MASTER",cost:6e4,duration:24,salaryBoost:1.25,description:"Advanced CS degree",relevantCareers:["TECH"],requirements:["BACHELOR"]},{id:"bs_engineering",name:"BS Engineering",icon:"‚öôÔ∏è",category:"STEM",level:"BACHELOR",cost:9e4,duration:48,salaryBoost:1.4,description:"Engineering degree",relevantCareers:["TECH","TRADES","ENTREPRENEUR"]},{id:"data_science_cert",name:"Data Science Certificate",icon:"üìä",category:"STEM",level:"CERTIFICATE",cost:12e3,duration:6,salaryBoost:1.12,description:"Data analysis and ML basics",relevantCareers:["TECH","FINANCE"]},{id:"aiml_cert",name:"AI/ML Certificate",icon:"ü§ñ",category:"STEM",level:"CERTIFICATE",cost:18e3,duration:9,salaryBoost:1.18,description:"Artificial intelligence specialization",relevantCareers:["TECH"]},{id:"bs_business",name:"BS Business Admin",icon:"üìà",category:"BUSINESS",level:"BACHELOR",cost:6e4,duration:48,salaryBoost:1.3,description:"Business administration degree",relevantCareers:["FINANCE","SALES","ENTREPRENEUR","GOVERNMENT"]},{id:"bs_finance",name:"BS Finance",icon:"üí∞",category:"BUSINESS",level:"BACHELOR",cost:7e4,duration:48,salaryBoost:1.35,description:"Finance degree",relevantCareers:["FINANCE","ENTREPRENEUR"]},{id:"mba",name:"MBA",icon:"üéØ",category:"BUSINESS",level:"MBA",cost:12e4,duration:24,salaryBoost:1.75,description:"Master of Business Administration",relevantCareers:["FINANCE","SALES","ENTREPRENEUR","TECH","GOVERNMENT"],requirements:["BACHELOR"]},{id:"cfa",name:"CFA Certification",icon:"üìú",category:"BUSINESS",level:"CERTIFICATE",cost:8e3,duration:18,salaryBoost:1.2,description:"Chartered Financial Analyst",relevantCareers:["FINANCE"]},{id:"med_assistant",name:"Medical Assistant Cert",icon:"ü©∫",category:"HEALTHCARE",level:"CERTIFICATE",cost:8e3,duration:12,salaryBoost:1.1,description:"Entry-level healthcare",relevantCareers:["HEALTHCARE"]},{id:"adn",name:"Associate Nursing",icon:"üë©‚Äç‚öïÔ∏è",category:"HEALTHCARE",level:"ASSOCIATE",cost:25e3,duration:24,salaryBoost:1.25,description:"RN qualification",relevantCareers:["HEALTHCARE"]},{id:"bsn",name:"BSN Nursing",icon:"üè•",category:"HEALTHCARE",level:"BACHELOR",cost:8e4,duration:48,salaryBoost:1.4,description:"Bachelor of Science in Nursing",relevantCareers:["HEALTHCARE"]},{id:"md",name:"Medical Degree (MD)",icon:"‚öïÔ∏è",category:"HEALTHCARE",level:"MEDICAL",cost:3e5,duration:96,salaryBoost:3,description:"Become a physician",relevantCareers:["HEALTHCARE"],requirements:["BACHELOR"]},{id:"hvac_cert",name:"HVAC Certification",icon:"‚ùÑÔ∏è",category:"TRADES",level:"CERTIFICATE",cost:5e3,duration:6,salaryBoost:1.15,description:"Heating and cooling systems",relevantCareers:["TRADES"]},{id:"electrician",name:"Electrician Apprenticeship",icon:"‚ö°",category:"TRADES",level:"CERTIFICATE",cost:3e3,duration:12,salaryBoost:1.2,description:"Licensed electrician training",relevantCareers:["TRADES"]},{id:"plumbing",name:"Plumbing License",icon:"üîß",category:"TRADES",level:"CERTIFICATE",cost:4e3,duration:12,salaryBoost:1.18,description:"Licensed plumber training",relevantCareers:["TRADES"]},{id:"contractor",name:"General Contractor License",icon:"üèóÔ∏è",category:"TRADES",level:"CERTIFICATE",cost:8e3,duration:6,salaryBoost:1.3,description:"Run your own contracting business",relevantCareers:["TRADES","ENTREPRENEUR"],requirements:["CERTIFICATE"]},{id:"graphic_design",name:"Graphic Design Cert",icon:"üé®",category:"CREATIVE",level:"CERTIFICATE",cost:1e4,duration:6,salaryBoost:1.12,description:"Visual design fundamentals",relevantCareers:["CREATIVE"]},{id:"ba_design",name:"BA Design",icon:"‚úèÔ∏è",category:"CREATIVE",level:"BACHELOR",cost:7e4,duration:48,salaryBoost:1.3,description:"Design degree",relevantCareers:["CREATIVE"]},{id:"mfa",name:"MFA Fine Arts",icon:"üñºÔ∏è",category:"CREATIVE",level:"MASTER",cost:8e4,duration:24,salaryBoost:1.2,description:"Master of Fine Arts",relevantCareers:["CREATIVE"],requirements:["BACHELOR"]},{id:"ba_psychology",name:"BA Psychology",icon:"üß†",category:"LIBERAL_ARTS",level:"BACHELOR",cost:55e3,duration:48,salaryBoost:1.1,description:"Psychology degree",relevantCareers:["HEALTHCARE","GOVERNMENT"]},{id:"ba_english",name:"BA English",icon:"üìö",category:"LIBERAL_ARTS",level:"BACHELOR",cost:5e4,duration:48,salaryBoost:1.05,description:"English degree",relevantCareers:["CREATIVE"]},{id:"jd",name:"Law Degree (JD)",icon:"‚öñÔ∏è",category:"LAW",level:"LAW",cost:18e4,duration:36,salaryBoost:1.8,description:"Juris Doctor degree",relevantCareers:["GOVERNMENT","FINANCE","ENTREPRENEUR"],requirements:["BACHELOR"]}],Rl=[{id:"rideshare",name:"Rideshare Driver",icon:"üöó",description:"Drive for Uber/Lyft",incomeRange:{min:800,max:2e3},hoursPerWeek:15,startupCost:0,energyCost:15,stressIncrease:10,aiVulnerability:.7},{id:"delivery",name:"Food Delivery",icon:"üçî",description:"DoorDash, UberEats, etc.",incomeRange:{min:600,max:1500},hoursPerWeek:12,startupCost:0,energyCost:12,stressIncrease:8,aiVulnerability:.6},{id:"freelance_writing",name:"Freelance Writing",icon:"‚úçÔ∏è",description:"Content writing and copywriting",incomeRange:{min:500,max:3e3},hoursPerWeek:10,startupCost:0,energyCost:10,stressIncrease:12,aiVulnerability:.8},{id:"freelance_dev",name:"Freelance Web Dev",icon:"üíª",description:"Build websites and apps",incomeRange:{min:1500,max:5e3},hoursPerWeek:15,startupCost:500,energyCost:15,stressIncrease:15,aiVulnerability:.5,requiredEducation:["STEM"],milestones:[{monthsRequired:3,options:[{id:"AUTOMATE",label:"Automate delivery",description:"Templates, scripts, and AI tooling reduce your workload.",cost:1200,effects:{energyMultiplier:.75,stressMultiplier:.9,incomeMultiplier:1.05}},{id:"HIRE_HELP",label:"Hire a VA",description:"Delegate admin work; some income becomes passive.",cost:2e3,effects:{incomeMultiplier:.9,passiveIncomeShare:.35}},{id:"MANUAL",label:"Stay hands-on",description:"Keep it manual for higher active income.",cost:0,effects:{incomeMultiplier:1.15}}]},{monthsRequired:6,options:[{id:"AUTOMATE",label:"Productized pipeline",description:"Standardize delivery with strong systems.",cost:3200,effects:{energyMultiplier:.65,stressMultiplier:.85,incomeMultiplier:1.08}},{id:"HIRE_HELP",label:"Hire a contractor",description:"Offload delivery; more income becomes passive.",cost:6500,effects:{incomeMultiplier:.9,passiveIncomeShare:.55}},{id:"MANUAL",label:"Stay boutique",description:"Charge premium rates and do the work yourself.",cost:0,effects:{incomeMultiplier:1.2,stressMultiplier:1.05}}]}]},{id:"tutoring",name:"Online Tutoring",icon:"üìñ",description:"Teach students online",incomeRange:{min:800,max:2500},hoursPerWeek:10,startupCost:0,energyCost:8,stressIncrease:5,aiVulnerability:.4},{id:"handyman",name:"Handyman Services",icon:"üî®",description:"Home repairs and fixes",incomeRange:{min:1e3,max:3e3},hoursPerWeek:12,startupCost:500,energyCost:18,stressIncrease:8,aiVulnerability:.05},{id:"photography",name:"Event Photography",icon:"üì∏",description:"Weddings and events",incomeRange:{min:1e3,max:4e3},hoursPerWeek:8,startupCost:2e3,energyCost:10,stressIncrease:12,aiVulnerability:.3},{id:"consulting",name:"Business Consulting",icon:"üíº",description:"Advise small businesses",incomeRange:{min:2e3,max:8e3},hoursPerWeek:10,startupCost:0,energyCost:12,stressIncrease:15,aiVulnerability:.35,requiredEducation:["BUSINESS"]},{id:"exec_coaching",name:"Executive Coaching",icon:"üß≠",description:"Coach teams and founders",incomeRange:{min:3e3,max:9e3},hoursPerWeek:8,startupCost:500,energyCost:10,stressIncrease:12,aiVulnerability:.25,requiredCareerLevel:4},{id:"ecommerce",name:"E-Commerce Store",icon:"üõí",description:"Sell products online",incomeRange:{min:200,max:5e3},hoursPerWeek:15,startupCost:1e3,energyCost:12,stressIncrease:18,aiVulnerability:.25,milestones:[{monthsRequired:3,options:[{id:"AUTOMATE",label:"Automate ops",description:"Order automation reduces your time cost.",cost:800,effects:{energyMultiplier:.8,stressMultiplier:.9,incomeMultiplier:1.03}},{id:"HIRE_HELP",label:"Hire fulfillment help",description:"Delegate packing; some income turns passive.",cost:1500,effects:{incomeMultiplier:.92,passiveIncomeShare:.3}},{id:"MANUAL",label:"Stay manual",description:"More hands-on effort, higher active income.",cost:0,effects:{incomeMultiplier:1.12}}]},{monthsRequired:6,options:[{id:"AUTOMATE",label:"Marketing automation",description:"Optimized ads and funnels reduce time cost.",cost:2600,effects:{energyMultiplier:.7,stressMultiplier:.85,incomeMultiplier:1.06}},{id:"HIRE_HELP",label:"Outsource fulfillment",description:"Partner with a 3PL for passive-heavy income.",cost:4800,effects:{incomeMultiplier:.9,passiveIncomeShare:.55}},{id:"MANUAL",label:"Stay hands-on",description:"Higher margin from direct involvement.",cost:0,effects:{incomeMultiplier:1.2,stressMultiplier:1.05}}]}]},{id:"content",name:"Content Creator",icon:"üé¨",description:"YouTube, TikTok, streaming",incomeRange:{min:0,max:1e4},hoursPerWeek:20,startupCost:1500,energyCost:18,stressIncrease:20,aiVulnerability:.2},{id:"petsitting",name:"Pet Sitting/Walking",icon:"üêï",description:"Care for pets",incomeRange:{min:500,max:2e3},hoursPerWeek:10,startupCost:0,energyCost:10,stressIncrease:3,aiVulnerability:.02},{id:"real_estate_agent",name:"Part-Time Real Estate",icon:"üè†",description:"Help people buy/sell homes",incomeRange:{min:0,max:8e3},hoursPerWeek:15,startupCost:2e3,energyCost:15,stressIncrease:18,aiVulnerability:.45}],Vd={TECH:{vulnerability:.4,futureProofScore:65,phases:[{year:2025,impact:1,message:"AI assists coding"},{year:2027,impact:.95,message:"Junior roles shrinking"},{year:2030,impact:.85,message:"AI handles routine development"},{year:2035,impact:.75,message:"Only senior/architect roles safe"}],adaptations:["Learn AI/ML","Focus on architecture","Move to management"]},FINANCE:{vulnerability:.6,futureProofScore:45,phases:[{year:2025,impact:.95,message:"AI assists analysis"},{year:2028,impact:.75,message:"Robo-advisors dominate retail"},{year:2032,impact:.55,message:"AI handles most trading"},{year:2035,impact:.4,message:"Only relationship roles remain"}],adaptations:["Focus on relationships","Move to private wealth","Learn fintech"]},HEALTHCARE:{vulnerability:.15,futureProofScore:95,phases:[{year:2025,impact:1,message:"AI assists diagnostics"},{year:2030,impact:1.05,message:"Demand increases"},{year:2035,impact:1.1,message:"Human care premium"}],adaptations:["Specialize","Move to administration","Telemedicine"]},TRADES:{vulnerability:.1,futureProofScore:98,phases:[{year:2025,impact:1,message:"Robots cant fix pipes"},{year:2030,impact:1.1,message:"Shortage drives wages up"},{year:2035,impact:1.2,message:"Essential workers premium"}],adaptations:["Get licensed","Start own business","Specialize in smart home"]},CREATIVE:{vulnerability:.5,futureProofScore:55,phases:[{year:2025,impact:.9,message:"AI generates content"},{year:2028,impact:.75,message:"Commoditization of design"},{year:2032,impact:.6,message:"Only human creativity valued"}],adaptations:["Focus on strategy","Build personal brand","Learn AI tools"]},ENTREPRENEUR:{vulnerability:.2,futureProofScore:85,phases:[{year:2025,impact:1,message:"AI multiplies productivity"},{year:2028,impact:1.1,message:"Smaller teams, bigger output"},{year:2032,impact:1.2,message:"One-person unicorns possible"}],adaptations:["Leverage AI tools","Focus on unique value","Build AI-native businesses"]},GOVERNMENT:{vulnerability:.35,futureProofScore:70,phases:[{year:2025,impact:1,message:"Slow to change"},{year:2030,impact:.95,message:"Some automation of admin"},{year:2035,impact:.85,message:"Efficiency mandates hit"}],adaptations:["Move to policy roles","Tech modernization","Public-private bridge"]},SALES:{vulnerability:.55,futureProofScore:50,phases:[{year:2025,impact:.95,message:"AI handles lead gen"},{year:2028,impact:.8,message:"Transactional sales automated"},{year:2032,impact:.6,message:"Only complex B2B safe"}],adaptations:["Move to enterprise sales","Focus on relationships","Learn consultative selling"]}},Kd=[{id:"annual_taxes",image:"/event-images/annual_taxes.webp",title:"üìã Tax Season: The Reckoning",description:"April 15th approaches. The IRS is waiting. Your receipts are... somewhere. Maybe in that shoebox?",category:"TAX",isRecurring:!0,weight:100,options:[{label:"Pay in full like a responsible adult üí≥",outcome:{cashChange:-1,message:"Taxes paid! The IRS sends their regards. (Just kidding, they never send anything nice.)",statChanges:{stress:-5}}},{label:"Payment plan (+10% penalty) üìÖ",outcome:{cashChange:-1,message:"Payment plan approved! You and the IRS are now on monthly talking terms.",statChanges:{stress:5}}}],conditions:{minMonth:4}},{id:"tax_audit",image:"/event-images/tax_audit.webp",title:"üîç The IRS Would Like a Word",description:`Congratulations! You've been "randomly" selected for an audit. Your search history for "is X tax deductible" did NOT go unnoticed.`,category:"TAX",weight:5,options:[{label:"Hire a professional ($2,000) üßë‚Äçüíº",outcome:{cashChange:-2e3,message:"Your accountant speaks fluent IRS. Crisis averted. They also judged your receipts organization system.",statChanges:{stress:10}}},{label:"DIY: How hard can it be? ü§∑",outcome:{cashChange:-5e3,message:'Turns out, pretty hard. The IRS found "creative interpretations" of tax law. Penalties applied.',statChanges:{stress:25,financialIQ:5}}}],conditions:{minMonth:24,minNetWorth:5e4}},{id:"fender_bender_lawsuit",title:"‚öñÔ∏è Surprise! You're Being Sued!",description:'Remember that minor fender bender? The other driver now has "chronic pain" and a lawyer cousin. Cool.',image:"/event-images/fender_bender_lawsuit.webp",category:"LEGAL",weight:8,options:[{label:"Settle for $5K to make it go away üí∞",outcome:{cashChange:-5e3,message:'Settled. Their "chronic pain" was miraculously cured the moment the check cleared.',statChanges:{stress:10}}},{label:"See you in court! ‚öîÔ∏è",outcome:{cashChange:-8e3,message:"You won! Justice prevailed! Legal fees... did not care about justice.",statChanges:{stress:20,happiness:5}}},{label:"Let insurance deal with it üìã",outcome:{cashChange:-1e3,message:"Insurance handled it. Your premiums are now higher. They remember. They always remember.",statChanges:{stress:5}}}],conditions:{minMonth:12,requiresVehicle:!0}},{id:"contract_dispute",image:"/event-images/contract_dispute.webp",title:"üìú Blast from the Past",description:"Remember that guy from 3 years ago? Neither do you. But he has paperwork. And lawyers.",category:"LEGAL",weight:6,options:[{label:"Hire lawyer and fight ($10,000)",outcome:{cashChange:-1e4,message:"Case dismissed. Reputation intact.",statChanges:{stress:15,networking:5}}},{label:"Settle for $15,000",outcome:{cashChange:-15e3,message:"Paid to make it go away.",statChanges:{stress:10}}},{label:"Ignore it",outcome:{cashChange:-25e3,message:"Default judgment against you.",statChanges:{stress:30,networking:-10}}}],conditions:{minMonth:36,careers:["ENTREPRENEUR","SALES"]}},{id:"property_dispute",image:"/event-images/property_dispute.webp",title:"üè† Property Line Dispute",description:"Your neighbor claims your fence is on their property and is threatening legal action.",category:"LEGAL",weight:5,options:[{label:"Get survey and settle ($3,000)",outcome:{cashChange:-3e3,message:"Survey resolved the dispute.",statChanges:{stress:5}}},{label:"Move the fence ($1,500)",outcome:{cashChange:-1500,message:"Moved fence to avoid conflict.",statChanges:{stress:3,happiness:-5}}}],conditions:{minNetWorth:1e5}},{id:"parent_illness",image:"/event-images/parent_illness.webp",title:"üè• Parent Hospitalized",description:"Your parent had a health scare. They're okay but the hospital bill looks like a phone number. With a country code.",category:"FAMILY_EMERGENCY",weight:12,options:[{label:"Cover the bills ($8,000) üíù",outcome:{cashChange:-8e3,message:"Mom is recovering and already asking when you're getting married. Some things never change.",statChanges:{happiness:10,stress:15,fulfillment:15}}},{label:"Help what you can ($4,000) ü§ù",outcome:{cashChange:-4e3,message:'Partial help provided. Dad said "thanks" which is basically a declaration of love from him.',statChanges:{happiness:5,stress:10,fulfillment:5}}},{label:"Can't afford it right now üòî",outcome:{cashChange:0,message:"Guilt hits different at 3am. Your therapy bills may increase.",statChanges:{happiness:-15,stress:20,fulfillment:-10}}}],conditions:{minMonth:24}},{id:"sibling_trouble",image:"/event-images/sibling_trouble.webp",title:"üë®‚Äçüë©‚Äçüëß Sibling SOS",description:"Your sibling lost their job and is about to be evicted. They promise to pay you back. They also promised to return your hoodie in 2016.",category:"FAMILY_EMERGENCY",weight:10,options:[{label:"Loan them $5,000 üí∏",outcome:{cashChange:-5e3,message:"Family first! They'll totally pay you back. (Narrator: They would not pay them back. At least not for a while.)",statChanges:{fulfillment:10,happiness:5}}},{label:"Gift $2,000 (realistic expectations) üéÅ",outcome:{cashChange:-2e3,message:"Called it a gift. No awkward Thanksgiving conversations about repayment. Big brain move.",statChanges:{fulfillment:5,financialIQ:5}}},{label:"Can't do it. Sorry. üôÅ",outcome:{cashChange:0,message:"They're disappointed. Christmas dinner will be... interesting this year.",statChanges:{happiness:-5,stress:10}}}],conditions:{minMonth:18}},{id:"funeral",image:"/event-images/funeral.webp",title:"‚ö∞Ô∏è Family Funeral",description:"A family member passed away. Time to travel, grieve, and explain to distant relatives why you're still not married.",category:"FAMILY_EMERGENCY",weight:8,options:[{label:"Cover full costs ($6,000) üïäÔ∏è",outcome:{cashChange:-6e3,message:"Honored their memory. Uncle Jerry still cornered you about his MLM business at the wake though.",statChanges:{happiness:-10,fulfillment:15,stress:15}}},{label:"Contribute what you can ($2,000) ü§ù",outcome:{cashChange:-2e3,message:"Family pooled resources. Someone made a spreadsheet. Of course someone made a spreadsheet.",statChanges:{happiness:-10,fulfillment:5,stress:10}}}],conditions:{minMonth:12}},{id:"appendicitis",image:"/event-images/appendicitis.webp",title:"üöë Surprise! Your Organs Hate You!",description:"Your appendix decided to self-destruct. Very dramatic. Zero warning. Now you have a fun hospital story!",category:"MEDICAL",weight:8,options:[{label:"Use insurance ($3,000 deductible) üè•",outcome:{cashChange:-3e3,message:"Surgery successful! You now have a cool scar and 2 weeks of guilt-free Netflix binging.",statChanges:{health:-10,energy:-20,stress:15}}},{label:"No insurance - pay full ($25,000) üíÄ",outcome:{cashChange:-25e3,message:"Surgery successful! Your bank account, however, did not survive. RIP savings.",statChanges:{health:-10,energy:-20,stress:30},addLiability:{name:"Medical Debt",balance:25e3,originalBalance:25e3,interestRate:.08,monthlyPayment:500,type:"MEDICAL_DEBT"}}}],conditions:{minMonth:6}},{id:"sports_injury",image:"/event-images/sports_injury.webp",title:"ü§ï Your Body Has Betrayed You",description:`You said "I'm not as young as I used to be" but your brain disagreed. Torn ACL at the company softball game. Worth it? No.`,category:"MEDICAL",weight:6,options:[{label:"Get surgery ($5,000 after insurance) üè•",outcome:{cashChange:-5e3,message:"Surgery scheduled. You now have a legitimate excuse to skip sports forever. Silver lining!",statChanges:{health:-15,energy:-25,stress:10}}},{label:"Physical therapy only ($2,000) üí™",outcome:{cashChange:-2e3,message:"Managing with PT. Your knee now predicts rain. You're basically a wizard.",statChanges:{health:-25,energy:-10,stress:5}}}],conditions:{minMonth:12}},{id:"dental_emergency",title:"ü¶∑ Dental Disaster!",description:'You bit into a "soft" granola bar and your tooth said "peace out." The crunch was NOT the granola. Now you look like a hockey player.',category:"MEDICAL",weight:7,image:"/event-dental.png",options:[{label:"Get the crown ($2,500) üëë",outcome:{cashChange:-2500,message:'Your dentist is now driving a new BMW. He named it after you. "Thanks for the down payment!"',statChanges:{health:5,stress:5,happiness:5}}},{label:"Just yank it ($500) üîß",outcome:{cashChange:-500,message:"The dentist had a little too much fun with those pliers. Your Tinder profile just got... interesting.",statChanges:{health:-5,happiness:-10}}},{label:"Super glue it yourself ($5) ü§°",outcome:{cashChange:-5,message:"It worked! For 3 hours. Then it didn't. You're now eating soup for a week. Worth it? Debatable.",statChanges:{health:-15,happiness:-15,stress:10,financialIQ:-5}}}],conditions:{minMonth:12,maxOccurrences:2}},{id:"wisdom_teeth",title:"ü¶∑ Wisdom Teeth Rebellion",description:"Your wisdom teeth have decided to throw a party and everyone's invited... except your jaw. And your sleep. And your will to live.",category:"MEDICAL",weight:5,image:"/event-dental.png",options:[{label:"Remove all four ($3,000) üè•",outcome:{cashChange:-3e3,message:"You now look like a chipmunk storing nuts for winter. Your friends have MANY jokes. So many jokes.",statChanges:{health:10,stress:10}}},{label:"Just the painful ones ($1,500) üíâ",outcome:{cashChange:-1500,message:"Saved money now, but those other teeth are plotting revenge... you can feel them judging you.",statChanges:{health:5,stress:5}}},{label:"Pain meds and prayers ($50) üôè",outcome:{cashChange:-50,message:`You've mastered the art of chewing on one side. Your jaw is now lopsided. You tell people it's "character."`,statChanges:{health:-10,stress:15,happiness:-5}}}],conditions:{minMonth:6,maxOccurrences:1}},{id:"root_canal",title:"ü¶∑ Root Canal Time!",description:"That tooth you've been ignoring? It's no longer ignoring you. The pain has achieved consciousness.",category:"MEDICAL",weight:5,image:"/event-dental.png",options:[{label:"Root canal + crown ($3,500) üò¨",outcome:{cashChange:-3500,message:"Three hours in the chair. You now know your dentist's entire life story. His divorce was messy.",statChanges:{health:10,stress:15,happiness:5}}},{label:"Just pull it ($600) ü¶∑",outcome:{cashChange:-600,message:"Gone forever. You raise a glass (carefully) to your fallen soldier. RIP, molar.",statChanges:{health:0,happiness:-5}}},{label:"More ibuprofen. It'll be fine. üíä",outcome:{cashChange:-20,message:"Spoiler: it will not be fine. You'll be back. They always come back.",statChanges:{health:-10,stress:10}}}],conditions:{minMonth:24,maxOccurrences:1}},{id:"mental_health_crisis",image:"/event-images/mental_health_crisis.webp",title:"üß† The Burnout is Real",description:"Your brain has filed a formal complaint. The Sunday Scaries are now the Every-Day Scaries. Time to address this.",category:"MEDICAL",weight:15,isRecurring:!0,options:[{label:"Start therapy ($300/mo) üõãÔ∏è",outcome:{cashChange:-900,message:"Your therapist is great. You now have coping mechanisms AND someone who has to listen to your rants. Win-win!",statChanges:{happiness:15,stress:-20,energy:10}}},{label:"Take a break (2 weeks unpaid) üèñÔ∏è",outcome:{cashChange:-1,message:"You watched an entire TV series. Slept. Actually SLEPT. You forgot what that felt like. Revolutionary.",statChanges:{happiness:10,stress:-30,energy:25}}},{label:"Just push through üí™",outcome:{cashChange:0,message:"You said you're fine. You're not fine. The twitch in your eye has entered the chat.",statChanges:{happiness:-15,stress:20,health:-10,energy:-15}}}],conditions:{minMonth:18}},{id:"recession_starts",title:"üìâ It's Happening!",description:"The economy has officially entered a recession. Markets are down 25%. Your coworker who only talks about crypto is suspiciously quiet.",image:"/event-images/recession_starts.webp",category:"ECONOMIC",weight:8,options:[{label:"Stay the course üíé",outcome:{cashChange:0,message:`Holding steady! Your financial advisor says "long-term perspective." You say "I'm panicking internally."`,statChanges:{stress:15,financialIQ:5}}},{label:"Panic sell everything üìâ",outcome:{cashChange:0,message:"Sold at the bottom. You'll see memes about people like you in 3 years. Congrats.",statChanges:{stress:25,financialIQ:-5}}},{label:"BUY THE DIP! üöÄ",outcome:{cashChange:-5e3,message:"Either future you will thank present you, or future you will write a cautionary blog post. Time will tell!",statChanges:{stress:10,financialIQ:10}}}],conditions:{minMonth:24}},{id:"layoff_wave",image:"/event-images/layoff_wave.webp",title:"üè¢ The Chopping Block",description:'Your company is laying off 20% of staff. HR sent a "we need to talk" meeting invite. For 4pm Friday. Ominous.',category:"ECONOMIC",weight:12,options:[{label:"Work 80-hour weeks üí™",outcome:{cashChange:0,message:"Survived! You now have a nervous twitch and a coffee dependency that could concern doctors. Worth it?",statChanges:{stress:25,energy:-20,happiness:5}}},{label:"Update LinkedIn at 2am üîç",outcome:{cashChange:0,message:"Found a new job! Your boss's face when you resigned was... interesting. Very satisfying.",statChanges:{stress:15,networking:10}}},{label:"Vibes. Just vibes. üßò",outcome:{cashChange:0,message:"Somehow survived. You don't know how. Nobody knows how. You might be unkillable.",statChanges:{stress:20,happiness:5}}}],conditions:{minMonth:12}},{id:"job_loss",image:"/event-images/layoff_wave.webp",title:"üìé Position Eliminated",description:"It's official: your role was eliminated. No salary income for the next 4 months. This is why emergency funds exist.",category:"ECONOMIC",weight:7,options:[{label:"Accept severance (2 weeks pay) + file for unemployment üßæ",outcome:{jobLossMonths:4,cashChangeSalaryMonths:.5,message:"You were laid off. You got a small severance and filed the paperwork. Your salary will be $0 for 4 months ‚Äî protect your runway.",statChanges:{stress:18,happiness:-12,energy:-6}}},{label:"Negotiate a better severance package ü§ù",outcome:{jobLossMonths:4,cashChangeSalaryMonths:1,message:"You negotiated a better severance. Your salary will be $0 for 4 months ‚Äî keep expenses tight and avoid new debt if you can.",statChanges:{stress:22,happiness:-8,networking:6}}},{label:"Start gig work immediately to bridge the gap ‚òï",outcome:{jobLossMonths:4,cashChange:1200,message:"You picked up short-term gigs (+$1,200). Your main salary will still be $0 for 4 months ‚Äî build (or preserve) your emergency fund.",statChanges:{stress:12,energy:-12,happiness:-6}}}],conditions:{minMonth:12,maxOccurrences:2}},{id:"inflation_spike",image:"/event-images/inflation_spike.webp",title:"üí∏ Everything is Expensive Now",description:"Inflation hit 8%. Your grocery bill looks like a mortgage payment. An avocado costs $4. AN AVOCADO.",category:"ECONOMIC",weight:8,options:[{label:"Rice and beans lifestyle ü´ò",outcome:{cashChange:0,message:"Your meal prep game is now legendary. Your Instagram is just pictures of rice.",statChanges:{happiness:-5,stress:5}}},{label:"March into boss's office üíº",outcome:{cashChange:0,message:"Got a 5% raise! Still doesn't cover inflation but... moral victory?",statChanges:{happiness:5,stress:5}}},{label:"Credit cards go brrrr üí≥",outcome:{cashChange:0,message:"Future you is going to have FEELINGS about this decision.",statChanges:{stress:15},addLiability:{name:"Credit Card",balance:5e3,originalBalance:5e3,interestRate:.22,monthlyPayment:200,type:"CREDIT_CARD"}}}],conditions:{minMonth:12}},{id:"market_crash",image:"/event-images/market_crash.webp",title:"üí• Markets Go BRRR (Downward)",description:"Stock market dropped 35%. Your portfolio looks like a crime scene. Financial news anchors are stress-sweating.",category:"ECONOMIC",weight:3,options:[{label:"Diamond hands! üíéüôå",outcome:{cashChange:0,message:"Didn't sell. Either you're a genius or you just forgot your password. Time will tell.",statChanges:{stress:20,financialIQ:10}}},{label:"Sell half, sleep better üò¥",outcome:{cashChange:0,message:"Reduced exposure. Your therapist is proud. Your portfolio... less so.",statChanges:{stress:15}}},{label:"BUY THE DIP! üìà",outcome:{cashChange:-1e4,message:"You either catch a falling knife or you catch a falling opportunity. Results pending.",statChanges:{stress:25,financialIQ:5}}}],conditions:{minMonth:48,minNetWorth:5e4}},{id:"housing_bubble",image:"/event-images/housing_bubble.webp",title:"üè† Housing Market Oopsie",description:"Real estate prices just fell 20%. Your home value dropped. Your Zillow refresh addiction isn't helping.",category:"ECONOMIC",weight:4,options:[{label:"It's fine. Everything is fine. üî•",outcome:{cashChange:0,message:"Long-term holder energy. You can't lose if you never sell, right? RIGHT?",statChanges:{stress:15}}},{label:"TIME TO BUY MORE! üèòÔ∏è",outcome:{cashChange:-5e4,message:"Either brilliant or delusional. Real estate investors say the same thing about themselves.",statChanges:{stress:20,financialIQ:10}}}],conditions:{minMonth:60,minNetWorth:2e5}},{id:"car_breakdown",title:"üöó Car Has Left the Chat",description:"Your car made a sound like a dying whale playing a saxophone, then smoke, then silence. The mechanic laughed. Actually LAUGHED. Then called his buddies to come look.",image:"/event-images/car_breakdown.webp",category:"VEHICLE",weight:45,isRecurring:!0,options:[{label:"Repair it ($3,500) üîß",outcome:{cashChange:-3500,message:`Fixed! The mechanic named your car "Money Pit." He has a framed photo of it in his shop. Says he'll see you soon. Ominous.`,statChanges:{stress:10}}},{label:"Buy a used car ($8,000) üöô",outcome:{cashChange:-8e3,message:`It's "pre-loved!" The previous owner left a McDonald's receipt from 2019, three hair ties, and a self-help audiobook in the glovebox. Character!`,statChanges:{stress:5,happiness:5}}},{label:"Finance a new car ($25,000) ‚ú®",outcome:{cashChange:-2500,message:'That new car smell! You drove 10 under the speed limit for a week. Made a "no eating" rule. Broke it on day 3.',statChanges:{happiness:10},addLiability:{name:"Car Loan",balance:22500,originalBalance:22500,interestRate:.07,monthlyPayment:450,type:"CAR_LOAN"}}},{label:"Public transit life üöå",outcome:{cashChange:0,message:"You now know every bus driver by name. Jerry shares his lunch. Karen tells you about her cats. It's oddly fulfilling.",statChanges:{happiness:-10,energy:-10,stress:10,networking:5}}}],conditions:{minMonth:6}},{id:"flat_tire",title:"üõû Flat Tire Fiasco",description:"Your tire decided to quit without two weeks notice. Very unprofessional. You're on the side of the highway. In the rain. Of course it's raining.",image:"/event-images/flat_tire.webp",category:"VEHICLE",weight:40,isRecurring:!0,options:[{label:"Call roadside assistance ($150) üìû",outcome:{cashChange:-150,message:"Help arrived in 2 hours. You befriended three passing truckers and a confused deer in that time.",statChanges:{stress:10,networking:5}}},{label:"Change it yourself (free but risky) üí™",outcome:{cashChange:0,message:"You did it! You're filthy. Your clothes are ruined. But you feel ALIVE. Take THAT, AAA!",statChanges:{stress:15,happiness:10,health:-5,fulfillment:10}}},{label:"Uber home, deal with it tomorrow ($80) üöï",outcome:{cashChange:-80,message:"The Uber driver had OPINIONS about your life choices. 1 star. But you're home and dry.",statChanges:{stress:5}}}],conditions:{minMonth:3}},{id:"car_accident",title:"üí• Bumper Kissing Incident",description:"Someone rear-ended you at a stoplight. They were texting. About their car insurance. The irony is not lost on you.",image:"/event-images/car_accident.webp",category:"VEHICLE",weight:20,options:[{label:"Their insurance covers it üìã",outcome:{cashChange:0,message:"Insurance handled it! You got a rental. It's a Kia Soul. You're 28. The hamster commercials haunt you.",statChanges:{stress:10}}},{label:"They were uninsured ($4,000) üò±",outcome:{cashChange:-4e3,message:'They had an "I ‚ù§Ô∏è MY CAR" bumper sticker. They did not, apparently, love car insurance. Or math.',statChanges:{stress:20,happiness:-10}}}],conditions:{minMonth:6}},{id:"car_theft",image:"/event-images/car_theft.webp",title:"üö® Grand Theft Auto: Your Life",description:"Your car was stolen. The thief left the aux cord. And your gym bag. That's somehow more insulting than the theft.",category:"VEHICLE",weight:10,options:[{label:"File insurance claim üìù",outcome:{cashChange:0,message:`Insurance paying out in 30 days. Currently driving your mom's car. It has a "My Kid is an Honor Student" bumper sticker. You're 34.`,statChanges:{stress:25}}},{label:"No insurance - total loss üò≠",outcome:{cashChange:0,message:"They found your car. In a lake. With a mannequin in the driver seat. HOW? WHY? The mystery haunts you at 3am.",statChanges:{stress:35,happiness:-20}}}],conditions:{minMonth:12}},{id:"meet_partner",image:"/event-images/meet_partner.webp",title:"üíï Plot Twist: Love Interest Appears",description:`You've met someone who actually laughs at your jokes. They might be "the one." Or they're just really polite.`,category:"RELATIONSHIP",weight:15,options:[{label:"Invest in the relationship üíù",outcome:{cashChange:-500,message:"Fancy dinners, thoughtful gifts, matching pajamas. You're now one of THOSE couples. You're happy though!",statChanges:{happiness:20,fulfillment:15,stress:-5},startRelationship:!0}},{label:"Keep it casual ü§∑",outcome:{cashChange:-200,message:`Taking it slow. You've perfected the "what are we?" conversation avoidance technique.`,statChanges:{happiness:10,fulfillment:5},startRelationship:!0}}],conditions:{minMonth:12}},{id:"proposal",title:"üíç The Big Question",description:'Your relationship has reached the "sharing Netflix passwords" level of serious. Time to make it official?',image:"/event-images/proposal.webp",category:"RELATIONSHIP",weight:10,options:[{label:"Go big! ($5,000 ring) üíé",outcome:{cashChange:-5e3,message:"They said YES! The ring could be seen from space. Your bank account wept quietly.",statChanges:{happiness:30,fulfillment:25,stress:10},marriageChange:!0}},{label:"Modest but meaningful ($1,500) üíï",outcome:{cashChange:-1500,message:"They said YES! They loved that you didn't go into debt. Keeper confirmed.",statChanges:{happiness:25,fulfillment:20,stress:5},marriageChange:!0}},{label:"Not ready yet üòÖ",outcome:{cashChange:0,message:'Still dating. Your mom is "not pressuring you, just asking." Every. Single. Call.',statChanges:{happiness:-5}}}],conditions:{minMonth:36,requiresMarriage:!1}},{id:"wedding_planning",image:"/event-images/wedding_planning.webp",title:"üíí Wedding: The Expensive Episode",description:"Time to plan the wedding! Pinterest has taken over your life. Your partner has opinions. Your mother has MORE opinions.",category:"RELATIONSHIP",weight:100,options:[{label:"Dream wedding ($35,000) ‚ú®",outcome:{cashChange:-35e3,message:"Ice sculptures! Live band! A cake taller than your uncle! Worth every penny (you keep telling yourself).",statChanges:{happiness:25,fulfillment:20,stress:20}}},{label:"Nice wedding ($15,000) üéâ",outcome:{cashChange:-15e3,message:"Beautiful celebration! Only minor drama with the seating chart. Nobody talked about the chicken vs fish debate. Much.",statChanges:{happiness:20,fulfillment:15,stress:10}}},{label:"Simple ceremony ($3,000)",outcome:{cashChange:-3e3,message:"Intimate and meaningful.",statChanges:{happiness:15,fulfillment:15,stress:5}}},{label:"Courthouse ($500)",outcome:{cashChange:-500,message:"Officially married! Saved a fortune.",statChanges:{happiness:10,fulfillment:10,financialIQ:5}}}],conditions:{requiresMarriage:!0}},{id:"spouse_job_change",title:"üíº Spouse Career Change",description:"Your spouse has an opportunity for a new job.",image:"/event-images/spouse_job_change.webp",category:"RELATIONSHIP",weight:10,options:[{label:"Support the change",outcome:{cashChange:0,message:"New job means higher family income!",statChanges:{happiness:10,fulfillment:5}}},{label:"They stay at current job",outcome:{cashChange:0,message:"Stability maintained.",statChanges:{happiness:0}}}],conditions:{requiresMarriage:!0,minMonth:12}},{id:"expecting_child",image:"/event-images/expecting_child.webp",title:"üë∂ Baby on the Way!",description:"Congratulations! You're expecting a baby in 9 months!",category:"RELATIONSHIP",weight:12,options:[{label:"Celebrate and prepare!",outcome:{cashChange:-3e3,message:"Nursery ready! So excited!",statChanges:{happiness:25,fulfillment:30,stress:15},childChange:1}}],conditions:{requiresMarriage:!0,minMonth:24}},{id:"child_sick",image:"/event-images/child_sick.webp",title:"ü§í Child is Sick",description:"Your child is sick and needs to see the doctor.",category:"FAMILY_EMERGENCY",weight:15,options:[{label:"Doctor visit ($200 copay)",outcome:{cashChange:-200,message:"Just a bug. Medicine prescribed.",statChanges:{stress:10,happiness:-5}}},{label:"ER visit - seems serious ($800)",outcome:{cashChange:-800,message:"All clear, but better safe than sorry.",statChanges:{stress:20,happiness:-10}}}],conditions:{requiresChildren:!0}},{id:"child_school",title:"üéí School Shopping: The Reckoning",description:'Your child needs 47 specific folders, 3 types of scissors, and something called a "protractor." For first grade.',image:"/event-images/child_school.webp",category:"RELATIONSHIP",weight:10,options:[{label:"Private school ($1,500/mo) üé©",outcome:{cashChange:-1500,message:"The other parents drive Teslas. They have opinions about quinoa. You fit right in. (You don't.)",statChanges:{fulfillment:10,networking:10}}},{label:"Public school (free) üìö",outcome:{cashChange:0,message:`Good schools! Your kid made 3 friends on day one. They're already planning a band. It's called "The Screaming Potatoes."`,statChanges:{fulfillment:5,happiness:5}}}],conditions:{requiresChildren:!0}},{id:"child_activities",image:"/event-images/child_activities.webp",title:"‚öΩ The Activity Arms Race",description:"Your kid wants to do soccer. And ballet. And piano. And coding. And interpretive dance. They're 6.",category:"RELATIONSHIP",weight:12,options:[{label:"Sign up for everything ($400/mo) üèÉ",outcome:{cashChange:-400,message:"You now live in your car, shuttling between activities. You've mastered the art of eating dinner at 4pm. Or 9pm. Time is meaningless.",statChanges:{happiness:10,fulfillment:15,energy:-15}}},{label:"Pick ONE activity ($100/mo) üéØ",outcome:{cashChange:-100,message:"They chose underwater basket weaving. It's... not a thing. But they're happy!",statChanges:{happiness:5,fulfillment:10}}},{label:"Backyard Olympics (free) üèÖ",outcome:{cashChange:0,message:'You invented 12 new sports. "Extreme Hopscotch" is now a family tradition. Patent pending.',statChanges:{happiness:5,fulfillment:5}}}],conditions:{requiresChildren:!0}},{id:"child_college",title:"üéì Empty Nest: Loading...",description:"Your child got into college! They're excited. You're crying. This is fine.",image:"/event-images/child_college.webp",category:"RELATIONSHIP",weight:8,options:[{label:"Pay full tuition ($25,000/yr) üí≥",outcome:{cashChange:-25e3,message:'They called to thank you. Then asked for grocery money. Then "fun money." Then textbook money. The calls continue.',statChanges:{fulfillment:25,happiness:15}}},{label:"Help with half ü§ù",outcome:{cashChange:-12500,message:"Fair is fair. They got a part-time job at Starbucks. You get free coffee now. The system works.",statChanges:{fulfillment:15,happiness:10,financialIQ:5}}},{label:"They take loans üìã",outcome:{cashChange:0,message:"Teaching financial responsibility! (That's what you tell yourself at 3am.)",statChanges:{fulfillment:5,happiness:-5}}}],conditions:{requiresChildren:!0,minMonth:216}},{id:"inheritance",title:"üìú Surprise Inheritance!",description:'Your great-aunt Mildred (who you met once at a wedding in 1997) has left you money. You were her "favorite."',image:"/event-images/inheritance.webp",category:"WINDFALL",weight:4,options:[{label:"Accept inheritance üí∞",outcome:{cashChange:25e3,message:"Thanks, Aunt Mildred! Turns out she was impressed when you helped her find the bathroom. Small gestures matter.",statChanges:{happiness:10,fulfillment:5}}}],conditions:{minMonth:36}},{id:"lottery_small",title:"üé∞ Scratch Ticket Victory!",description:"You bought a scratch ticket ironically. You won... UN-ironically.",image:"/event-images/lottery_small.webp",category:"WINDFALL",weight:3,options:[{label:"Collect $5,000!",outcome:{cashChange:5e3,message:"Lucky day!",statChanges:{happiness:15}}}]},{id:"work_bonus",title:"üéâ Surprise Bonus",description:"Your company had a great quarter and is giving out bonuses!",image:"/event-images/work_bonus.webp",category:"WINDFALL",weight:10,options:[{label:"Accept bonus",outcome:{cashChange:5e3,message:"Hard work paid off!",statChanges:{happiness:10,fulfillment:5}}}],conditions:{minMonth:12}},{id:"tax_refund",title:"üíµ Tax Refund",description:"You overpaid taxes last year. Here's your refund!",image:"/event-images/tax_refund.webp",category:"WINDFALL",weight:15,options:[{label:"Direct deposit please!",outcome:{cashChange:2500,message:"Refund received!",statChanges:{happiness:5}}}],conditions:{minMonth:6}},{id:"ai_restructure",title:"ü§ñ AI Restructuring",description:"Your company is replacing some roles with AI. Restructuring announced.",image:"/event-images/ai_restructure.webp",category:"AI_DISRUPTION",weight:10,options:[{label:"Embrace AI - learn to use it",outcome:{cashChange:-1e3,message:"Became the AI expert on your team!",statChanges:{financialIQ:10,happiness:5}}},{label:"Hope your job is safe",outcome:{cashChange:0,message:"Survived this round...",statChanges:{stress:20}}},{label:"Start job hunting",outcome:{cashChange:0,message:"Found a more stable position.",statChanges:{stress:15,networking:5}}}],conditions:{aiDisruptionLevel:30,careers:["TECH","FINANCE","CREATIVE","SALES"]}},{id:"ai_opportunity",title:"üöÄ AI Creates Opportunity",description:"AI tools are making workers more productive. Your output has doubled!",image:"/event-images/ai_opportunity.webp",category:"AI_DISRUPTION",weight:8,options:[{label:"Ask for raise",outcome:{cashChange:0,message:"Got a 15% raise!",statChanges:{happiness:15,fulfillment:10}}},{label:"Take on more clients (side hustle)",outcome:{cashChange:2e3,message:"Doubled your freelance income!",statChanges:{energy:-15,happiness:10}}}],conditions:{aiDisruptionLevel:20,careers:["TECH","ENTREPRENEUR","CREATIVE"]}},{id:"trades_boom",title:"üîß Trades Shortage Crisis",description:"White-collar jobs being automated, but no one can find a plumber! Rates soaring.",image:"/event-images/trades_boom.webp",category:"AI_DISRUPTION",weight:8,options:[{label:"Enjoy the demand!",outcome:{cashChange:3e3,message:"Premium rates for your skills!",statChanges:{happiness:15,fulfillment:10}}}],conditions:{aiDisruptionLevel:40,careers:["TRADES"]}},{id:"rent_increase",image:"/event-images/rent_increase.webp",title:"üìà Rent Increase",description:"Your landlord is raising rent by 15%.",category:"HOUSING",weight:12,options:[{label:"Accept the increase",outcome:{cashChange:0,message:"Rent now higher. Budget adjusted.",statChanges:{stress:10,happiness:-5}}},{label:"Negotiate (risky)",outcome:{cashChange:0,message:"Negotiated 8% instead!",statChanges:{stress:5,networking:5}}},{label:"Move out ($3,000 moving costs)",outcome:{cashChange:-3e3,message:"New place! Fresh start.",statChanges:{stress:15,energy:-15}}}],conditions:{minMonth:12}},{id:"home_repair",title:"üè† Home Repair Needed",description:"Your roof is leaking. Needs immediate repair.",image:"/event-images/home_repair.webp",category:"HOUSING",weight:10,options:[{label:"Full roof replacement ($12,000)",outcome:{cashChange:-12e3,message:"New roof. Good for 25 years.",statChanges:{stress:10}}},{label:"Patch job ($2,000)",outcome:{cashChange:-2e3,message:"Fixed for now. May need more work later.",statChanges:{stress:5}}}],conditions:{minNetWorth:1e5}},{id:"hvac_failure",title:"‚ùÑÔ∏è AC/Heater Broke",description:"Your HVAC system died. It's the worst season for this.",image:"/event-images/hvac_failure.webp",category:"HOUSING",weight:10,options:[{label:"Replace entire system ($8,000)",outcome:{cashChange:-8e3,message:"New efficient system installed.",statChanges:{stress:10,happiness:5}}},{label:"Repair old system ($1,500)",outcome:{cashChange:-1500,message:"Patched up. May fail again.",statChanges:{stress:5}}},{label:"Window units/space heaters ($500)",outcome:{cashChange:-500,message:"Uncomfortable but functional.",statChanges:{happiness:-10,energy:-10}}}],conditions:{minNetWorth:5e4}},{id:"inheritance",title:"üí∞ Inheritance",description:"A distant relative passed away and left you money in their will.",image:"/event-images/inheritance.webp",category:"WINDFALL",weight:3,options:[{label:"Accept the inheritance",outcome:{cashChange:5e4,message:"Received $50,000 inheritance!",statChanges:{happiness:15,stress:-10}}}],conditions:{minMonth:36}},{id:"lottery_win",title:"üé∞ Lucky Lottery!",description:"You bought a scratch ticket and won big!",image:"/event-images/lottery_win.webp",category:"WINDFALL",weight:1,options:[{label:"Cash it in!",outcome:{cashChange:25e3,message:"Won $25,000! Lucky day!",statChanges:{happiness:30}}}],conditions:{minMonth:12}},{id:"major_bonus",title:"üéØ Major Work Bonus",description:"Your company had a record year and is distributing bonuses!",image:"/event-images/major_bonus.webp",category:"WINDFALL",weight:5,options:[{label:"Collect bonus",outcome:{cashChange:15e3,message:"Received $15,000 bonus!",statChanges:{happiness:20,fulfillment:10}}}],conditions:{minMonth:24}},{id:"stock_options_vest",title:"üìà Stock Options Vested",description:"Your company stock options have vested and the stock is up!",image:"/event-images/stock_options_vest.webp",category:"WINDFALL",weight:4,options:[{label:"Exercise and sell",outcome:{cashChange:3e4,message:"Cashed out $30,000 in stock options!",statChanges:{happiness:15,financialIQ:5}}},{label:"Hold for more gains (risky)",outcome:{cashChange:0,message:"Holding for potential upside. Risky!",statChanges:{stress:10}}}],conditions:{minMonth:48,careers:["TECH","FINANCE"]}},{id:"business_opportunity",title:"üöÄ Business Opportunity",description:"A friend offers you equity in their startup that just got funded.",image:"/event-images/business_opportunity.webp",category:"CAREER",weight:3,options:[{label:"Invest $20,000 for equity",outcome:{cashChange:-2e4,message:"Invested in startup. Could be big!",statChanges:{stress:15,financialIQ:10}}},{label:"Pass on it",outcome:{cashChange:0,message:"Declined the opportunity.",statChanges:{stress:0}}}],conditions:{minMonth:36,minNetWorth:5e4}},{id:"major_lawsuit",title:"‚öñÔ∏è Sued for $100K",description:"You're being sued for a significant amount. A business dispute has escalated.",image:"/event-images/major_lawsuit.webp",category:"LEGAL",weight:2,options:[{label:"Settle for $40,000",outcome:{cashChange:-4e4,message:"Settled out of court. Painful but over.",statChanges:{stress:30,happiness:-20}}},{label:"Fight it ($25K legal fees)",outcome:{cashChange:-25e3,message:"Won the case! But legal fees hurt.",statChanges:{stress:40,happiness:10}}},{label:"Countersue (risky $50K)",outcome:{cashChange:-5e4,message:"Long legal battle. Stressful victory.",statChanges:{stress:50,happiness:5,networking:10}}}],conditions:{minMonth:60,minNetWorth:2e5}},{id:"identity_theft",title:"üîì Identity Stolen!",description:"Someone stole your identity and racked up charges. Banks are investigating.",image:"/event-images/identity_theft.webp",category:"LEGAL",weight:5,options:[{label:"Hire fraud specialist ($5,000)",outcome:{cashChange:-5e3,message:"Specialist recovered most losses.",statChanges:{stress:25}}},{label:"Handle it yourself",outcome:{cashChange:-15e3,message:"Months of stress. Partial recovery.",statChanges:{stress:40,energy:-20,happiness:-15}}}],conditions:{minMonth:24}},{id:"major_surgery",image:"/event-images/major_surgery.webp",title:"üè• Major Surgery Needed",description:"You need surgery. Even with insurance, out-of-pocket costs are high.",category:"MEDICAL",weight:4,options:[{label:"Top surgeon ($20,000 OOP)",outcome:{cashChange:-2e4,message:"Best care. Full recovery.",statChanges:{health:20,stress:20,energy:-30}}},{label:"In-network surgeon ($8,000)",outcome:{cashChange:-8e3,message:"Surgery successful. Recovering well.",statChanges:{health:10,stress:15,energy:-20}}},{label:"Delay surgery (risky)",outcome:{cashChange:0,message:"Condition worsening. May cost more later.",statChanges:{health:-15,stress:25}}}],conditions:{minMonth:36}},{id:"chronic_illness_diagnosis",image:"/event-images/chronic_illness_diagnosis.webp",title:"üíä Chronic Illness Diagnosis",description:"You've been diagnosed with a chronic condition requiring ongoing treatment.",category:"MEDICAL",weight:3,options:[{label:"Premium treatment plan ($1,000/mo)",outcome:{cashChange:-12e3,message:"Annual cost for best management.",statChanges:{health:5,stress:20,happiness:-10}}},{label:"Standard treatment ($400/mo)",outcome:{cashChange:-4800,message:"Managing condition adequately.",statChanges:{health:0,stress:15}}},{label:"Lifestyle changes only",outcome:{cashChange:0,message:"Trying natural approach.",statChanges:{health:-10,stress:10,energy:-15}}}],conditions:{minMonth:60}},{id:"car_totaled",image:"/event-images/car_totaled.webp",title:"üöóüí• Car Totaled",description:"Your car was in a major accident. Insurance is paying out but you need a new car.",category:"VEHICLE",weight:4,options:[{label:"Buy new car ($35,000)",outcome:{cashChange:-35e3,message:"New reliable car purchased.",statChanges:{stress:20}}},{label:"Buy used car ($15,000)",outcome:{cashChange:-15e3,message:"Used car gets the job done.",statChanges:{stress:15}}},{label:"Get a beater ($5,000)",outcome:{cashChange:-5e3,message:"Cheap but unreliable. High maintenance.",statChanges:{stress:10,happiness:-10}}}],conditions:{minMonth:12,requiresVehicle:!0}},{id:"market_crash_opportunity",title:"üìâ Market Crash - Buy Opportunity?",description:"Market just crashed 40%. Everything is on sale. But scary!",image:"/event-images/market_crash_opportunity.webp",category:"ECONOMIC",weight:2,options:[{label:"Go all in! Invest $50,000",outcome:{cashChange:-5e4,message:"Bought at the bottom (hopefully)!",statChanges:{stress:35,financialIQ:15}}},{label:"Invest moderately ($20,000)",outcome:{cashChange:-2e4,message:"Cautious opportunistic buying.",statChanges:{stress:15,financialIQ:10}}},{label:"Stay in cash",outcome:{cashChange:0,message:"Cash is king in uncertain times.",statChanges:{stress:10}}}],conditions:{minMonth:36,minCash:5e4}},{id:"divorce",title:"üíî Divorce",description:"Your marriage has ended. Time to divide assets and move on.",image:"/event-images/divorce.webp",category:"RELATIONSHIP",weight:2,options:[{label:"Amicable split ($15,000 legal)",outcome:{cashChange:-15e3,message:"Clean split. Both moving on.",statChanges:{stress:40,happiness:-30,fulfillment:-20}}},{label:"Contested divorce ($50,000)",outcome:{cashChange:-5e4,message:"Brutal fight. Financially devastating.",statChanges:{stress:60,happiness:-40,energy:-30}}}],conditions:{minMonth:48,requiresMarriage:!0}},{id:"job_offer_relocation",title:"‚úàÔ∏è Dream Job - Requires Moving",description:"Your dream job offer came in! 50% salary increase but requires relocation.",image:"/event-images/job_offer_relocation.webp",category:"CAREER",weight:4,options:[{label:"Take it! Move! ($15,000 cost)",outcome:{cashChange:-15e3,message:"New city, new adventure! Salary boost coming.",statChanges:{happiness:20,stress:25,energy:-20,fulfillment:20}}},{label:"Negotiate remote work",outcome:{cashChange:0,message:"Got hybrid! 25% raise instead.",statChanges:{happiness:15,stress:10,fulfillment:15}}},{label:"Decline - family here",outcome:{cashChange:0,message:"Stayed for loved ones. No regrets.",statChanges:{happiness:5,fulfillment:10,stress:-10}}}],conditions:{minMonth:36}},{id:"tech_layoff",title:"üì¶ Laid Off - Tech Downturn",description:"Company is cutting 20% of staff. You got the email.",image:"/event-images/tech_layoff.webp",category:"CAREER",weight:5,options:[{label:"Take severance, find new job",outcome:{cashChange:15e3,message:"3 months severance. Job hunting begins.",statChanges:{stress:40,happiness:-20,energy:-20}}},{label:"Negotiate extended severance",outcome:{cashChange:25e3,message:"Negotiated 5 months! Good cushion.",statChanges:{stress:30,happiness:-10,networking:10}}},{label:"Start your own thing",outcome:{cashChange:1e4,message:"Taking severance and going entrepreneur!",statChanges:{stress:50,happiness:10,fulfillment:20}}}],conditions:{minMonth:24,careers:["TECH","FINANCE"]}},{id:"spouse_job_loss",title:"üëî Spouse Lost Job",description:"Your spouse was laid off. Income cut significantly.",image:"/event-images/spouse_job_loss.webp",category:"FAMILY_EMERGENCY",weight:5,options:[{label:"Support while they job hunt",outcome:{cashChange:0,message:"Tight budget for 3-6 months.",statChanges:{stress:25,happiness:-10}}},{label:"They start a side business",outcome:{cashChange:-5e3,message:"Startup costs for their venture.",statChanges:{stress:30,fulfillment:10}}}],conditions:{requiresMarriage:!0,minMonth:24}},{id:"parent_nursing_home",title:"üë¥ Parent Needs Care",description:"Your elderly parent can no longer live independently.",image:"/event-images/parent_nursing_home.webp",category:"FAMILY_EMERGENCY",weight:4,options:[{label:"Nursing home ($5,000/mo)",outcome:{cashChange:-6e4,message:"Quality care. Annual cost.",statChanges:{stress:25,happiness:-15,fulfillment:10}}},{label:"Move in with you",outcome:{cashChange:-1e4,message:"Home modifications. Extra expenses.",statChanges:{stress:35,happiness:-10,energy:-20,fulfillment:20}}},{label:"In-home caregiver ($3,000/mo)",outcome:{cashChange:-36e3,message:"Annual caregiver cost.",statChanges:{stress:20,fulfillment:15}}}],conditions:{minMonth:60}},{id:"child_college_decision",title:"üéì Child's College Costs",description:"Your child got into their dream school. It's expensive.",image:"/event-images/child_college_decision.webp",category:"FAMILY_EMERGENCY",weight:3,options:[{label:"Pay full tuition ($60,000/yr)",outcome:{cashChange:-6e4,message:"No debt for them. Big sacrifice.",statChanges:{stress:20,happiness:15,fulfillment:25}}},{label:"Split costs with them",outcome:{cashChange:-3e4,message:"They'll take loans for half.",statChanges:{stress:10,happiness:10,fulfillment:15}}},{label:"Community college first",outcome:{cashChange:-5e3,message:"Frugal approach. 2 years then transfer.",statChanges:{stress:5,fulfillment:10}}}],conditions:{minMonth:180,requiresChildren:!0}},{id:"employee_strike",title:"üë∑ Employee Strike",description:"Your employees are demanding higher wages and threatening to strike.",image:"/event-images/employee_strike.webp",category:"BUSINESS",weight:8,options:[{label:"Negotiate raise (10% increase)",outcome:{cashChange:-5e3,message:"Raised wages. Happy workers.",statChanges:{stress:15,happiness:5},negotiateType:"wage_negotiation"}},{label:"Refuse demands",outcome:{cashChange:0,message:"Strike begins. Production halted.",statChanges:{stress:30,happiness:-15}}},{label:"Replace workers ($8,000 hiring)",outcome:{cashChange:-8e3,message:"New team hired. Productivity down temporarily.",statChanges:{stress:25,networking:-10}}}],conditions:{minMonth:24,careers:["ENTREPRENEUR"]}},{id:"business_slow_season",title:"üìâ Business Slow Season",description:"Economic slowdown is affecting your business. Revenue down 30%.",image:"/event-images/business_slow_season.webp",category:"BUSINESS",weight:10,options:[{label:"Cut costs aggressively",outcome:{cashChange:0,message:"Trimmed expenses. Survived the downturn.",statChanges:{stress:20,happiness:-10}}},{label:"Invest in marketing ($5,000)",outcome:{cashChange:-5e3,message:"Marketing brought in new customers!",statChanges:{stress:15,financialIQ:5}}},{label:"Diversify offerings ($10,000)",outcome:{cashChange:-1e4,message:"New revenue streams emerging.",statChanges:{stress:25,fulfillment:10}}}],conditions:{minMonth:18,careers:["ENTREPRENEUR","SALES"]}},{id:"supplier_price_increase",title:"üì¶ Supplier Price Hike",description:"Your main supplier is raising prices by 25%. Margins will suffer.",image:"/event-images/supplier_price_increase.webp",category:"BUSINESS",weight:12,options:[{label:"Negotiate better terms",outcome:{cashChange:0,message:"Negotiating...",statChanges:{stress:10},negotiateType:"supplier_negotiation"}},{label:"Find new supplier ($3,000 setup)",outcome:{cashChange:-3e3,message:"New supplier found. Better prices!",statChanges:{stress:15,networking:5}}},{label:"Raise your prices",outcome:{cashChange:0,message:"Passed costs to customers. Some left.",statChanges:{stress:10,happiness:-5}}}],conditions:{minMonth:12,careers:["ENTREPRENEUR","SALES"]}},{id:"equipment_failure",title:"‚öôÔ∏è Major Equipment Failure",description:"Critical business equipment has broken down. Operations halted.",image:"/event-images/equipment_failure.webp",category:"BUSINESS",weight:8,options:[{label:"Replace with new ($15,000)",outcome:{cashChange:-15e3,message:"New equipment. Better efficiency!",statChanges:{stress:15,fulfillment:5}}},{label:"Repair existing ($5,000)",outcome:{cashChange:-5e3,message:"Repaired. May fail again.",statChanges:{stress:20}}},{label:"Lease equipment ($800/mo)",outcome:{cashChange:-2400,message:"Leasing for now. Quarterly cost.",statChanges:{stress:10}}}],conditions:{minMonth:24,careers:["ENTREPRENEUR","TRADES"]}},{id:"key_client_leaves",title:"üíº Key Client Leaving",description:"Your biggest client (30% of revenue) is considering leaving for a competitor.",image:"/event-images/key_client_leaves.webp",category:"BUSINESS",weight:8,options:[{label:"Offer discount to retain",outcome:{cashChange:-3e3,message:"Negotiating retention...",statChanges:{stress:20},negotiateType:"client_retention"}},{label:"Let them go, find new clients",outcome:{cashChange:-2e3,message:"Lost client. Hustling for new business.",statChanges:{stress:25,networking:10}}},{label:"Match competitor offer exactly",outcome:{cashChange:-5e3,message:"Matched offer. Client stays but margins hurt.",statChanges:{stress:15,happiness:-5}}}],conditions:{minMonth:18,careers:["ENTREPRENEUR","SALES"]}},{id:"business_expansion_opportunity",title:"üöÄ Expansion Opportunity",description:"Perfect location for a second location just opened up!",image:"/event-images/business_expansion_opportunity.webp",category:"BUSINESS",weight:5,options:[{label:"Open second location ($50,000)",outcome:{cashChange:-5e4,message:"Expansion underway! Risky but exciting.",statChanges:{stress:35,fulfillment:20,energy:-20}}},{label:"Franchise model ($20,000)",outcome:{cashChange:-2e4,message:"Franchising your concept!",statChanges:{stress:20,financialIQ:10}}},{label:"Focus on current business",outcome:{cashChange:0,message:"Staying lean. Maybe next time.",statChanges:{stress:5}}}],conditions:{minMonth:48,careers:["ENTREPRENEUR"],minNetWorth:1e5}},{id:"business_partner_dispute",title:"ü§ù Partner Disagreement",description:"You and your business partner disagree on the company direction.",image:"/event-images/business_partner_dispute.webp",category:"BUSINESS",weight:6,options:[{label:"Buy them out ($30,000)",outcome:{cashChange:-3e4,message:"Full ownership! Freedom to decide.",statChanges:{stress:25,fulfillment:15,happiness:10}}},{label:"Sell your share ($25,000)",outcome:{cashChange:25e3,message:"Cashed out. Moving on.",statChanges:{stress:-10,fulfillment:-20,happiness:5}}},{label:"Mediation ($5,000)",outcome:{cashChange:-5e3,message:"Working through differences.",statChanges:{stress:20,networking:5}}}],conditions:{minMonth:36,careers:["ENTREPRENEUR"]}},{id:"owned_business_strike",title:"ü™ß Strike Threat at Your Business",description:"Workers at one of your businesses are threatening a strike. Revenue could take a serious hit.",image:"/event-images/owned_business_strike.webp",category:"BUSINESS",weight:5,options:[{label:"Negotiate and improve conditions",outcome:{cashChange:-2500,message:"You negotiate to prevent the strike.",statChanges:{stress:15,financialIQ:3}}},{label:"Hold the line (risk shutdown)",outcome:{cashChange:0,message:"You refuse. The situation escalates.",statChanges:{stress:25,happiness:-8}}},{label:"Bring in temporary staff",outcome:{cashChange:-6e3,message:"You hire temporary workers to keep operating.",statChanges:{stress:20,networking:-5}}}],conditions:{minMonth:18,maxOccurrences:3}},{id:"owned_business_fraud",title:"üïµÔ∏è Fraud in the Books",description:"You discover suspicious transactions. It looks like someone has been siphoning money from a business you own.",image:"/event-images/owned_business_fraud.webp",category:"CRIME",weight:4,options:[{label:"Hire forensic audit + report it",outcome:{cashChange:-4e3,message:"You investigate and report the fraud.",statChanges:{stress:20,financialIQ:5}}},{label:"Handle it quietly (settle)",outcome:{cashChange:-8e3,message:"You quietly settle to avoid public drama.",statChanges:{stress:15,happiness:-5}}},{label:"Ignore for now",outcome:{cashChange:0,message:"You ignore it. The risk may grow.",statChanges:{stress:10,financialIQ:-5}}}],conditions:{minMonth:24,maxOccurrences:2}},{id:"owned_business_lawsuit",title:"‚öñÔ∏è Major Lawsuit",description:"A serious legal claim is filed related to one of your businesses. Legal fees can spiral fast.",image:"/event-images/owned_business_lawsuit.webp",category:"LEGAL",weight:3,options:[{label:"Lawyer up and fight",outcome:{cashChange:-12e3,message:"You hire a strong legal team.",statChanges:{stress:25,financialIQ:3}}},{label:"Settle quickly",outcome:{cashChange:-2e4,message:"You settle to stop the bleeding.",statChanges:{stress:15,happiness:-5}}},{label:"Try mediation first",outcome:{cashChange:-6e3,message:"You attempt mediation to reduce costs.",statChanges:{stress:15,networking:5}}}],conditions:{minMonth:36,maxOccurrences:2}},{id:"owned_business_regulatory_fine",title:"üèõÔ∏è Regulatory Fine",description:"A regulator flags compliance issues in a business you own. Fixing it costs money and time.",image:"/event-images/owned_business_regulatory_fine.webp",category:"LEGAL",weight:4,options:[{label:"Pay fine + fix immediately",outcome:{cashChange:-8e3,message:"You pay and remediate quickly.",statChanges:{stress:15,financialIQ:5}}},{label:"Appeal the fine",outcome:{cashChange:-2500,message:"You appeal. It may work, or cost more later.",statChanges:{stress:20}}},{label:"Delay fixes (risky)",outcome:{cashChange:0,message:"You delay. This may worsen penalties later.",statChanges:{stress:20,financialIQ:-5}}}],conditions:{minMonth:30,maxOccurrences:2}},{id:"rental_tenant_nonpayment",title:"üè† Tenant Stops Paying",description:"A tenant in one of your rental properties stops paying. Your cashflow is about to feel it.",image:"/event-images/rental_tenant_nonpayment.webp",category:"HOUSING",weight:6,options:[{label:"Start eviction process",outcome:{cashChange:-1200,message:"You begin the eviction process.",statChanges:{stress:20}}},{label:"Offer payment plan",outcome:{cashChange:-300,message:"You offer a payment plan to keep occupancy.",statChanges:{stress:10,networking:3}}},{label:"Sell the property",outcome:{cashChange:0,message:"You consider selling to reduce stress.",statChanges:{stress:-5}}}],conditions:{minMonth:24,maxOccurrences:4}},{id:"rental_major_maintenance",title:"üõ†Ô∏è Major Property Maintenance",description:"A big maintenance issue hits one of your rental properties. Ignore it and the damage worsens.",image:"/event-images/rental_major_maintenance.webp",category:"HOUSING",weight:5,options:[{label:"Fix it properly now",outcome:{cashChange:-5e3,message:"You fix the issue properly.",statChanges:{stress:10}}},{label:"Cheap temporary fix",outcome:{cashChange:-1500,message:"You patch it for now.",statChanges:{stress:15}}},{label:"Delay repairs",outcome:{cashChange:0,message:"You delay repairs. Tenants are unhappy.",statChanges:{stress:25,happiness:-5}}}],conditions:{minMonth:18,maxOccurrences:4}},{id:"rental_tenant_dispute",title:"üßæ Tenant Dispute",description:"A tenant disputes charges and threatens legal action. Time, money, and stress are on the line.",image:"/event-images/rental_tenant_dispute.webp",category:"LEGAL",weight:4,options:[{label:"Mediation + compromise",outcome:{cashChange:-800,message:"You mediate and settle the dispute.",statChanges:{stress:10,networking:3}}},{label:"Lawyer up",outcome:{cashChange:-3e3,message:"You hire a lawyer and prepare to fight.",statChanges:{stress:20}}},{label:"Give in and move on",outcome:{cashChange:-1500,message:"You pay to end it quickly.",statChanges:{stress:8,happiness:-3}}}],conditions:{minMonth:24,maxOccurrences:3}},{id:"rental_vacancy",title:"üï≥Ô∏è Vacancy Period",description:"A rental unit goes vacant unexpectedly. No tenant means no rent (but the bills keep coming).",image:"/event-images/rental_vacancy.webp",category:"HOUSING",weight:5,options:[{label:"Reduce rent to fill faster",outcome:{cashChange:0,message:"You lower rent to attract tenants quickly.",statChanges:{stress:10}}},{label:"Renovate to increase demand",outcome:{cashChange:-4e3,message:"You renovate to raise future rent.",statChanges:{stress:15,financialIQ:3}}},{label:"Wait it out",outcome:{cashChange:0,message:"You wait. Vacancy costs may add up.",statChanges:{stress:15}}}],conditions:{minMonth:18,maxOccurrences:5}},{id:"salary_negotiation",title:"üí∞ Salary Review",description:"Annual review time. You feel underpaid compared to market rates.",image:"/event-images/salary_negotiation.webp",category:"CAREER",weight:15,options:[{label:"Ask for 15% raise",outcome:{cashChange:0,message:"Negotiating raise...",statChanges:{stress:15},negotiateType:"salary_raise_15"}},{label:"Ask for 8% raise",outcome:{cashChange:0,message:"Modest request being considered...",statChanges:{stress:10},negotiateType:"salary_raise_8"}},{label:"Accept current salary",outcome:{cashChange:0,message:"Staying quiet. Safe but stagnant.",statChanges:{happiness:-5,stress:5}}}],conditions:{minMonth:12}},{id:"landlord_dispute",title:"üè† Landlord Conflict",description:"Your landlord refuses to fix the broken heating. Winter is coming.",image:"/event-images/landlord_dispute.webp",category:"HOUSING",weight:10,options:[{label:"Negotiate repair timeline",outcome:{cashChange:0,message:"Negotiating with landlord...",statChanges:{stress:15},negotiateType:"landlord_repair"}},{label:"Fix it yourself ($2,000)",outcome:{cashChange:-2e3,message:"Fixed it. Will deduct from rent.",statChanges:{stress:10,happiness:5}}},{label:"Report to housing authority",outcome:{cashChange:0,message:"Filed complaint. May take months.",statChanges:{stress:25,networking:-5}}}],conditions:{minMonth:6}},{id:"insurance_claim_dispute",title:"üìã Insurance Claim Denied",description:"Your insurance company denied your claim. They say it is not covered.",image:"/event-images/insurance_claim_dispute.webp",category:"LEGAL",weight:8,options:[{label:"Appeal the decision",outcome:{cashChange:-500,message:"Appealing decision...",statChanges:{stress:20},negotiateType:"insurance_appeal"}},{label:"Hire lawyer ($3,000)",outcome:{cashChange:-3e3,message:"Lawyer reviewing case.",statChanges:{stress:25}}},{label:"Accept denial and move on",outcome:{cashChange:-8e3,message:"Paying out of pocket. Frustrating.",statChanges:{stress:15,happiness:-15}}}],conditions:{minMonth:12}},{id:"medical_bill_negotiation",title:"üè• Surprise Medical Bill",description:"Received a $12,000 medical bill. Insurance covered less than expected.",image:"/event-images/medical_bill_negotiation.webp",category:"MEDICAL",weight:10,options:[{label:"Negotiate bill reduction",outcome:{cashChange:0,message:"Negotiating with billing dept...",statChanges:{stress:20},negotiateType:"medical_bill"}},{label:"Set up payment plan",outcome:{cashChange:0,message:"Monthly payments of $400 for 30 months.",statChanges:{stress:15},addLiability:{name:"Medical Bill Payment",balance:12e3,originalBalance:12e3,interestRate:0,monthlyPayment:400,type:"MEDICAL_DEBT"}}},{label:"Pay in full for discount",outcome:{cashChange:-9e3,message:"Paid $9,000 for 25% cash discount.",statChanges:{stress:10,financialIQ:5}}}],conditions:{minMonth:12}},{id:"pet_emergency",image:"/event-images/pet_emergency.webp",title:"üêï Pet Has Eaten Something Concerning",description:"Your pet swallowed a sock. An entire sock. They seem proud of themselves.",category:"MEDICAL",weight:10,options:[{label:"Emergency surgery ($4,000) üè•",outcome:{cashChange:-4e3,message:"Sock successfully retrieved! The vet framed it. Your pet is recovering and eyeing another sock as we speak.",statChanges:{stress:20,happiness:10,fulfillment:15}}},{label:"Wait and see ($500 for x-ray) ü§û",outcome:{cashChange:-500,message:"Good news! The sock... passed. You will never unsee what you saw. Your pet is unfazed.",statChanges:{stress:15,happiness:-5}}},{label:"Say goodbye ($200) üíî",outcome:{cashChange:-200,message:"The hardest decision. They were the goodest. Rest easy, sock-eater.",statChanges:{stress:10,happiness:-25,fulfillment:-15}}}],conditions:{minMonth:6}},{id:"appliance_breakdown",title:"üßä Fridge Has Abandoned You",description:"Your fridge made a concerning noise at 3am, then went silent. The milk is getting suspicious.",image:"/event-images/appliance_breakdown.webp",category:"HOUSING",weight:15,options:[{label:"Buy new ($1,200) ‚ùÑÔ∏è",outcome:{cashChange:-1200,message:"New fridge! It has an ice maker. You've never felt more adult in your life.",statChanges:{stress:5,happiness:5}}},{label:"Buy used ($400) üîÑ",outcome:{cashChange:-400,message:`It hums ominously, but it works! Previous owner left a magnet that says "Wine O'Clock." You're keeping it.`,statChanges:{stress:5}}},{label:"YouTube repair ($150) üîß",outcome:{cashChange:-150,message:"You fixed it! You are basically an engineer now. (It's held together with duct tape and hope.)",statChanges:{stress:10,financialIQ:5}}}]},{id:"phone_stolen",title:"üì± Phone Gone. Panic Mode.",description:"You patted your pocket. Nothing. Patted again. Still nothing. Existential crisis engaged.",category:"CRIME",weight:12,options:[{label:"Latest model ($1,200) üì≤",outcome:{cashChange:-1200,message:"It's an upgrade! You told yourself this was meant to be. The universe works in mysterious ways.",statChanges:{happiness:5,stress:10}}},{label:"Budget phone ($300) üì±",outcome:{cashChange:-300,message:"It makes calls. That's... that's what phones do, right? Your camera now has 3 pixels.",statChanges:{stress:10}}},{label:"Found it in your other pocket üòÖ",outcome:{cashChange:0,message:"It was there the whole time. The panic was free. You don't tell anyone about this.",statChanges:{stress:5,happiness:5}}}]},{id:"home_break_in",title:"üö® Someone Broke In!",description:"Your home was burglarized. They took the TV but left your collection of participation trophies. Rude.",image:"/event-images/home_break_in.webp",category:"CRIME",weight:5,options:[{label:"File insurance claim ($1,000 deductible) üìã",outcome:{cashChange:-1e3,message:`Claim processed! You now have 47 photos of every item you own. "For insurance." You're one step from spreadsheets.`,statChanges:{stress:30,happiness:-20}}},{label:"Install security system ($2,000) üîê",outcome:{cashChange:-2e3,message:"You now get alerts when a leaf falls in your driveway. Sleep peacefully (when the sensors stop going off).",statChanges:{stress:25,happiness:-15,fulfillment:5}}},{label:"Replace stolen items ($5,000) üí∏",outcome:{cashChange:-5e3,message:"New stuff! Some of it is nicer than what was stolen. Silver lining? Silver lining.",statChanges:{stress:25,happiness:-10}}}],conditions:{minMonth:12}},{id:"friend_wedding",image:"/event-images/friend_wedding.webp",title:"üíí Friend's Wedding: Your Wallet's Nightmare",description:"Your best friend is getting married. You're in the wedding party. Your credit card is already crying.",category:"SOCIAL",weight:15,options:[{label:"Full participation ($2,500) üéä",outcome:{cashChange:-2500,message:"Bachelor/ette party in Vegas. Custom outfit you'll wear once. Gift registry item. Open bar made it worth it.",statChanges:{happiness:15,energy:-15,fulfillment:10,networking:10}}},{label:"Just attend wedding ($500) üéâ",outcome:{cashChange:-500,message:"Caught the bouquet/garter. Now everyone's looking at you expectantly. Great.",statChanges:{happiness:10,fulfillment:5,networking:5}}},{label:"Send regrets and a Venmo üì±",outcome:{cashChange:-100,message:`You "had a conflict." The conflict was your savings account. They understand. (They don't.)`,statChanges:{happiness:-10,fulfillment:-10,networking:-15}}}],conditions:{minMonth:6}},{id:"vacation_opportunity",title:'üèñÔ∏è "Treat Yourself" Emergency',description:'Found an insane deal on your dream vacation. 70% off! Today only! Your mouse hovers over "Book Now."',image:"/event-images/vacation_opportunity.webp",category:"SOCIAL",weight:12,options:[{label:"BOOK IT. YOLO. ($5,000) ‚úàÔ∏è",outcome:{cashChange:-5e3,message:"Best. Decision. Ever. You touched a dolphin. You have 847 photos. Your Instagram has peaked.",statChanges:{happiness:25,stress:-20,energy:20,fulfillment:15}}},{label:"Budget version ($2,000) üéí",outcome:{cashChange:-2e3,message:"Hostel vibes! Met interesting people. Only got slightly lost. Memories: priceless. Photos: blurry but authentic.",statChanges:{happiness:15,stress:-15,energy:15}}},{label:"Close the tab. Walk away. üíª",outcome:{cashChange:0,message:"You saved money! You also think about that deal every night at 2am. What if...",statChanges:{happiness:-5,stress:5}}}],conditions:{minMonth:12}},{id:"annual_checkup",image:"/event-images/annual_checkup.webp",title:'ü©∫ Doctor Wants to "Chat"',description:'Time for your yearly physical. The doctor says you need to "make some changes." Your fries feel judged.',category:"MEDICAL",weight:20,options:[{label:"Full checkup + all the tests ($300) üî¨",outcome:{cashChange:-300,message:"Clean bill of health! You celebrated with cake. The doctor would not approve.",statChanges:{health:10,stress:-5,happiness:5}}},{label:"Basic checkup ($100) ‚úÖ",outcome:{cashChange:-100,message:"Vitals are fine! Doctor mentioned vegetables. You nodded and forgot immediately.",statChanges:{health:5,stress:-3}}},{label:"Skip it. I feel fine. ü§∑",outcome:{cashChange:0,message:"What you don't know can't hurt you! (This is not medically accurate.)",statChanges:{stress:5}}}],conditions:{minMonth:12}},{id:"ikea_adventure",image:"/event-images/ikea_adventure.webp",title:"ü™ë IKEA Expedition",description:"You went to IKEA for a $5 plant. That was 4 hours ago. Your cart is now full.",category:"HOUSING",weight:18,options:[{label:"Buy everything ($800) üõí",outcome:{cashChange:-800,message:"You now own 47 things you didn't know existed. Assembly required: 6-8 hours.",statChanges:{happiness:10,stress:15,energy:-20}}},{label:"Just the plant and meatballs ($25) üå±",outcome:{cashChange:-25,message:"Escaped with your wallet intact! The Swedish meatballs were worth the journey.",statChanges:{happiness:10,stress:-5}}},{label:"Abandon cart and flee! üèÉ",outcome:{cashChange:0,message:"You made it out! But you forgot where you parked...",statChanges:{stress:10,energy:-15}}}]},{id:"streaming_subscriptions",image:"/event-images/streaming_subscriptions.webp",title:"üì∫ Subscription Apocalypse",description:"You just realized you're paying for 8 streaming services and only watching one.",category:"HOUSING",weight:20,options:[{label:"Keep all of them ($150/mo) ü§∑",outcome:{cashChange:-450,message:"You MIGHT watch that documentary series someday. You won't. But you might.",statChanges:{happiness:5,financialIQ:-5}}},{label:"Cancel most, keep 2 ($30/mo)",outcome:{cashChange:0,message:"Your ex's Netflix password is still technically active. Not all heroes wear capes.",statChanges:{happiness:5,financialIQ:10,stress:-5}}},{label:"Cancel all. Read books. üìö",outcome:{cashChange:150,message:"You lasted 3 days before re-subscribing. But hey, those 3 days were growth.",statChanges:{happiness:-10,financialIQ:5,stress:10}}}],isRecurring:!0},{id:"coworker_birthday",image:"/event-images/coworker_birthday.webp",title:"üéÇ Office Birthday Collection",description:"Karen is collecting for Steve's birthday. Steve is that guy who microwaves fish.",category:"SOCIAL",weight:22,options:[{label:"Chip in $20 like a team player üí∞",outcome:{cashChange:-20,message:"Steve's birthday was lovely. He microwaved fish at the party.",statChanges:{networking:5,happiness:-5}}},{label:"I have exact change ($5) ü™ô",outcome:{cashChange:-5,message:'Karen gave you "the look." Worth it.',statChanges:{networking:-5,happiness:5,financialIQ:5}}},{label:"Pretend to be on a call üì±",outcome:{cashChange:0,message:"You hid in the bathroom for 20 minutes. Karen knows. Karen always knows.",statChanges:{networking:-10,stress:5}}}],isRecurring:!0},{id:"gym_membership",title:"üí™ Gym Membership Guilt",description:`You've been paying $50/month for 8 months. You've gone twice. The gym sent a "we miss you" email.`,image:"/event-images/gym_membership.webp",category:"MEDICAL",weight:18,options:[{label:"Cancel it. Accept who you are. üçï",outcome:{cashChange:0,message:"Freedom! You celebrated with pizza. No regrets.",statChanges:{happiness:10,health:-5,stress:-10}}},{label:"Double down! Personal trainer ($200/mo) üèãÔ∏è",outcome:{cashChange:-600,message:"You now have abs. Also debt. But ABS!",statChanges:{health:20,happiness:10,stress:10}}},{label:"Keep paying. Keep not going. ü§∑",outcome:{cashChange:-150,message:"It's basically a donation to other people's fitness. You're a philanthropist.",statChanges:{financialIQ:-5,stress:5}}}],conditions:{minMonth:6}},{id:"impulse_purchase",title:"üõçÔ∏è 3 AM Shopping Decision",description:"You were half-asleep scrolling your phone. Now a 6-foot inflatable dinosaur costume is arriving Tuesday.",image:"/event-images/impulse_purchase.webp",category:"SOCIAL",weight:15,options:[{label:"Embrace your destiny ($89) ü¶ñ",outcome:{cashChange:-89,message:"Best. Purchase. Ever. You wore it to your nephew's birthday. Legendary uncle status achieved.",statChanges:{happiness:20,fulfillment:15}}},{label:"Return it (free)",outcome:{cashChange:0,message:"You returned it. But you still think about it sometimes. What could have been...",statChanges:{happiness:-5,stress:-5}}},{label:"Buy the matching T-Rex for your partner ($89) ü¶ï",outcome:{cashChange:-178,message:"You are now THAT couple. Halloween will never be the same. Worth every penny.",statChanges:{happiness:25,fulfillment:20,financialIQ:-5}}}]},{id:"avocado_toast",title:"ü•ë Millennial Financial Crisis",description:"You just spent $18 on avocado toast. Your parents think this is why you can't afford a house.",image:"/event-images/avocado_toast.webp",category:"SOCIAL",weight:20,options:[{label:"Worth it. It was artisanal. ü§å",outcome:{cashChange:-18,message:"The toast was life-changing. Your Instagram got 47 likes. FORTY-SEVEN.",statChanges:{happiness:15,fulfillment:5,financialIQ:-3}}},{label:"Make your own toast ($2)",outcome:{cashChange:-2,message:"It was... fine. The avocado was brown. You added too much salt. But you're SAVING.",statChanges:{happiness:-5,financialIQ:10,stress:5}}},{label:"Call your parents and apologize üìû",outcome:{cashChange:0,message:'They sent you a home-buying article from 1985. "We bought our house for $30,000!" Thanks, mom.',statChanges:{stress:15,happiness:-10}}}],isRecurring:!0},{id:"parking_ticket",title:"üé´ Parking Ticket Surprise",description:"You were parked for 3 minutes. The meter maid has the reflexes of a cheetah.",image:"/event-images/parking_ticket.webp",category:"LEGAL",weight:20,options:[{label:"Pay the $75 ticket üò§",outcome:{cashChange:-75,message:"You paid it while making intense eye contact with the meter maid. Small victories.",statChanges:{stress:10,happiness:-5}}},{label:"Contest it in court ($0 or $150)",outcome:{cashChange:-75,message:"You lost. The judge had the same parking ticket on their car. No mercy.",statChanges:{stress:20,happiness:-10}}},{label:"Write a strongly worded letter üìù",outcome:{cashChange:-75,message:"Your letter was beautiful. Shakespearean even. They didn't care. Ticket still due.",statChanges:{stress:5,happiness:-5,fulfillment:5}}}],isRecurring:!0},{id:"coffee_addiction",title:"‚òï Coffee Crisis",description:"You just did the math on your daily $7 coffee habit. You've spent enough for a vacation.",image:"/event-images/coffee_addiction.webp",category:"SOCIAL",weight:18,options:[{label:"Keep the habit. Coffee is life. ‚òï",outcome:{cashChange:-210,message:"The barista knows your name. Your order. Your hopes and dreams. Worth it.",statChanges:{happiness:15,energy:10,financialIQ:-5}}},{label:"Buy a fancy home machine ($300)",outcome:{cashChange:-300,message:"You now make terrible espresso at home. But it's YOUR terrible espresso.",statChanges:{happiness:5,financialIQ:10,stress:5}}},{label:"Switch to instant coffee üíÄ",outcome:{cashChange:90,message:'Your coworkers staged an intervention. They said you seemed "different." Sadder. Weaker.',statChanges:{happiness:-20,energy:-10,stress:20}}}]},{id:"phone_screen_crack",title:"üì± Gravity Test Failed",description:"Your phone hit the ground screen-first. The spider web crack pattern is oddly beautiful.",image:"/event-images/phone_screen_crack.webp",category:"VEHICLE",weight:18,options:[{label:"Professional repair ($200)",outcome:{cashChange:-200,message:"Good as new! You immediately dropped it again. It bounced. BOUNCED.",statChanges:{stress:5,happiness:5}}},{label:"New phone time! ($1,200)",outcome:{cashChange:-1200,message:"You told yourself it's an investment. It's not. But the camera is SO good now.",statChanges:{happiness:15,stress:-5,financialIQ:-5}}},{label:"It still works. Character! ü§∑",outcome:{cashChange:0,message:"You cut your thumb twice. But you saved money! Priorities.",statChanges:{health:-3,stress:10,financialIQ:5}}}],isRecurring:!0},{id:"sales_emails",title:"üìß Unsubscribe or Succumb?",description:'Your inbox has 2,847 unread "FINAL SALE! LAST CHANCE!" emails. One of them might be important.',image:"/event-images/sales_emails.webp",category:"SOCIAL",weight:15,options:[{label:'Click on "just one" sale... üõí',outcome:{cashChange:-350,message:"You bought things you don't need at prices you couldn't resist. Marketing wins again.",statChanges:{happiness:10,stress:5,financialIQ:-5}}},{label:"Mass unsubscribe (2 hours of your life)",outcome:{cashChange:0,message:"Freedom! For about a week. Then they found you again. They always find you.",statChanges:{stress:-10,happiness:5,energy:-10}}},{label:"Declare email bankruptcy üí•",outcome:{cashChange:0,message:"You marked all as read. Chaos. But liberating chaos.",statChanges:{stress:-15,happiness:10,financialIQ:3}}}],isRecurring:!0},{id:"warranty_expired",title:"üìÖ Warranty Just Expired",description:"Your laptop broke. It's been 367 days since purchase. The warranty was 365 days. Of course.",image:"/event-images/warranty_expired.webp",category:"HOUSING",weight:12,options:[{label:"Repair it ($400)",outcome:{cashChange:-400,message:'The repair tech looked at you with pity. "This happens a lot." Sure it does.',statChanges:{stress:15,happiness:-10}}},{label:"New laptop ($1,500)",outcome:{cashChange:-1500,message:"You got the extended warranty this time. Growth.",statChanges:{happiness:5,stress:5,financialIQ:5}}},{label:"YouTube repair tutorial üîß",outcome:{cashChange:-30,message:"You fixed it! Then it caught fire. Then you fixed that too. You're basically Tony Stark now.",statChanges:{happiness:15,stress:20,financialIQ:10}}}]},{id:"extended_warranty",title:"üìû Extended Warranty Call",description:"Your car's extended warranty IS about to expire. Wait, you actually answered that call?",image:"/event-images/extended_warranty.webp",category:"VEHICLE",weight:12,options:[{label:"Buy the warranty ($2,000)",outcome:{cashChange:-2e3,message:"Plot twist: it's actually legit. You use it 3 times. You win this round, warranty call.",statChanges:{stress:-5,financialIQ:5}}},{label:"Waste their time for 20 minutes üì±",outcome:{cashChange:0,message:"You asked about warranties for your hovercraft. Your yacht. Your submarine. Heroic work.",statChanges:{happiness:20,fulfillment:10,stress:-5}}},{label:"Hang up like a normal person",outcome:{cashChange:0,message:"They'll call back. They always call back. No one escapes the warranty calls.",statChanges:{stress:5}}}],isRecurring:!0},{id:"splitting_bill",title:"üçΩÔ∏è Restaurant Bill Drama",description:'One person had a salad. One had lobster. Karen wants to "just split it evenly."',image:"/event-images/splitting_bill.webp",category:"SOCIAL",weight:20,options:[{label:"Sure, split it ($85) üôÑ",outcome:{cashChange:-85,message:"You had soup. SOUP. And you paid for Karen's lobster tower. Never again. (Until next time.)",statChanges:{stress:15,happiness:-10,networking:5}}},{label:"Actually, let me just pay my share ($28)",outcome:{cashChange:-28,message:"Karen looked betrayed. The table went silent. But you kept $57. Math is math.",statChanges:{happiness:5,stress:10,networking:-10,financialIQ:10}}},{label:"Leave cash and disappear ($35)",outcome:{cashChange:-35,message:"You Irish-exited from a dinner. Legendary. Karen is still texting about it.",statChanges:{happiness:10,stress:-5,networking:-5}}}],isRecurring:!0},{id:"online_dating",title:"üíò Dating App Adventures",description:'You matched with someone who seems perfect. Their profile says they love "laughing, traveling, and The Office." Revolutionary.',image:"/event-images/online_dating.webp",category:"SOCIAL",weight:18,options:[{label:"Fancy date ($150) üçΩÔ∏è",outcome:{cashChange:-150,message:"Great conversation! They laughed at your jokes. Either they're the one or they're really polite. Either way: progress!",statChanges:{happiness:15,stress:-5,fulfillment:10}}},{label:"Coffee date ($12) ‚òï",outcome:{cashChange:-12,message:"Low investment, high return. You talked for 3 hours. Lost your parking spot. Worth it.",statChanges:{happiness:10,stress:-3}}},{label:"Ghost them (anxiety won) üëª",outcome:{cashChange:0,message:"You convinced yourself they were too good for you. Your therapist has thoughts about this.",statChanges:{happiness:-10,stress:15}}}],conditions:{minMonth:6}},{id:"work_drama",title:"üè¢ Office Politics: Season 47",description:"Someone threw you under the bus in a meeting. The bus was metaphorical but the betrayal was VERY real.",image:"/event-images/work_drama.webp",category:"CAREER",weight:20,isRecurring:!0,options:[{label:"Take the high road üòá",outcome:{cashChange:0,message:"You smiled and moved on. HR noticed your professionalism. Your reputation increased. Karma is patient.",statChanges:{happiness:-5,stress:10,networking:10}}},{label:"Document EVERYTHING üìù",outcome:{cashChange:0,message:"You now have a folder. A detailed folder. If they come for you again, you're READY.",statChanges:{stress:15,fulfillment:5,financialIQ:5}}},{label:"Strategic revenge (legally) üéØ",outcome:{cashChange:0,message:"You CC'd their boss on their mistake. Professionally. With receipts. *chef's kiss*",statChanges:{happiness:20,stress:-5,networking:-10}}}],conditions:{minMonth:6}},{id:"home_improvement",title:"üî® DIY: How Hard Can It Be?",description:"You watched ONE YouTube video and now you're confident you can install a ceiling fan. The ceiling fan disagrees.",image:"/event-images/home_improvement.webp",category:"HOUSING",weight:18,isRecurring:!0,options:[{label:"Hire a professional ($400) üë∑",outcome:{cashChange:-400,message:"They fixed it in 20 minutes. Made it look easy. Your ego is bruised but your ceiling is intact.",statChanges:{stress:-5,happiness:5}}},{label:"Keep trying (you've got this!) üí™",outcome:{cashChange:-50,message:"It took 6 hours, 3 trips to Home Depot, and some light crying. BUT IT WORKS. You are a GOD.",statChanges:{happiness:20,stress:15,fulfillment:15}}},{label:"Call dad for help üìû",outcome:{cashChange:0,message:'He fixed it while lecturing you about "kids these days." Worth the emotional price.',statChanges:{happiness:5,stress:5}}}],conditions:{minMonth:12}},{id:"viral_moment",title:"üì± You Went Viral!",description:"Someone filmed you doing something mildly embarrassing. It now has 2 million views. Your mom has seen it.",category:"SOCIAL",weight:8,options:[{label:"Lean into it! üé¨",outcome:{cashChange:500,message:'You made merch. MERCH. Of your embarrassing moment. This is called "turning lemons into content."',statChanges:{happiness:15,networking:15,fulfillment:10}}},{label:"Hide from the internet üôà",outcome:{cashChange:0,message:"You deleted all your socials for a week. It was actually kind of peaceful. Maybe the virus was the friends you didn't make.",statChanges:{happiness:5,stress:-10}}},{label:"Blame your friend who posted it üò§",outcome:{cashChange:0,message:'They said "any publicity is good publicity." Your friendship has been updated to "acquaintance."',statChanges:{happiness:-5,networking:-10,stress:10}}}],conditions:{minMonth:6}},{id:"mystery_charge",title:"üí≥ The Mystery Charge",description:`There's a $49.99 charge on your card from "DGTLSVC LLC." You have no memory of this. Neither does Google.`,image:"/event-images/mystery_charge.webp",category:"LEGAL",weight:15,isRecurring:!0,options:[{label:"Dispute it with the bank üè¶",outcome:{cashChange:50,message:"Got your money back! Turns out it was a subscription you forgot about from 2021. To a meditation app. Ironic.",statChanges:{happiness:10,financialIQ:5}}},{label:"Investigate (2 hours of your life) üîç",outcome:{cashChange:0,message:"It was a free trial you forgot to cancel. From 6 months ago. You've paid $300 for a service you never used.",statChanges:{stress:15,happiness:-10,financialIQ:10}}},{label:"Just cancel the card (nuclear option) üí•",outcome:{cashChange:-25,message:"New card fee paid. But now you have to update 47 websites with your new card number. Worth it? Maybe.",statChanges:{stress:20,happiness:-5}}}]},{id:"neighbor_drama",title:"üè° Neighbor Wars",description:`Your neighbor's dog keeps barking at 6am. Your neighbor thinks it's "character." You think it's assault.`,image:"/event-images/neighbor_drama.webp",category:"HOUSING",weight:15,isRecurring:!0,options:[{label:"Talk to them nicely ü§ù",outcome:{cashChange:0,message:"They apologized! Got the dog a trainer. You're invited to their BBQ now. Adulting achieved.",statChanges:{happiness:10,networking:10,stress:-10}}},{label:"Passive aggressive note üìù",outcome:{cashChange:0,message:"The note escalated things. Now they mow their lawn at 7am on Sundays. Regret.",statChanges:{stress:20,happiness:-10}}},{label:"Noise-canceling headphones ($300) üéß",outcome:{cashChange:-300,message:"Problem... not solved, but ignored. You now listen to podcasts about boundary-setting. Full circle.",statChanges:{happiness:5,stress:-5}}}]},{id:"reunion",title:"üéì High School Reunion",description:"Your 10-year reunion is coming up. Time to either flex your success or make peace with your journey.",image:"/event-images/reunion.webp",category:"SOCIAL",weight:10,options:[{label:"Go all out! ($500) ‚ú®",outcome:{cashChange:-500,message:"New outfit, professional photos, rented a nice car. Brad who peaked in gym class looked impressed. VICTORY.",statChanges:{happiness:15,networking:15,stress:10}}},{label:"Go and be genuine üíï",outcome:{cashChange:-50,message:"Had real conversations. Reconnected with old friends. Realized everyone's just figuring it out. Wholesome.",statChanges:{happiness:20,fulfillment:15,networking:10}}},{label:"Skip it entirely üèÉ",outcome:{cashChange:0,message:"You watched the chaos unfold on social media instead. Zero regrets. Some mysteries are better unsolved.",statChanges:{happiness:5,stress:-10}}}],conditions:{minMonth:60,maxOccurrences:1}}],Wd=Ud.map(t=>({id:t.id,title:t.titleKey||t.title||"",description:t.descriptionKey||t.description||"",category:t.category,options:t.choices.map(s=>{const{messageKey:l,message:i,...n}=s.effects;return{label:s.labelKey||s.label||"",outcome:{...n,message:l||i||"",followups:s.followups}}}),image:t.art||void 0,tags:t.tags,characterIds:t.characterIds,cooldownMonths:t.cooldown})),cs=[...Kd,...Wd];cs.filter(t=>t.category==="AI_DISRUPTION");const Ls=[{id:"Q_BUFFER_2K",title:"quests.Q_BUFFER_2K.title",description:"quests.Q_BUFFER_2K.description",category:"FOUNDATION",difficulty:"EASY",metric:"CASH_AMOUNT",target:2e3,reward:{cash:200,stats:{financialIQ:2}},hint:"quests.Q_BUFFER_2K.hint"},{id:"Q_FIRST_INVESTMENT",title:"quests.Q_FIRST_INVESTMENT.title",description:"quests.Q_FIRST_INVESTMENT.description",category:"INVESTING",difficulty:"EASY",metric:"OWN_ASSET_COUNT",target:1,reward:{cash:150,stats:{financialIQ:3}},hint:"quests.Q_FIRST_INVESTMENT.hint"},{id:"Q_FIRST_HUSTLE",title:"quests.Q_FIRST_HUSTLE.title",description:"quests.Q_FIRST_HUSTLE.description",category:"HUSTLES",difficulty:"EASY",metric:"ACTIVE_SIDE_HUSTLES",target:1,reward:{cash:150,stats:{networking:5,happiness:2}},hint:"quests.Q_FIRST_HUSTLE.hint"},{id:"Q_INVESTED_10K",title:"quests.Q_INVESTED_10K.title",description:"quests.Q_INVESTED_10K.description",category:"INVESTING",difficulty:"MEDIUM",metric:"TOTAL_INVESTED",target:1e4,reward:{stats:{financialIQ:4},creditRating:10},unlockAfter:["Q_FIRST_INVESTMENT"],hint:"quests.Q_INVESTED_10K.hint"},{id:"Q_DIVERSIFY_3",title:"quests.Q_DIVERSIFY_3.title",description:"quests.Q_DIVERSIFY_3.description",category:"RISK",difficulty:"MEDIUM",metric:"DIVERSIFY_ASSET_TYPES",target:3,reward:{stats:{financialIQ:4,happiness:2}},unlockAfter:["Q_INVESTED_10K"],hint:"quests.Q_DIVERSIFY_3.hint"},{id:"Q_PASSIVE_500",title:"quests.Q_PASSIVE_500.title",description:"quests.Q_PASSIVE_500.description",category:"INVESTING",difficulty:"MEDIUM",metric:"PASSIVE_INCOME",target:500,reward:{cash:500,stats:{happiness:5}},unlockAfter:["Q_DIVERSIFY_3"],hint:"quests.Q_PASSIVE_500.hint"},{id:"Q_EMERGENCY_3MO",title:"quests.Q_EMERGENCY_3MO.title",description:"quests.Q_EMERGENCY_3MO.description",category:"FOUNDATION",difficulty:"HARD",metric:"CASH_RESERVE_MONTHS",target:3,reward:{creditRating:25,stats:{financialIQ:3,stress:-8,happiness:3}},unlockAfter:["Q_PASSIVE_500"],hint:"quests.Q_EMERGENCY_3MO.hint"},{id:"Q_CAREER_LEVEL_3",title:"quests.Q_CAREER_LEVEL_3.title",description:"quests.Q_CAREER_LEVEL_3.description",category:"CAREER",difficulty:"MEDIUM",metric:"CAREER_LEVEL",target:3,reward:{cash:300,stats:{fulfillment:5,happiness:2}},unlockAfter:["Q_FIRST_HUSTLE"],hint:"quests.Q_CAREER_LEVEL_3.hint"},{id:"Q_CREDIT_720",title:"quests.Q_CREDIT_720.title",description:"quests.Q_CREDIT_720.description",category:"CREDIT",difficulty:"HARD",metric:"CREDIT_RATING",target:720,reward:{cash:700,stats:{networking:5,happiness:3}},unlockAfter:["Q_EMERGENCY_3MO"],hint:"quests.Q_CREDIT_720.hint"},{id:"Q_INVESTOR_25K",title:"quests.Q_INVESTOR_25K.title",description:"quests.Q_INVESTOR_25K.description",category:"INVESTING",difficulty:"MEDIUM",track:"INVESTOR",metric:"TOTAL_INVESTED",target:25e3,reward:{cash:500,stats:{financialIQ:5,happiness:2}},unlockAfter:["Q_INVESTED_10K"],hint:"quests.Q_INVESTOR_25K.hint"},{id:"Q_INVESTOR_DIVERSIFY_4",title:"quests.Q_INVESTOR_DIVERSIFY_4.title",description:"quests.Q_INVESTOR_DIVERSIFY_4.description",category:"RISK",difficulty:"HARD",track:"INVESTOR",metric:"DIVERSIFY_ASSET_TYPES",target:4,reward:{stats:{financialIQ:4,stress:-5}},unlockAfter:["Q_DIVERSIFY_3"],hint:"quests.Q_INVESTOR_DIVERSIFY_4.hint"},{id:"Q_INVESTOR_PASSIVE_1000",title:"quests.Q_INVESTOR_PASSIVE_1000.title",description:"quests.Q_INVESTOR_PASSIVE_1000.description",category:"INVESTING",difficulty:"HARD",track:"INVESTOR",metric:"PASSIVE_INCOME",target:1e3,reward:{cash:1e3,stats:{happiness:6}},unlockAfter:["Q_PASSIVE_500"],hint:"quests.Q_INVESTOR_PASSIVE_1000.hint"},{id:"Q_ENTREPRENEUR_HUSTLES_2",title:"quests.Q_ENTREPRENEUR_HUSTLES_2.title",description:"quests.Q_ENTREPRENEUR_HUSTLES_2.description",category:"HUSTLES",difficulty:"MEDIUM",track:"ENTREPRENEUR",metric:"ACTIVE_SIDE_HUSTLES",target:2,reward:{cash:400,stats:{networking:8,stress:3,fulfillment:3}},unlockAfter:["Q_FIRST_HUSTLE"],hint:"quests.Q_ENTREPRENEUR_HUSTLES_2.hint"},{id:"Q_ENTREPRENEUR_BUSINESS_1",title:"quests.Q_ENTREPRENEUR_BUSINESS_1.title",description:"quests.Q_ENTREPRENEUR_BUSINESS_1.description",category:"HUSTLES",difficulty:"HARD",track:"ENTREPRENEUR",metric:"OWN_BUSINESS_COUNT",target:1,reward:{cash:600,stats:{fulfillment:6,financialIQ:2}},unlockAfter:["Q_ENTREPRENEUR_HUSTLES_2"],hint:"quests.Q_ENTREPRENEUR_BUSINESS_1.hint"},{id:"Q_DEBTCRUSHER_REPAID_3K",title:"quests.Q_DEBTCRUSHER_REPAID_3K.title",description:"quests.Q_DEBTCRUSHER_REPAID_3K.description",category:"CREDIT",difficulty:"MEDIUM",track:"DEBT_CRUSHER",metric:"DEBT_REPAID_TOTAL",target:3e3,reward:{cash:250,creditRating:15,stats:{stress:-6,financialIQ:2}},unlockAfter:["Q_BUFFER_2K"],hint:"quests.Q_DEBTCRUSHER_REPAID_3K.hint"},{id:"Q_DEBTCRUSHER_REPAID_10K",title:"quests.Q_DEBTCRUSHER_REPAID_10K.title",description:"quests.Q_DEBTCRUSHER_REPAID_10K.description",category:"CREDIT",difficulty:"HARD",track:"DEBT_CRUSHER",metric:"DEBT_REPAID_TOTAL",target:1e4,reward:{cash:600,creditRating:25,stats:{stress:-10,happiness:3}},unlockAfter:["Q_DEBTCRUSHER_REPAID_3K"],hint:"quests.Q_DEBTCRUSHER_REPAID_10K.hint"},{id:"Q_DEBTCRUSHER_CREDIT_740",title:"quests.Q_DEBTCRUSHER_CREDIT_740.title",description:"quests.Q_DEBTCRUSHER_CREDIT_740.description",category:"CREDIT",difficulty:"HARD",track:"DEBT_CRUSHER",metric:"CREDIT_RATING",target:740,reward:{cash:800,stats:{happiness:4,networking:4}},unlockAfter:["Q_CREDIT_720"],hint:"quests.Q_DEBTCRUSHER_CREDIT_740.hint"},{id:"Q_ALEX_AUTOMATION",title:"quests.Q_ALEX_AUTOMATION.title",description:"quests.Q_ALEX_AUTOMATION.description",category:"CAREER",difficulty:"EASY",characterId:"alex",metric:"CAREER_LEVEL",target:2,reward:{cash:200,stats:{financialIQ:3}},hint:"quests.Q_ALEX_AUTOMATION.hint"},{id:"Q_ALEX_SIDE_PROJECT",title:"quests.Q_ALEX_SIDE_PROJECT.title",description:"quests.Q_ALEX_SIDE_PROJECT.description",category:"INVESTING",difficulty:"MEDIUM",characterId:"alex",metric:"PASSIVE_INCOME",target:250,reward:{cash:300,stats:{financialIQ:3,happiness:2}},unlockAfter:["Q_ALEX_AUTOMATION"],hint:"quests.Q_ALEX_SIDE_PROJECT.hint"},{id:"Q_MARIA_BUFFER",title:"quests.Q_MARIA_BUFFER.title",description:"quests.Q_MARIA_BUFFER.description",category:"FOUNDATION",difficulty:"EASY",characterId:"maria",metric:"CASH_RESERVE_MONTHS",target:1,reward:{stats:{stress:-5,health:3}},hint:"quests.Q_MARIA_BUFFER.hint"},{id:"Q_MARIA_STABILITY",title:"quests.Q_MARIA_STABILITY.title",description:"quests.Q_MARIA_STABILITY.description",category:"INVESTING",difficulty:"MEDIUM",characterId:"maria",metric:"PASSIVE_INCOME",target:300,reward:{cash:250,stats:{happiness:2,health:2}},unlockAfter:["Q_MARIA_BUFFER"],hint:"quests.Q_MARIA_STABILITY.hint"},{id:"Q_JAMES_MARKET_ENTRY",title:"quests.Q_JAMES_MARKET_ENTRY.title",description:"quests.Q_JAMES_MARKET_ENTRY.description",category:"INVESTING",difficulty:"EASY",characterId:"james",metric:"TOTAL_INVESTED",target:5e3,reward:{cash:200,stats:{financialIQ:3}},hint:"quests.Q_JAMES_MARKET_ENTRY.hint"},{id:"Q_JAMES_RISK_BALANCE",title:"quests.Q_JAMES_RISK_BALANCE.title",description:"quests.Q_JAMES_RISK_BALANCE.description",category:"RISK",difficulty:"MEDIUM",characterId:"james",metric:"DIVERSIFY_ASSET_TYPES",target:2,reward:{stats:{financialIQ:4,stress:-2}},unlockAfter:["Q_JAMES_MARKET_ENTRY"],hint:"quests.Q_JAMES_RISK_BALANCE.hint"},{id:"Q_SARAH_TOOLKIT",title:"quests.Q_SARAH_TOOLKIT.title",description:"quests.Q_SARAH_TOOLKIT.description",category:"FOUNDATION",difficulty:"EASY",characterId:"sarah",metric:"CASH_AMOUNT",target:5e3,reward:{cash:200,stats:{fulfillment:2}},hint:"quests.Q_SARAH_TOOLKIT.hint"},{id:"Q_SARAH_FIRST_PROPERTY",title:"quests.Q_SARAH_FIRST_PROPERTY.title",description:"quests.Q_SARAH_FIRST_PROPERTY.description",category:"INVESTING",difficulty:"MEDIUM",characterId:"sarah",metric:"OWN_REAL_ESTATE_COUNT",target:1,reward:{cash:500,stats:{financialIQ:2,happiness:2}},unlockAfter:["Q_SARAH_TOOLKIT"],hint:"quests.Q_SARAH_FIRST_PROPERTY.hint"},{id:"Q_DEVON_CLIENT_BASE",title:"quests.Q_DEVON_CLIENT_BASE.title",description:"quests.Q_DEVON_CLIENT_BASE.description",category:"HUSTLES",difficulty:"EASY",characterId:"devon",metric:"ACTIVE_SIDE_HUSTLES",target:1,reward:{cash:150,stats:{networking:4,happiness:2}},hint:"quests.Q_DEVON_CLIENT_BASE.hint"},{id:"Q_DEVON_PASSIVE",title:"quests.Q_DEVON_PASSIVE.title",description:"quests.Q_DEVON_PASSIVE.description",category:"INVESTING",difficulty:"MEDIUM",characterId:"devon",metric:"PASSIVE_INCOME",target:200,reward:{cash:200,stats:{financialIQ:2}},unlockAfter:["Q_DEVON_CLIENT_BASE"],hint:"quests.Q_DEVON_PASSIVE.hint"},{id:"Q_MARCUS_HUSTLE_2",title:"quests.Q_MARCUS_HUSTLE_2.title",description:"quests.Q_MARCUS_HUSTLE_2.description",category:"HUSTLES",difficulty:"MEDIUM",characterId:"marcus",metric:"ACTIVE_SIDE_HUSTLES",target:2,reward:{cash:300,stats:{networking:6,stress:2}},hint:"quests.Q_MARCUS_HUSTLE_2.hint"},{id:"Q_MARCUS_BUSINESS",title:"quests.Q_MARCUS_BUSINESS.title",description:"quests.Q_MARCUS_BUSINESS.description",category:"HUSTLES",difficulty:"HARD",characterId:"marcus",metric:"OWN_BUSINESS_COUNT",target:1,reward:{cash:700,stats:{fulfillment:6,financialIQ:2}},unlockAfter:["Q_MARCUS_HUSTLE_2"],hint:"quests.Q_MARCUS_BUSINESS.hint"},{id:"Q_LINDA_BUFFER_2",title:"quests.Q_LINDA_BUFFER_2.title",description:"quests.Q_LINDA_BUFFER_2.description",category:"FOUNDATION",difficulty:"EASY",characterId:"linda",metric:"CASH_RESERVE_MONTHS",target:2,reward:{stats:{stress:-6,happiness:2}},hint:"quests.Q_LINDA_BUFFER_2.hint"},{id:"Q_LINDA_PROMOTION",title:"quests.Q_LINDA_PROMOTION.title",description:"quests.Q_LINDA_PROMOTION.description",category:"CAREER",difficulty:"MEDIUM",characterId:"linda",metric:"CAREER_LEVEL",target:2,reward:{cash:250,stats:{fulfillment:3}},unlockAfter:["Q_LINDA_BUFFER_2"],hint:"quests.Q_LINDA_PROMOTION.hint"},{id:"Q_TYLER_PIPELINE",title:"quests.Q_TYLER_PIPELINE.title",description:"quests.Q_TYLER_PIPELINE.description",category:"FOUNDATION",difficulty:"EASY",characterId:"tyler",metric:"CASH_AMOUNT",target:6e3,reward:{cash:200,stats:{networking:4}},hint:"quests.Q_TYLER_PIPELINE.hint"},{id:"Q_TYLER_CREDIT",title:"quests.Q_TYLER_CREDIT.title",description:"quests.Q_TYLER_CREDIT.description",category:"CREDIT",difficulty:"MEDIUM",characterId:"tyler",metric:"CREDIT_RATING",target:680,reward:{cash:300,creditRating:10},unlockAfter:["Q_TYLER_PIPELINE"],hint:"quests.Q_TYLER_CREDIT.hint"}],Ot=t=>Ls.find(s=>s.id===t),Gd=t=>{const s=Ls.filter(o=>!o.unlockAfter||o.unlockAfter.length===0),l=t?s.filter(o=>o.characterId===t):[],i=s.filter(o=>!o.characterId);return[...l.slice(0,1),...i.slice(0,Math.max(0,3-l.length))].slice(0,3).map(o=>o.id)},Pt=t=>({active:Gd(t),readyToClaim:[],completed:[],track:void 0}),Ao=Pt(),Jd={happiness:50,health:80,energy:70,stress:30,networking:20,financialIQ:30,fulfillment:40},ma={month:1,year:2025,cash:8e3,assets:[],liabilities:[],mortgages:[],netWorthHistory:[],lifestyle:"MODEST",character:null,difficulty:"NORMAL",playerJob:{title:"Employee",salary:4500,level:1,experience:0},career:null,jobLossMonthsRemaining:0,education:{level:"HIGH_SCHOOL",degrees:[],currentlyEnrolled:void 0},activeSideHustles:[],family:{children:[],isEngaged:!1},vehicles:[{id:"starter-car",name:"Used Car",value:8e3,age:5,monthlyMaintenance:100,hasLoan:!1}],stats:Jd,quests:{...Ao,active:[...Ao.active],readyToClaim:[],completed:[],track:void 0},events:[],eventTracker:{taxesPaidThisYear:!1,lastTaxMonth:0,occurrences:{},lastOccurrence:{},lastEventMonth:0,recentEventIds:[]},economy:{inflationRate:.03,interestRate:.065,unemploymentRate:.04,marketTrend:"STABLE",recession:!1,recessionMonths:0,sectorPerformance:{technology:1,healthcare:1,real_estate:1,energy:1,banking:1,diversified:1,crypto:1,government:1}},marketCycle:{phase:"EXPANSION",monthsInPhase:0,intensity:.5,nextPhaseIn:24},aiDisruption:{disruptionLevel:0,year:2025,affectedIndustries:{}},pendingScenario:null,eventQueue:[],pendingSideHustleUpgrade:null,hasWon:!1,prestige:{lifetimeEarnings:0,totalGamesWon:0,highestNetWorth:0,unlockedCharacters:[]},spouseIncome:0,soundEnabled:!0,creditRating:650,creditHistory:[{month:1,score:650,reasons:["Starting credit profile"]}],creditLastChangeReasons:["Starting credit profile"],monthlyActionsMax:2,monthlyActionsRemaining:2,tempSalaryBonus:0,tempSideHustleMultiplier:1,salesAcceleratorCourse:{failedAttempts:0,bestScore:0,certified:!1,rewardClaimed:!1}},Xd={"language.name":"English","language.es":"Spanish","language.en":"English","modal.title":"Modal","modal.close":"Close modal","actions.reset":"Reset","actions.done":"Done","settings.accessibility.ariaLabel":"Accessibility settings","settings.accessibility.title":"Accessibility","settings.accessibility.subtitle":"Adjust text size and contrast for better readability.","settings.accessibility.largeText.title":"Larger text","settings.accessibility.largeText.description":"Scales the UI up for easier reading.","settings.accessibility.highContrast.title":"High contrast","settings.accessibility.highContrast.description":"Brightens text and UI accents for improved contrast.","settings.accessibility.reduceMotion.title":"Reduce motion","settings.accessibility.reduceMotion.description":"Minimize animations and motion effects.","settings.accessibility.disableConfetti.title":"Disable confetti","settings.accessibility.disableConfetti.description":"Turn off celebratory particle effects.","settings.accessibility.disableVideoPreload.title":"Disable tutorial video preload","settings.accessibility.disableVideoPreload.description":"Only load videos after you press Play.","save.autosaveNever":"No autosave yet","save.autosaveJustNow":"Autosaved just now","save.autosaveLast":"Last autosave: {time}","save.savedTitle":"Game Saved","save.savedBody":"Saved to {slot}.","save.failedTitle":"Save Failed","save.failedBody":"Unable to save game in this browser.","save.notFoundTitle":"No Save Found","save.notFoundBody":"Nothing saved in {slot}.","save.loadedTitle":"Game Loaded","save.loadedBody":"Loaded {slot}.","save.deletedTitle":"Save Deleted","save.deletedBody":"{slot} deleted.","save.renamedTitle":"Save Renamed","save.renamedBody":"Renamed {slot}.","save.slot.autosave":"Autosave","save.unknown":"Unknown","save.exportMissingTitle":"No Save Found","save.exportMissingBody":"Pick a slot with a save to export.","save.exportCopiedTitle":"Export Copied","save.exportCopiedBody":"Save JSON copied to clipboard.","save.exportCopyFailedTitle":"Copy Failed","save.exportCopyFailedBody":"Clipboard access was blocked.","save.exportDownloadedTitle":"Export Downloaded","save.exportDownloadedBody":"Save JSON downloaded.","save.exportDownloadFailedTitle":"Download Failed","save.exportDownloadFailedBody":"Unable to download the save file.","save.importInvalid":"Invalid JSON. Paste a valid export.","save.importFailed":"Import failed. Check the JSON format.","save.importSuccessTitle":"Import Complete","save.importSuccessBody":"Imported into {slot}.","settings.tutorialPopups.title":"Show tutorial popups automatically","settings.tutorialPopups.description":"Auto-open quick tips for new tabs and onboarding.","settings.language.label":"Language","settings.language.helper":"Switch language without reloading.","dates.invalid":"Invalid date","general.emptyDash":"‚Äî","quests.logTitle":"Quest Log","quests.logSubtitle":"Track progress, claim rewards, and preview what unlocks next.","quests.claimAll":"Claim all available","quests.claim":"Claim","quests.progress":"Progress","quests.upNext":"Up next","quests.preview":"Preview","quests.unlocksAfter":"Unlocks after: {title}","quests.rewardLabel":"üéÅ Reward:","quests.trackSummary":"{ready} ready ‚Ä¢ {active} active ‚Ä¢ {claimed} claimed","quests.completeTitle":"Quest complete: {title}","quests.rewardReady":"Reward ready to claim.","quests.trackUnlockedTitle":"üß≠ Track Unlocked","quests.trackUnlockedBody":"{track} questline unlocked.","quests.rewardClaimedTitle":"üèÜ Reward Claimed!","quests.nothingToClaimTitle":"Nothing to Claim","quests.nothingToClaimBody":"No quest rewards are ready yet.","quests.claimAllTitle":"Claim all available rewards?","quests.claimAllBody":{one:"You have {count} quest reward ready.",other:"You have {count} quest rewards ready."},"quests.rewardsClaimedTitle":"Rewards Claimed","quests.rewardsClaimedBody":{one:"Claimed {count} quest reward.",other:"Claimed {count} quest rewards."},"quests.openLog":"Open quest log","events.modalTitle":"Scenario","events.enlargeImage":"Enlarge event image","events.tapToEnlarge":"Tap to enlarge","autoplay.statusOn":"Autoplay: ON ({speed})","autoplay.statusOff":"Autoplay: OFF","autoplay.hotkeyHint":"Press Shift+A to toggle","autoplay.stopHint":"Stop autoplay (Shift+A)","autoplay.startHint":"Start autoplay (Shift+A)","autoplay.stop":"Stop Autoplay","autoplay.start":"Start Autoplay","autoplay.tooltipOn":"Autoplay ON ({speed}). Pauses during decisions. Hotkey: Shift+A.","autoplay.tooltipOff":"Autoplay OFF. Pauses during decisions. Hotkey: Shift+A.","events.recentTitle":"üì∞ Recent Events","events.none":"No events yet. Start playing!","events.labTitle":"üß™ Event Lab","events.labEventLabel":"Event","events.labOptionLabel":"Option","events.labSimulate":"Simulate Outcome","events.labInject":"Inject Event","events.labSummary":"Simulation Summary","events.labCash":"Cash: {value}","events.labAssets":"Assets: {value}","events.labLiabilities":"Liabilities: {value}","events.labMessage":"Message: {value}","events.eventAlreadyActiveTitle":"Event Already Active","events.eventAlreadyActiveBody":"Resolve the current event before injecting another.","events.defaultTitle":"Event","actions.show":"Show","actions.hide":"Hide","hustle.upgrade.deferHint":"Not ready to decide? Close this panel and choose later from your active hustle list.","credit.whyChanged":"Why it changed this month","credit.noChange":"No change recorded yet.","quests.sectionTitle":"Goals & Quests","quests.sectionSubtitle":"Short-term objectives with small rewards - learn the money habits that win games.","quests.trackLabel":"Track","quests.readyLabel":"Ready","quests.claimedLabel":"Claimed","quests.readyToClaim":"Ready to claim","quests.tapClaimHint":"Tap Claim to apply rewards","quests.noActive":"No active goals right now.","quests.difficulty.EASY":"EASY","quests.difficulty.MEDIUM":"MEDIUM","quests.difficulty.HARD":"HARD","quests.viewCompleted":{one:"View completed goals ({count})",other:"View completed goals ({count})"},"quests.track.CAREER":"Career","quests.track.INVESTOR":"Investor","quests.track.ENTREPRENEUR":"Entrepreneur","quests.track.DEBT_CRUSHER":"Debt Crusher","quests.progressMoney":"{current} / {target}","quests.progressMonths":"{current} / {target} months","quests.progressScore":"{current} / {target}","quests.reward.cash":"{value} cash","quests.reward.credit":"{value} credit","quests.reward.stat":"{value} {stat}","stats.financialIQ":"Financial IQ","stats.networking":"Networking","stats.happiness":"Happiness","stats.stress":"Stress","stats.energy":"Energy","stats.fulfillment":"Fulfillment","stats.health":"Health","freedom.breakdown.title":"Breakdown","freedom.breakdown.goal":"Goal: {value}%","freedom.breakdown.passiveIncome":"Passive income","freedom.breakdown.passiveHelp":"What counts as passive income?","freedom.breakdown.passiveTooltip":"Includes asset cashflow (business, real estate, stocks). Side hustles are tracked separately.","freedom.breakdown.expenses":"Expenses","freedom.breakdown.expensesHelp":"What counts as expenses?","freedom.breakdown.expensesTooltip":"Includes lifestyle, debt payments, education, children, and vehicle costs.","freedom.breakdown.ratio":"Ratio","freedom.breakdown.ratioValue":"{passive} / {expenses} = {percent}%","freedom.breakdown.change":"Change since last month","freedom.breakdown.passiveLabel":"Passive","tabs.overview":"Overview","tabs.invest":"Invest","tabs.portfolio":"Portfolio","tabs.bank":"Bank","tabs.career":"Career","tabs.education":"Education","tabs.selfLearn":"Self Learn","tabs.upgradeEq":"Upgrade EQ","tabs.negotiations":"Master Negotiations","tabs.sideHustles":"Side Hustles","tabs.lifestyle":"Lifestyle","selfLearn.salesTraining":"Sales Training","quests.Q_BUFFER_2K.title":"Starter Buffer","quests.Q_BUFFER_2K.description":"Save $2,000 in cash so a single bad month doesn't break you.","quests.Q_BUFFER_2K.hint":"A cash buffer prevents missed payments and keeps options open.","quests.Q_FIRST_INVESTMENT.title":"First Investment","quests.Q_FIRST_INVESTMENT.description":"Buy your first investment asset from the Invest tab.","quests.Q_FIRST_INVESTMENT.hint":"Investing turns saved money into future cash flow.","quests.Q_FIRST_HUSTLE.title":"Side Hustle Kickoff","quests.Q_FIRST_HUSTLE.description":"Start a side hustle to diversify your income stream.","quests.Q_FIRST_HUSTLE.hint":"Extra income reduces reliance on debt and accelerates investing.","quests.Q_INVESTED_10K.title":"Build a Portfolio","quests.Q_INVESTED_10K.description":"Reach $10,000 invested across your assets (excluding savings).","quests.Q_INVESTED_10K.hint":"Consistency beats perfection - small deposits compound over time.","quests.Q_DIVERSIFY_3.title":"Diversify","quests.Q_DIVERSIFY_3.description":"Own at least 3 different asset types (excluding savings).","quests.Q_DIVERSIFY_3.hint":"Diversification reduces the damage from any single crash.","quests.Q_PASSIVE_500.title":"Passive Income Starter","quests.Q_PASSIVE_500.description":"Earn $500/month in passive income from assets.","quests.Q_PASSIVE_500.hint":"Cash flow is the real engine of financial freedom.","quests.Q_EMERGENCY_3MO.title":"Emergency Fund (3 months)","quests.Q_EMERGENCY_3MO.description":"Hold 3 months of expenses in cash reserves.","quests.Q_EMERGENCY_3MO.hint":"Emergency funds help you survive recessions without selling at the worst time.","quests.Q_CAREER_LEVEL_3.title":"Career Climber","quests.Q_CAREER_LEVEL_3.description":"Reach career level 3 through experience, education, and smart choices.","quests.Q_CAREER_LEVEL_3.hint":"Higher income increases how fast you can invest and pay down debt.","quests.Q_CREDIT_720.title":"Credit Upgrade","quests.Q_CREDIT_720.description":"Reach a 720+ credit rating to qualify for better loan terms.","quests.Q_CREDIT_720.hint":"On-time payments (and avoiding delinquency) are the fastest way up.","quests.Q_INVESTOR_25K.title":"Investor Track: $25K Invested","quests.Q_INVESTOR_25K.description":"Grow your invested portfolio to $25,000 (excluding savings).","quests.Q_INVESTOR_25K.hint":"Think long-term: steady contributions beat lucky picks.","quests.Q_INVESTOR_DIVERSIFY_4.title":"Investor Track: Diversify 4 Types","quests.Q_INVESTOR_DIVERSIFY_4.description":"Own at least 4 different asset types (excluding savings).","quests.Q_INVESTOR_DIVERSIFY_4.hint":"Diversification reduces volatility and regret.","quests.Q_INVESTOR_PASSIVE_1000.title":"Investor Track: $1,000/mo Passive","quests.Q_INVESTOR_PASSIVE_1000.description":"Reach $1,000/month in passive income.","quests.Q_INVESTOR_PASSIVE_1000.hint":"Cash flow reduces your dependence on salary.","quests.Q_ENTREPRENEUR_HUSTLES_2.title":"Entrepreneur Track: Two Hustles","quests.Q_ENTREPRENEUR_HUSTLES_2.description":"Run two active side hustles at the same time.","quests.Q_ENTREPRENEUR_HUSTLES_2.hint":"Income diversification speeds up investing - watch your energy and stress.","quests.Q_ENTREPRENEUR_BUSINESS_1.title":"Entrepreneur Track: Own a Business","quests.Q_ENTREPRENEUR_BUSINESS_1.description":"Acquire your first business asset.","quests.Q_ENTREPRENEUR_BUSINESS_1.hint":"Businesses can cash-flow well - but require careful risk management.","quests.Q_DEBTCRUSHER_REPAID_3K.title":"Debt Crusher Track: Repaid $3,000","quests.Q_DEBTCRUSHER_REPAID_3K.description":"Pay down $3,000 of total debt principal (liabilities + mortgages).","quests.Q_DEBTCRUSHER_REPAID_3K.hint":"Debt payoff is a guaranteed return equal to the interest rate.","quests.Q_DEBTCRUSHER_REPAID_10K.title":"Debt Crusher Track: Repaid $10,000","quests.Q_DEBTCRUSHER_REPAID_10K.description":"Pay down $10,000 of total debt principal.","quests.Q_DEBTCRUSHER_REPAID_10K.hint":"Lower debt increases your freedom to invest when opportunities appear.","quests.Q_DEBTCRUSHER_CREDIT_740.title":"Debt Crusher Track: 740+ Credit","quests.Q_DEBTCRUSHER_CREDIT_740.description":"Reach a 740+ credit rating (excellent terms).","quests.Q_DEBTCRUSHER_CREDIT_740.hint":"Good credit is leverage - protect it with on-time payments.","errors.genericTitle":"Something went wrong","errors.genericBody":"The UI crashed. Refresh to retry.","errors.unknown":"Unknown error","errors.tabTitle":"{tab} Tab Error","errors.tabBody":"Something went wrong while rendering this tab. You can try again or switch to another tab.","actions.refresh":"Refresh","actions.tryContinue":"Try continue","actions.tryAgain":"Try again","actions.cancel":"Cancel","modeSelector.loading":"Loading...","modeSelector.title":"üí∞ TYCOON üí∞","modeSelector.subtitle":"Build Your Financial Empire","modeSelector.auth.title":"Enter Access Code","modeSelector.auth.subtitle":"This game is in private beta","modeSelector.auth.placeholder":"Enter password...","modeSelector.auth.enter":"Enter Game","modeSelector.createdBy":"Created by","modeSelector.auth.incorrectPassword":"Incorrect password","modeSelector.multiplayer.allPlayersNeedNames":"All players must enter their name","events.biz_partner_intro.title":"ü§ù Partnership Pitch","events.biz_partner_intro.description":"A former colleague wants to join forces to grow a new venture together.","events.biz_partner_intro.choices.0.label":"Bring them on as a partner","events.biz_partner_intro.choices.0.message":"You formalize the partnership and split the workload.","events.biz_partner_intro.choices.1.label":"Stay solo","events.biz_partner_intro.choices.1.message":"You keep full control and move at your own pace.","events.biz_partner_scaling.title":"üöÄ Scale-Up Decision","events.biz_partner_scaling.description":"Demand is rising. Your partner wants to scale fast.","events.biz_partner_scaling.choices.0.label":"Expand fast with paid marketing","events.biz_partner_scaling.choices.0.message":"You pour fuel on growth and hire contractors.","events.biz_partner_scaling.choices.1.label":"Grow steadily","events.biz_partner_scaling.choices.1.message":"You expand carefully with a smaller budget.","events.biz_partner_scaling.choices.2.label":"Pause expansion","events.biz_partner_scaling.choices.2.message":"You keep the business lean for now.","events.biz_partner_dispute.title":"‚öñÔ∏è Partnership Dispute","events.biz_partner_dispute.description":"Strategy disagreements are escalating. The partnership needs a resolution.","events.biz_partner_dispute.choices.0.label":"Buy out your partner","events.biz_partner_dispute.choices.0.message":"You take full control of the business.","events.biz_partner_dispute.choices.1.label":"Mediation","events.biz_partner_dispute.choices.1.message":"A mediator helps you find a compromise.","events.biz_partner_dispute.choices.2.label":"Sell your share","events.biz_partner_dispute.choices.2.message":"You exit with cash but lose upside.","events.health_checkup.title":"ü©∫ Annual Checkup","events.health_checkup.description":"Your doctor recommends an insurance plan upgrade before the next cycle.","events.health_checkup.choices.0.label":"Buy insurance upgrade","events.health_checkup.choices.0.message":"You lock in better coverage and peace of mind.","events.health_checkup.choices.1.label":"Skip the upgrade","events.health_checkup.choices.1.message":"You hope nothing goes wrong.","events.health_claim.title":"üè• Coverage Pays Off","events.health_claim.description":"A surprise clinic visit is fully covered by your upgraded plan.","events.health_claim.choices.0.label":"File the claim","events.health_claim.choices.0.message":"Insurance covers the bulk of the cost.","events.health_claim.choices.1.label":"Upgrade to premium plan","events.health_claim.choices.1.message":"You lock in even better coverage for next year.","events.health_emergency.title":"üöë Medical Emergency","events.health_emergency.description":"An unexpected medical bill hits your inbox.","events.health_emergency.choices.0.label":"Pay the bill in cash","events.health_emergency.choices.0.message":"You clear the bill immediately.","events.health_emergency.choices.1.label":"Put it on a payment plan","events.health_emergency.choices.1.message":"You spread the costs over time.","events.landlord_screening.title":"üè† Tenant Screening","events.landlord_screening.description":"A tenant application looks good on paper, but the market is tight.","events.landlord_screening.choices.0.label":"Screen carefully","events.landlord_screening.choices.0.message":"You run thorough checks and wait for the right tenant.","events.landlord_screening.choices.1.label":"Fill the unit fast","events.landlord_screening.choices.1.message":"You accept the first qualified applicant.","events.landlord_tenant_good.title":"‚úÖ Great Tenant","events.landlord_tenant_good.description":"Your tenant pays early and takes great care of the property.","events.landlord_tenant_good.choices.0.label":"Renew the lease","events.landlord_tenant_good.choices.0.message":"Stable income keeps your stress low.","events.landlord_tenant_good.choices.1.label":"Offer a loyalty discount","events.landlord_tenant_good.choices.1.message":"You keep a reliable tenant and build goodwill.","events.landlord_tenant_issue.title":"‚ö†Ô∏è Late Rent","events.landlord_tenant_issue.description":"Your tenant is behind on rent and dodging calls.","events.landlord_tenant_issue.choices.0.label":"Issue a formal warning","events.landlord_tenant_issue.choices.0.message":"You start the paper trail for eviction.","events.landlord_tenant_issue.choices.1.label":"Offer a payment plan","events.landlord_tenant_issue.choices.1.message":"You cover the gap and hope they recover.","events.landlord_eviction.title":"üìÑ Eviction Decision","events.landlord_eviction.description":"Rent is still unpaid. You need to choose a path forward.","events.landlord_eviction.choices.0.label":"Proceed with eviction","events.landlord_eviction.choices.0.message":"Legal fees hurt, but you regain control.","events.landlord_eviction.choices.1.label":"Offer cash-for-keys","events.landlord_eviction.choices.1.message":"You pay them to leave quickly and avoid court.","events.insurance_discount.title":"üìâ Premium Discount","events.insurance_discount.description":"Your insurer offers a limited-time discount for safe driving.","events.insurance_discount.choices.0.label":"Take the discount","events.insurance_discount.choices.0.message":"You lock in the savings for the year.","events.insurance_discount.choices.1.label":"Ignore it","events.insurance_discount.choices.1.message":"You keep your current premium.","events.career_cert_offer.title":"üéì Weekend Certification","events.career_cert_offer.description":"A respected certification program offers a weekend-intensive cohort.","events.career_cert_offer.choices.0.label":"Enroll in the cohort","events.career_cert_offer.choices.0.message":"You earn a credential and stronger leverage at work.","events.career_cert_offer.choices.1.label":"Pass for now","events.career_cert_offer.choices.1.message":"You keep your weekends free.","events.micro_grant.title":"üéÅ Local Micro-Grant","events.micro_grant.description":"Your community offers a small grant for local entrepreneurs.","events.micro_grant.choices.0.label":"Apply for the grant","events.micro_grant.choices.0.message":"Your application is approved.","events.supply_chain_shock.title":"üö¢ Supply Chain Shock","events.supply_chain_shock.description":"Rising shipping costs are squeezing margins across the market.","events.supply_chain_shock.choices.0.label":"Stock up on essentials","events.supply_chain_shock.choices.0.message":"You lock in inventory ahead of the price spike.","events.supply_chain_shock.choices.1.label":"Ride it out","events.supply_chain_shock.choices.1.message":"You save cash and hope the shock passes.","modeSelector.multiplayer.turnLabel":"{name}'s Turn","modeSelector.multiplayer.exit":"Exit Game","difficulty.normal":"Normal","quests.Q_ALEX_AUTOMATION.title":"Automation Payoff","quests.Q_ALEX_AUTOMATION.description":"Reach Career Level 2 to prove your automation edge.","quests.Q_ALEX_AUTOMATION.hint":"Gain experience or pursue education to level up.","quests.Q_ALEX_SIDE_PROJECT.title":"Side Project Momentum","quests.Q_ALEX_SIDE_PROJECT.description":"Grow passive income to $250 per month from your projects.","quests.Q_ALEX_SIDE_PROJECT.hint":"Invest in assets that generate recurring income.","quests.Q_MARIA_BUFFER.title":"Steady Buffer","quests.Q_MARIA_BUFFER.description":"Build one month of expenses in cash reserves.","quests.Q_MARIA_BUFFER.hint":"Save cash or trim expenses.","quests.Q_MARIA_STABILITY.title":"Reliable Income Stream","quests.Q_MARIA_STABILITY.description":"Reach $300 per month in passive income for stability.","quests.Q_MARIA_STABILITY.hint":"Invest in steady cashflow assets.","quests.Q_JAMES_MARKET_ENTRY.title":"Market Entry","quests.Q_JAMES_MARKET_ENTRY.description":"Invest a total of $5,000.","quests.Q_JAMES_MARKET_ENTRY.hint":"Start with diversified starter assets.","quests.Q_JAMES_RISK_BALANCE.title":"Risk Balance","quests.Q_JAMES_RISK_BALANCE.description":"Hold investments across 2 asset types.","quests.Q_JAMES_RISK_BALANCE.hint":"Diversify between at least two categories.","quests.Q_SARAH_TOOLKIT.title":"Tool Kit Ready","quests.Q_SARAH_TOOLKIT.description":"Hold $5,000 cash to upgrade your toolkit.","quests.Q_SARAH_TOOLKIT.hint":"Save up cash without dipping into reserves.","quests.Q_SARAH_FIRST_PROPERTY.title":"First Property","quests.Q_SARAH_FIRST_PROPERTY.description":"Own one real estate asset.","quests.Q_SARAH_FIRST_PROPERTY.hint":"Consider a starter property or mortgage option.","quests.Q_DEVON_CLIENT_BASE.title":"Client Base","quests.Q_DEVON_CLIENT_BASE.description":"Run at least one active side hustle.","quests.Q_DEVON_CLIENT_BASE.hint":"Start a hustle that matches your strengths.","quests.Q_DEVON_PASSIVE.title":"Creative Residuals","quests.Q_DEVON_PASSIVE.description":"Build $200 per month in passive income.","quests.Q_DEVON_PASSIVE.hint":"Automate or invest for recurring income.","quests.Q_MARCUS_HUSTLE_2.title":"Hustle Portfolio","quests.Q_MARCUS_HUSTLE_2.description":"Operate two active side hustles.","quests.Q_MARCUS_HUSTLE_2.hint":"Stack complementary hustles early.","quests.Q_MARCUS_BUSINESS.title":"First Business","quests.Q_MARCUS_BUSINESS.description":"Own a business asset.","quests.Q_MARCUS_BUSINESS.hint":"Reinvest profits into a business asset.","quests.Q_LINDA_BUFFER_2.title":"Safety Net","quests.Q_LINDA_BUFFER_2.description":"Build two months of expenses in cash reserves.","quests.Q_LINDA_BUFFER_2.hint":"Keep expenses steady and save consistently.","quests.Q_LINDA_PROMOTION.title":"Public Service Step","quests.Q_LINDA_PROMOTION.description":"Reach Career Level 2.","quests.Q_LINDA_PROMOTION.hint":"Gain experience and meet requirements.","quests.Q_TYLER_PIPELINE.title":"Pipeline Cushion","quests.Q_TYLER_PIPELINE.description":"Hold $6,000 cash to smooth commissions.","quests.Q_TYLER_PIPELINE.hint":"Save when commissions are strong.","quests.Q_TYLER_CREDIT.title":"Credit Ready","quests.Q_TYLER_CREDIT.description":"Reach a credit score of 680.","quests.Q_TYLER_CREDIT.hint":"Pay on time and manage utilization.","events.alex_hackathon.title":"üíª Hackathon Weekend","events.alex_hackathon.description":"Your team gets invited to a weekend hackathon with potential bonuses.","events.alex_hackathon.choices.0.label":"Join the hackathon","events.alex_hackathon.choices.0.message":"You demo well and earn a small bonus.","events.alex_hackathon.choices.1.label":"Skip and recover","events.alex_hackathon.choices.1.message":"You rest and avoid burnout.","events.alex_open_source.title":"üåê Open Source Shoutout","events.alex_open_source.description":"A maintainer offers to feature your work in a popular repo.","events.alex_open_source.choices.0.label":"Contribute a patch","events.alex_open_source.choices.0.message":"Your contribution gets noticed by peers.","events.alex_open_source.choices.1.label":"Decline politely","events.alex_open_source.choices.1.message":"You keep focus on paid work.","events.maria_shift_bonus.title":"ü©∫ Extra Shift Offer","events.maria_shift_bonus.description":"The hospital offers bonus pay for covering an extra shift.","events.maria_shift_bonus.choices.0.label":"Take the shift","events.maria_shift_bonus.choices.0.message":"The bonus helps, but it is exhausting.","events.maria_shift_bonus.choices.1.label":"Protect your energy","events.maria_shift_bonus.choices.1.message":"You prioritize recovery.","events.maria_community_clinic.title":"üè• Community Clinic Day","events.maria_community_clinic.description":"A local clinic asks for volunteers and offers a small stipend.","events.maria_community_clinic.choices.0.label":"Volunteer for the day","events.maria_community_clinic.choices.0.message":"You make connections and help the community.","events.maria_community_clinic.choices.1.label":"Pass this time","events.maria_community_clinic.choices.1.message":"You keep your schedule clear.","events.james_client_review.title":"üìà Client Portfolio Review","events.james_client_review.description":"A client wants a deep-dive review of their portfolio.","events.james_client_review.choices.0.label":"Do a full analysis","events.james_client_review.choices.0.message":"You impress them and earn a bonus.","events.james_client_review.choices.1.label":"Keep it light","events.james_client_review.choices.1.message":"You save time and tighten your model.","events.james_model_edge.title":"üßÆ New Model Insight","events.james_model_edge.description":"You spot a flaw in a pricing model before a meeting.","events.james_model_edge.choices.0.label":"Fix it overnight","events.james_model_edge.choices.0.message":"You deliver a clean model and earn trust.","events.james_model_edge.choices.1.label":"Flag it for later","events.james_model_edge.choices.1.message":"You avoid overtime but accept a minor hit.","events.devon_brand_collab.title":"üé® Brand Collab Request","events.devon_brand_collab.description":"A small brand wants a fast-turnaround design collab.","events.devon_brand_collab.choices.0.label":"Take the collab","events.devon_brand_collab.choices.0.message":"You land a paid project and new contacts.","events.devon_brand_collab.choices.1.label":"Hold for better fit","events.devon_brand_collab.choices.1.message":"You keep time for personal work.","events.devon_portfolio_feature.title":"üñºÔ∏è Portfolio Feature","events.devon_portfolio_feature.description":"A design blog offers to feature your portfolio.","events.devon_portfolio_feature.choices.0.label":"Send your best work","events.devon_portfolio_feature.choices.0.message":"The feature boosts your visibility.","events.devon_portfolio_feature.choices.1.label":"Skip the spotlight","events.devon_portfolio_feature.choices.1.message":"You stay focused on client work.","events.marcus_pitch_night.title":"üöÄ Pitch Night Invite","events.marcus_pitch_night.description":"A local angel group invites you to pitch your idea.","events.marcus_pitch_night.choices.0.label":"Take the stage","events.marcus_pitch_night.choices.0.message":"You make a strong first impression.","events.marcus_pitch_night.choices.1.label":"Hold off","events.marcus_pitch_night.choices.1.message":"You wait until the numbers are tighter.","events.marcus_seed_terms.title":"üíº Seed Terms Arrive","events.marcus_seed_terms.description":"An investor sends early seed terms for your venture.","events.marcus_seed_terms.choices.0.label":"Accept the terms","events.marcus_seed_terms.choices.0.message":"You secure funding to build faster.","events.marcus_seed_terms.choices.1.label":"Counter with a smaller round","events.marcus_seed_terms.choices.1.message":"You keep more control but take less cash.","events.sarah_trade_bid.title":"üîß Big Contract Bid","events.sarah_trade_bid.description":"A contractor asks you to bid on a multi-week job.","events.sarah_trade_bid.choices.0.label":"Bid aggressively","events.sarah_trade_bid.choices.0.message":"You lock in the bid and prep for inspection.","events.sarah_trade_bid.choices.1.label":"Bid conservatively","events.sarah_trade_bid.choices.1.message":"You keep risk low and cash steady.","events.sarah_inspection.title":"‚úÖ Site Inspection","events.sarah_inspection.description":"The site inspector is coming sooner than expected.","events.sarah_inspection.choices.0.label":"Rush to finish","events.sarah_inspection.choices.0.message":"You pass inspection and get paid out.","events.sarah_inspection.choices.1.label":"Pay for overtime help","events.sarah_inspection.choices.1.message":"You cover the gap but take a cost hit.","events.linda_pension_briefing.title":"üèõÔ∏è Pension Briefing","events.linda_pension_briefing.description":"HR offers a session on pension and benefit optimization.","events.linda_pension_briefing.choices.0.label":"Attend the briefing","events.linda_pension_briefing.choices.0.message":"You spot a small benefit you can claim.","events.linda_pension_briefing.choices.1.label":"Skip the session","events.linda_pension_briefing.choices.1.message":"You keep your schedule light.","events.linda_policy_committee.title":"üìú Policy Committee Invite","events.linda_policy_committee.description":"You are invited to join a policy committee at work.","events.linda_policy_committee.choices.0.label":"Join the committee","events.linda_policy_committee.choices.0.message":"Your visibility grows across departments.","events.linda_policy_committee.choices.1.label":"Decline politely","events.linda_policy_committee.choices.1.message":"You avoid extra meetings.","events.tyler_big_pitch.title":"üìä High-Stakes Pitch","events.tyler_big_pitch.description":"A large client asks for a last-minute pitch.","events.tyler_big_pitch.choices.0.label":"Go all in","events.tyler_big_pitch.choices.0.message":"You close the deal and earn a bump.","events.tyler_big_pitch.choices.1.label":"Pass the lead","events.tyler_big_pitch.choices.1.message":"You avoid the stress this month.","events.tyler_pipeline_dip.title":"üìâ Pipeline Dip","events.tyler_pipeline_dip.description":"Your pipeline goes quiet for a few weeks.","events.tyler_pipeline_dip.choices.0.label":"Invest in outreach","events.tyler_pipeline_dip.choices.0.message":"You spend to spark new leads.","events.tyler_pipeline_dip.choices.1.label":"Wait it out","events.tyler_pipeline_dip.choices.1.message":"You save cash and hope it rebounds.","salesQuiz.meta.title":"Sales Accelerator Certification","salesQuiz.meta.description":"A short, scenario-based certification focused on ethical, effective B2B selling and negotiation fundamentals.","salesQuiz.meta.entryPointLabel":"Start Certification","salesQuiz.meta.tip1":"Answer honestly - this is about long-term trust, not tricks.","salesQuiz.meta.tip2":"Focus on outcomes, proof, and alignment.","salesQuiz.meta.tip3":"Use ethical persuasion: clarity beats pressure.","salesQuiz.ui.certified":"Certified","salesQuiz.ui.attemptsLeft":"Attempts left: {count}","salesQuiz.ui.bestScore":"Best score: {score}/{total}","salesQuiz.ui.attemptsUsed":"Attempts used. Improve your skills and try again later.","salesQuiz.ui.certificationLabel":"Certification","salesQuiz.ui.coverPlaceholder":"Cover image placeholder","salesQuiz.ui.passingAllCorrect":"Passing score: All correct","salesQuiz.ui.passingPercentage":"Passing score: {count}%","salesQuiz.ui.quickTips":"Quick tips","salesQuiz.ui.questionCount":"{count} questions - Review enabled","salesQuiz.ui.noAttempts":"You have used all attempts. Check back after more practice.","salesQuiz.ui.close":"Close","salesQuiz.ui.practiceMode":"Practice Mode","salesQuiz.ui.startCertification":"Start Certification","salesQuiz.ui.questionLabel":"Question {index} of {total}","salesQuiz.ui.scoreLabel":"Score: {score}/{total}","salesQuiz.ui.questionPlaceholder":"Question visual placeholder","salesQuiz.ui.correct":"Correct","salesQuiz.ui.incorrect":"Not quite","salesQuiz.ui.exit":"Exit","salesQuiz.ui.finish":"Finish","salesQuiz.ui.next":"Next","salesQuiz.ui.resultsLabel":"Results","salesQuiz.ui.resultsPassed":"Certification passed","salesQuiz.ui.resultsFailed":"Certification failed","salesQuiz.ui.rewardEarned":"Reward earned: {cash} cash, +{fiq} FIQ, +{happiness} happiness.","salesQuiz.ui.reviewTitle":"Answer review","salesQuiz.ui.yourAnswer":"Your answer: {answer}","salesQuiz.ui.correctAnswer":"Correct answer: {answer}","salesQuiz.ui.practiceAgain":"Practice again","salesQuiz.ui.retry":"Retry certification","salesQuiz.ui.noAnswer":"No answer","quiz.sales_q1.prompt":"A prospect asks for functionality your product does not currently support. What is the best ethical response?","quiz.sales_q1.explanation":"Trust comes from accuracy and alignment. Clear limits plus outcome focus builds long-term credibility.","quiz.sales_q1.option_a":"Be clear about the limitation, confirm the outcome they need, and offer the best current path.","quiz.sales_q1.option_b":"Suggest it is nearly ready so the deal does not slow down.","quiz.sales_q1.option_c":"Deflect to pricing and hope they do not circle back.","quiz.sales_q1.option_d":"Promise a custom build even though delivery is uncertain.","quiz.sales_q1.feedback_a":"Correct: accuracy builds trust, and outcome alignment keeps momentum without misrepresentation.","quiz.sales_q1.feedback_b":"Risky: misleading capability claims create churn, escalations, and reputational damage.","quiz.sales_q1.feedback_c":"Avoidance lowers credibility - capability fit must be clarified before pricing makes sense.","quiz.sales_q1.feedback_d":"Unethical if uncertain: only commit to delivery timelines and scope you can confidently meet.","quiz.sales_q2.prompt":"Why does the early phase of a sales conversation matter so much, even in B2B?","quiz.sales_q2.explanation":"Early intuition shapes direction; later analysis usually justifies a direction already forming.","quiz.sales_q2.option_a":"Because buyers never review data unless it is tattooed.","quiz.sales_q2.option_b":"Because the first vendor always wins by law (apparently).","quiz.sales_q2.option_c":"Because early emotional preference often guides which facts feel convincing later.","quiz.sales_q2.option_d":"Because it guarantees a short sales cycle for everyone, always.","quiz.sales_q2.feedback_c":"Correct: early framing influences what evidence feels relevant and persuasive afterward.","quiz.sales_q3.prompt":"Which action best builds genuine goodwill before asking for anything in return?","quiz.sales_q3.explanation":"Useful value up front creates trust and makes the relationship feel cooperative.","quiz.sales_q3.option_a":"Send multiple follow-ups so they remember your calendar exists.","quiz.sales_q3.option_b":"Share a tailored insight or small fix they can use immediately.","quiz.sales_q3.option_c":"Push for a quick meeting while interest is still warm.","quiz.sales_q3.option_d":"Offer a discount first and hope value sorts itself out.","quiz.sales_q3.feedback_b":"Correct: useful value up front builds credibility and reciprocity without pressure.","quiz.sales_q4.prompt":"What is the most ethical way to build credibility in a high-stakes sale?","quiz.sales_q4.explanation":"Credibility should come from verifiable evidence, not performance or hype.","quiz.sales_q4.option_a":"Talk fast and confident so you sound experienced.","quiz.sales_q4.option_b":"Keep it vague so nobody can fact-check you.","quiz.sales_q4.option_c":"Name-drop competitors and hope it counts as proof.","quiz.sales_q4.option_d":"Use verified outcomes, benchmarks, and proof points from relevant use cases.","quiz.sales_q4.feedback_d":"Correct: credibility must be verifiable - evidence beats performance or hype.","quiz.sales_q5.prompt":"Which type of social proof tends to be strongest for a cautious buyer?","quiz.sales_q5.explanation":"Similarity reduces risk. Buyers trust outcomes from situations that look like theirs.","quiz.sales_q5.option_a":"A case study from a similar company with measurable results.","quiz.sales_q5.option_b":"A very large total number of users (no context).","quiz.sales_q5.option_c":"A long list of vague testimonials and high-fives.","quiz.sales_q5.option_d":'A slogan like "industry-leading" with no receipts.',"quiz.sales_q5.feedback_a":"Correct: similarity plus measurable outcomes reduce perceived risk and speed consensus.","quiz.sales_q6.prompt":"Why do small early commitments (like sharing requirements or agreeing to a short follow-up) matter?","quiz.sales_q6.explanation":"Consistency is a real human tendency, but it must be earned ethically, not exploited.","quiz.sales_q6.option_a":"They legally force the buyer into a contract.","quiz.sales_q6.option_b":"People naturally try to stay aligned with earlier actions and statements.","quiz.sales_q6.option_c":"They replace discovery, so you can skip the boring part.","quiz.sales_q6.option_d":"They guarantee an immediate close every time.","quiz.sales_q6.feedback_b":"Correct: small commitments build momentum ethically when value and fit are real.","quiz.sales_q7.prompt":"Which example of scarcity is ethical and professional?","quiz.sales_q7.explanation":"Scarcity must be real and transparent, otherwise it damages trust.","quiz.sales_q7.option_a":"A fake countdown timer that mysteriously resets.","quiz.sales_q7.option_b":"Claiming limited availability with no real constraint.","quiz.sales_q7.option_c":'Pressuring them with "buy now or regret it."',"quiz.sales_q7.option_d":"Explain a real onboarding limit and offer the next available start date.","quiz.sales_q7.feedback_d":"Correct: scarcity must be real, transparent, and tied to operational constraints.","quiz.sales_q8.prompt":"Which statement typically motivates action most effectively in B2B decision-making?","quiz.sales_q8.explanation":"Decision-makers often move faster to avoid losses than to chase optional gains.","quiz.sales_q8.option_a":"This adds some great new features.","quiz.sales_q8.option_b":"This is the cheapest option on the spreadsheet.","quiz.sales_q8.option_c":"This prevents ongoing losses caused by the current problem.","quiz.sales_q8.option_d":"This is popular on social media right now.","quiz.sales_q8.feedback_c":"Correct: avoiding losses is often a stronger driver than optional upside.","quiz.sales_q9.prompt":"Which behavior best demonstrates real active listening?","quiz.sales_q9.explanation":"Summarizing plus confirming builds trust and prevents misunderstanding.","quiz.sales_q9.option_a":"Summarize their point in your own words and ask if you understood correctly.","quiz.sales_q9.option_b":"Wait silently until they stop talking and then pivot.","quiz.sales_q9.option_c":"Jump in quickly with a solution before they finish.","quiz.sales_q9.option_d":"Agree with everything they say so it feels smooth.","quiz.sales_q9.feedback_a":"Correct: reflection plus confirmation prevents misalignment and builds trust.","quiz.sales_q10.prompt":"Which discovery question most reliably reveals urgency and consequences?","quiz.sales_q10.explanation":"The cost of inaction is what makes problems real and priorities clear.","quiz.sales_q10.option_a":"Do you like your current provider?","quiz.sales_q10.option_b":"Would you like a demo soon?","quiz.sales_q10.option_c":"What happens over the next 6-12 months if nothing changes?","quiz.sales_q10.option_d":"Is pricing your biggest concern right now?","quiz.sales_q10.feedback_c":"Correct: this exposes consequences, timelines, stakeholders, and true priority.","quiz.sales_q11.prompt":'A buyer says: "This feels expensive." What is the most accurate interpretation in many cases?',"quiz.sales_q11.explanation":"Price objections often signal a value-clarity problem, not a pure budget problem.","quiz.sales_q11.option_a":"They are insulting you personally.","quiz.sales_q11.option_b":"They are not fully convinced the outcome is worth the investment yet.","quiz.sales_q11.option_c":"They will never buy anything, ever.","quiz.sales_q11.option_d":"They are always lying to everyone.","quiz.sales_q11.feedback_b":"Correct: price objections often indicate unclear ROI, not personal hostility.","quiz.sales_q12.prompt":"What is the best first response to a price objection if you want to stay ethical and effective?","quiz.sales_q12.explanation":"If you cannot tie price to impact, the buyer cannot defend the spend internally.","quiz.sales_q12.option_a":"Offer a discount immediately to keep momentum.","quiz.sales_q12.option_b":"Argue that competitors are worse and louder.","quiz.sales_q12.option_c":"End the call and follow up when it is awkward.","quiz.sales_q12.option_d":"Reconnect price to outcomes and quantify the cost of the status quo.","quiz.sales_q12.feedback_d":"Correct: the buyer must be able to justify the spend internally using impact.","quiz.sales_q13.prompt":"When is it appropriate to ask for a decision (close) without being pushy?","quiz.sales_q13.explanation":"A confident close is a natural next step once alignment is established.","quiz.sales_q13.option_a":"After you align on fit, outcomes, and they agree the value is real.","quiz.sales_q13.option_b":"As early as possible before objections appear.","quiz.sales_q13.option_c":"Immediately after the first feature demo.","quiz.sales_q13.option_d":"Only if they ask you to, in writing.","quiz.sales_q13.feedback_a":"Correct: closing should be the next logical step after shared agreement on value.","quiz.sales_q14.prompt":"Which is a fair conditional close that maintains integrity?","quiz.sales_q14.explanation":"It is ethical because the concession is tied to a clear next step, not pressure.","quiz.sales_q14.option_a":"If you do not sign today, you lose the deal.","quiz.sales_q14.option_b":"Everyone else is buying, so you should too.","quiz.sales_q14.option_c":"If we include X, are you comfortable moving forward this week?","quiz.sales_q14.option_d":"I cannot help you unless you commit now.","quiz.sales_q14.feedback_c":"Correct: it ties a concession to a clear next step, not intimidation.","quiz.sales_q15.prompt":"What most consistently drives renewals, referrals, and long-term growth?","quiz.sales_q15.explanation":"Long-term trust is built after the signature through outcomes and follow-through.","quiz.sales_q15.option_a":"Aggressive follow-ups after signing.","quiz.sales_q15.option_b":"Deliver what you promised and stay engaged through handoff and early check-ins.","quiz.sales_q15.option_c":"Pushing upgrades immediately after signatures dry.","quiz.sales_q15.option_d":"Keeping contract terms vague for flexibility.","quiz.sales_q15.feedback_b":"Correct: outcomes and follow-through create durable trust and expansion opportunities."},Zd={"language.name":"Espanol","language.es":"Espanol","language.en":"Ingles","modal.title":"Modal","modal.close":"Cerrar modal","actions.reset":"Restablecer","actions.done":"Listo","settings.accessibility.ariaLabel":"Ajustes de accesibilidad","settings.accessibility.title":"Accesibilidad","settings.accessibility.subtitle":"Ajusta el tamano de texto y el contraste para una mejor lectura.","settings.accessibility.largeText.title":"Texto mas grande","settings.accessibility.largeText.description":"Aumenta la escala de la interfaz para leer mejor.","settings.accessibility.highContrast.title":"Alto contraste","settings.accessibility.highContrast.description":"Aclara el texto y los acentos para mejorar el contraste.","settings.accessibility.reduceMotion.title":"Reducir movimiento","settings.accessibility.reduceMotion.description":"Minimiza animaciones y efectos de movimiento.","settings.accessibility.disableConfetti.title":"Desactivar confeti","settings.accessibility.disableConfetti.description":"Apaga los efectos de particulas.","settings.accessibility.disableVideoPreload.title":"Desactivar precarga de video","settings.accessibility.disableVideoPreload.description":"Solo carga videos al presionar Reproducir.","save.autosaveNever":"Sin autoguardado","save.autosaveJustNow":"Autoguardado hace un momento","save.autosaveLast":"Ultimo autoguardado: {time}","save.savedTitle":"Juego guardado","save.savedBody":"Guardado en {slot}.","save.failedTitle":"Error al guardar","save.failedBody":"No se pudo guardar en este navegador.","save.notFoundTitle":"No hay guardado","save.notFoundBody":"No hay datos en {slot}.","save.loadedTitle":"Juego cargado","save.loadedBody":"Cargado {slot}.","save.deletedTitle":"Guardado eliminado","save.deletedBody":"{slot} eliminado.","save.renamedTitle":"Guardado renombrado","save.renamedBody":"{slot} renombrado.","save.slot.autosave":"Autoguardado","save.unknown":"Desconocido","save.exportMissingTitle":"No hay guardado","save.exportMissingBody":"Elige un slot con guardado para exportar.","save.exportCopiedTitle":"Exportacion copiada","save.exportCopiedBody":"JSON copiado al portapapeles.","save.exportCopyFailedTitle":"No se pudo copiar","save.exportCopyFailedBody":"El portapapeles fue bloqueado.","save.exportDownloadedTitle":"Exportacion descargada","save.exportDownloadedBody":"JSON descargado.","save.exportDownloadFailedTitle":"Error al descargar","save.exportDownloadFailedBody":"No se pudo descargar el archivo.","save.importInvalid":"JSON invalido. Pega un export valido.","save.importFailed":"Fallo la importacion. Revisa el formato.","save.importSuccessTitle":"Importacion completa","save.importSuccessBody":"Importado en {slot}.","settings.tutorialPopups.title":"Mostrar tutoriales automaticamente","settings.tutorialPopups.description":"Abre consejos rapidos en nuevas pesta√±as y onboarding.","settings.language.label":"Idioma","settings.language.helper":"Cambia el idioma sin recargar.","dates.invalid":"Fecha invalida","general.emptyDash":"‚Äî","quests.logTitle":"Registro de misiones","quests.logSubtitle":"Sigue el progreso, reclama recompensas y previsualiza lo que sigue.","quests.claimAll":"Reclamar todo","quests.claim":"Reclamar","quests.progress":"Progreso","quests.upNext":"Siguiente","quests.preview":"Vista previa","quests.unlocksAfter":"Se desbloquea despues de: {title}","quests.rewardLabel":"üéÅ Recompensa:","quests.trackSummary":"{ready} listas ‚Ä¢ {active} activas ‚Ä¢ {claimed} reclamadas","quests.completeTitle":"Mision completada: {title}","quests.rewardReady":"Recompensa lista para reclamar.","quests.trackUnlockedTitle":"üß≠ Ruta desbloqueada","quests.trackUnlockedBody":"Ruta de {track} desbloqueada.","quests.rewardClaimedTitle":"üèÜ Recompensa reclamada","quests.nothingToClaimTitle":"Nada para reclamar","quests.nothingToClaimBody":"No hay recompensas listas aun.","quests.claimAllTitle":"Reclamar todas las recompensas?","quests.claimAllBody":{one:"Tienes {count} recompensa lista.",other:"Tienes {count} recompensas listas."},"quests.rewardsClaimedTitle":"Recompensas reclamadas","quests.rewardsClaimedBody":{one:"Reclamaste {count} recompensa.",other:"Reclamaste {count} recompensas."},"quests.openLog":"Abrir registro de misiones","events.modalTitle":"Escenario","events.enlargeImage":"Ampliar imagen del evento","events.tapToEnlarge":"Toca para ampliar","autoplay.statusOn":"Autoplay: ENCENDIDO ({speed})","autoplay.statusOff":"Autoplay: APAGADO","autoplay.hotkeyHint":"Presiona Shift+A para alternar","autoplay.stopHint":"Detener autoplay (Shift+A)","autoplay.startHint":"Iniciar autoplay (Shift+A)","autoplay.stop":"Detener autoplay","autoplay.start":"Iniciar autoplay","autoplay.tooltipOn":"Autoplay ENCENDIDO ({speed}). Pausa en decisiones. Tecla: Shift+A.","autoplay.tooltipOff":"Autoplay APAGADO. Pausa en decisiones. Tecla: Shift+A.","events.recentTitle":"üì∞ Eventos recientes","events.none":"Aun no hay eventos. Empieza a jugar.","events.labTitle":"üß™ Laboratorio de eventos","events.labEventLabel":"Evento","events.labOptionLabel":"Opcion","events.labSimulate":"Simular resultado","events.labInject":"Inyectar evento","events.labSummary":"Resumen de simulacion","events.labCash":"Efectivo: {value}","events.labAssets":"Activos: {value}","events.labLiabilities":"Pasivos: {value}","events.labMessage":"Mensaje: {value}","events.eventAlreadyActiveTitle":"Evento ya activo","events.eventAlreadyActiveBody":"Resuelve el evento actual antes de inyectar otro.","events.defaultTitle":"Evento","actions.show":"Mostrar","actions.hide":"Ocultar","hustle.upgrade.deferHint":"No estas listo? Cierra este panel y elige luego en la lista de hustles activos.","credit.whyChanged":"Por que cambio este mes","credit.noChange":"Aun no hay cambios registrados.","quests.sectionTitle":"Metas y misiones","quests.sectionSubtitle":"Objetivos de corto plazo con pequenas recompensas.","quests.trackLabel":"Ruta","quests.readyLabel":"Lista","quests.claimedLabel":"Reclamadas","quests.readyToClaim":"Listas para reclamar","quests.tapClaimHint":"Toca Reclamar para aplicar recompensas","quests.noActive":"No hay metas activas ahora.","quests.difficulty.EASY":"FACIL","quests.difficulty.MEDIUM":"MEDIA","quests.difficulty.HARD":"DIFICIL","quests.viewCompleted":{one:"Ver metas completadas ({count})",other:"Ver metas completadas ({count})"},"quests.track.CAREER":"Carrera","quests.track.INVESTOR":"Inversor","quests.track.ENTREPRENEUR":"Emprendedor","quests.track.DEBT_CRUSHER":"Destructor de deuda","quests.progressMoney":"{current} / {target}","quests.progressMonths":"{current} / {target} meses","quests.progressScore":"{current} / {target}","quests.reward.cash":"{value} efectivo","quests.reward.credit":"{value} credito","quests.reward.stat":"{value} {stat}","stats.financialIQ":"IQ financiero","stats.networking":"Networking","stats.happiness":"Felicidad","stats.stress":"Estres","stats.energy":"Energia","stats.fulfillment":"Realizacion","stats.health":"Salud","freedom.breakdown.title":"Desglose","freedom.breakdown.goal":"Meta: {value}%","freedom.breakdown.passiveIncome":"Ingresos pasivos","freedom.breakdown.passiveHelp":"Que cuenta como ingresos pasivos?","freedom.breakdown.passiveTooltip":"Incluye flujo de activos (negocios, bienes raices, acciones). Los side hustles se cuentan aparte.","freedom.breakdown.expenses":"Gastos","freedom.breakdown.expensesHelp":"Que cuenta como gastos?","freedom.breakdown.expensesTooltip":"Incluye estilo de vida, deudas, educacion, hijos y vehiculos.","freedom.breakdown.ratio":"Proporcion","freedom.breakdown.ratioValue":"{passive} / {expenses} = {percent}%","freedom.breakdown.change":"Cambio desde el mes pasado","freedom.breakdown.passiveLabel":"Pasivo","tabs.overview":"Resumen","tabs.invest":"Invertir","tabs.portfolio":"Portafolio","tabs.bank":"Banco","tabs.career":"Carrera","tabs.education":"Educacion","tabs.selfLearn":"Autoaprendizaje","tabs.upgradeEq":"Mejorar EQ","tabs.negotiations":"Negociaciones","tabs.sideHustles":"Side hustles","tabs.lifestyle":"Estilo de vida","selfLearn.salesTraining":"Entrenamiento de ventas","quests.Q_BUFFER_2K.title":"Colchon inicial","quests.Q_BUFFER_2K.description":"Ahorra $2,000 en efectivo para resistir un mes dificil.","quests.Q_BUFFER_2K.hint":"Un colchon de efectivo evita pagos perdidos y abre opciones.","quests.Q_FIRST_INVESTMENT.title":"Primera inversion","quests.Q_FIRST_INVESTMENT.description":"Compra tu primer activo de inversion en la pestana Invertir.","quests.Q_FIRST_INVESTMENT.hint":"Invertir convierte el ahorro en flujo de efectivo futuro.","quests.Q_FIRST_HUSTLE.title":"Inicio de side hustle","quests.Q_FIRST_HUSTLE.description":"Inicia un side hustle para diversificar ingresos.","quests.Q_FIRST_HUSTLE.hint":"Ingresos extra reducen la dependencia de deuda.","quests.Q_INVESTED_10K.title":"Construye un portafolio","quests.Q_INVESTED_10K.description":"Alcanza $10,000 invertidos (sin ahorros).","quests.Q_INVESTED_10K.hint":"La constancia supera la suerte con el tiempo.","quests.Q_DIVERSIFY_3.title":"Diversifica","quests.Q_DIVERSIFY_3.description":"Posee al menos 3 tipos de activos (sin ahorros).","quests.Q_DIVERSIFY_3.hint":"Diversificar reduce el dano de una sola caida.","quests.Q_PASSIVE_500.title":"Inicio de ingresos pasivos","quests.Q_PASSIVE_500.description":"Gana $500/mes en ingresos pasivos.","quests.Q_PASSIVE_500.hint":"El cash flow es el motor real.","quests.Q_EMERGENCY_3MO.title":"Fondo de emergencia (3 meses)","quests.Q_EMERGENCY_3MO.description":"Guarda 3 meses de gastos en efectivo.","quests.Q_EMERGENCY_3MO.hint":"Un fondo te protege en recesiones sin vender barato.","quests.Q_CAREER_LEVEL_3.title":"Escalador de carrera","quests.Q_CAREER_LEVEL_3.description":"Llega al nivel 3 de carrera con experiencia y educacion.","quests.Q_CAREER_LEVEL_3.hint":"Mayor ingreso acelera inversion y pago de deuda.","quests.Q_CREDIT_720.title":"Mejora de credito","quests.Q_CREDIT_720.description":"Alcanza 720+ de credito para mejores terminos.","quests.Q_CREDIT_720.hint":"Pagos puntuales evitan morosidad y suben el puntaje.","quests.Q_INVESTOR_25K.title":"Inversor: $25K invertidos","quests.Q_INVESTOR_25K.description":"Lleva tu portafolio a $25,000 (sin ahorros).","quests.Q_INVESTOR_25K.hint":"Aportes constantes superan picks de suerte.","quests.Q_INVESTOR_DIVERSIFY_4.title":"Inversor: Diversifica 4 tipos","quests.Q_INVESTOR_DIVERSIFY_4.description":"Posee 4 tipos de activos (sin ahorros).","quests.Q_INVESTOR_DIVERSIFY_4.hint":"Diversificar reduce volatilidad y arrepentimiento.","quests.Q_INVESTOR_PASSIVE_1000.title":"Inversor: $1,000/mes pasivo","quests.Q_INVESTOR_PASSIVE_1000.description":"Alcanza $1,000/mes en ingresos pasivos.","quests.Q_INVESTOR_PASSIVE_1000.hint":"El cash flow reduce la dependencia del salario.","quests.Q_ENTREPRENEUR_HUSTLES_2.title":"Emprendedor: Dos hustles","quests.Q_ENTREPRENEUR_HUSTLES_2.description":"Mant√©n dos side hustles activos a la vez.","quests.Q_ENTREPRENEUR_HUSTLES_2.hint":"Diversificar ingresos acelera inversion; cuida energia y estres.","quests.Q_ENTREPRENEUR_BUSINESS_1.title":"Emprendedor: Negocio propio","quests.Q_ENTREPRENEUR_BUSINESS_1.description":"Adquiere tu primer negocio.","quests.Q_ENTREPRENEUR_BUSINESS_1.hint":"Los negocios escalan pero requieren manejo de riesgo.","quests.Q_DEBTCRUSHER_REPAID_3K.title":"Deuda: Pagaste $3,000","quests.Q_DEBTCRUSHER_REPAID_3K.description":"Paga $3,000 de deuda total (liabilities + mortgages).","quests.Q_DEBTCRUSHER_REPAID_3K.hint":"Pagar deuda equivale a un retorno garantizado.","quests.Q_DEBTCRUSHER_REPAID_10K.title":"Deuda: Pagaste $10,000","quests.Q_DEBTCRUSHER_REPAID_10K.description":"Paga $10,000 de deuda total.","quests.Q_DEBTCRUSHER_REPAID_10K.hint":"Menos deuda libera cash flow para invertir.","quests.Q_DEBTCRUSHER_CREDIT_740.title":"Deuda: 740+ de credito","quests.Q_DEBTCRUSHER_CREDIT_740.description":"Alcanza 740+ de credito (terminos excelentes).","quests.Q_DEBTCRUSHER_CREDIT_740.hint":"Buen credito es apalancamiento: protegelo con pagos puntuales.","errors.genericTitle":"Algo salio mal","errors.genericBody":"La interfaz fallo. Actualiza para reintentar.","errors.unknown":"Error desconocido","errors.tabTitle":"Error en {tab}","errors.tabBody":"Algo fallo al renderizar esta pestana. Puedes reintentar o cambiar de pestana.","actions.refresh":"Actualizar","actions.tryContinue":"Intentar continuar","actions.tryAgain":"Reintentar","actions.cancel":"Cancelar","modeSelector.loading":"Cargando...","modeSelector.title":"üí∞ TYCOON üí∞","modeSelector.subtitle":"Construye tu imperio financiero","modeSelector.auth.title":"Ingresa el codigo de acceso","modeSelector.auth.subtitle":"Este juego esta en beta privada","modeSelector.auth.placeholder":"Ingresa la clave...","modeSelector.auth.enter":"Entrar al juego","modeSelector.createdBy":"Creado por","modeSelector.auth.incorrectPassword":"Contrasena incorrecta","modeSelector.multiplayer.allPlayersNeedNames":"Todos deben ingresar su nombre","events.biz_partner_intro.title":"ü§ù Partnership Pitch","events.biz_partner_intro.description":"A former colleague wants to join forces to grow a new venture together.","events.biz_partner_intro.choices.0.label":"Bring them on as a partner","events.biz_partner_intro.choices.0.message":"You formalize the partnership and split the workload.","events.biz_partner_intro.choices.1.label":"Stay solo","events.biz_partner_intro.choices.1.message":"You keep full control and move at your own pace.","events.biz_partner_scaling.title":"üöÄ Scale-Up Decision","events.biz_partner_scaling.description":"Demand is rising. Your partner wants to scale fast.","events.biz_partner_scaling.choices.0.label":"Expand fast with paid marketing","events.biz_partner_scaling.choices.0.message":"You pour fuel on growth and hire contractors.","events.biz_partner_scaling.choices.1.label":"Grow steadily","events.biz_partner_scaling.choices.1.message":"You expand carefully with a smaller budget.","events.biz_partner_scaling.choices.2.label":"Pause expansion","events.biz_partner_scaling.choices.2.message":"You keep the business lean for now.","events.biz_partner_dispute.title":"‚öñÔ∏è Partnership Dispute","events.biz_partner_dispute.description":"Strategy disagreements are escalating. The partnership needs a resolution.","events.biz_partner_dispute.choices.0.label":"Buy out your partner","events.biz_partner_dispute.choices.0.message":"You take full control of the business.","events.biz_partner_dispute.choices.1.label":"Mediation","events.biz_partner_dispute.choices.1.message":"A mediator helps you find a compromise.","events.biz_partner_dispute.choices.2.label":"Sell your share","events.biz_partner_dispute.choices.2.message":"You exit with cash but lose upside.","events.health_checkup.title":"ü©∫ Annual Checkup","events.health_checkup.description":"Your doctor recommends an insurance plan upgrade before the next cycle.","events.health_checkup.choices.0.label":"Buy insurance upgrade","events.health_checkup.choices.0.message":"You lock in better coverage and peace of mind.","events.health_checkup.choices.1.label":"Skip the upgrade","events.health_checkup.choices.1.message":"You hope nothing goes wrong.","events.health_claim.title":"üè• Coverage Pays Off","events.health_claim.description":"A surprise clinic visit is fully covered by your upgraded plan.","events.health_claim.choices.0.label":"File the claim","events.health_claim.choices.0.message":"Insurance covers the bulk of the cost.","events.health_claim.choices.1.label":"Upgrade to premium plan","events.health_claim.choices.1.message":"You lock in even better coverage for next year.","events.health_emergency.title":"üöë Medical Emergency","events.health_emergency.description":"An unexpected medical bill hits your inbox.","events.health_emergency.choices.0.label":"Pay the bill in cash","events.health_emergency.choices.0.message":"You clear the bill immediately.","events.health_emergency.choices.1.label":"Put it on a payment plan","events.health_emergency.choices.1.message":"You spread the costs over time.","events.landlord_screening.title":"üè† Tenant Screening","events.landlord_screening.description":"A tenant application looks good on paper, but the market is tight.","events.landlord_screening.choices.0.label":"Screen carefully","events.landlord_screening.choices.0.message":"You run thorough checks and wait for the right tenant.","events.landlord_screening.choices.1.label":"Fill the unit fast","events.landlord_screening.choices.1.message":"You accept the first qualified applicant.","events.landlord_tenant_good.title":"‚úÖ Great Tenant","events.landlord_tenant_good.description":"Your tenant pays early and takes great care of the property.","events.landlord_tenant_good.choices.0.label":"Renew the lease","events.landlord_tenant_good.choices.0.message":"Stable income keeps your stress low.","events.landlord_tenant_good.choices.1.label":"Offer a loyalty discount","events.landlord_tenant_good.choices.1.message":"You keep a reliable tenant and build goodwill.","events.landlord_tenant_issue.title":"‚ö†Ô∏è Late Rent","events.landlord_tenant_issue.description":"Your tenant is behind on rent and dodging calls.","events.landlord_tenant_issue.choices.0.label":"Issue a formal warning","events.landlord_tenant_issue.choices.0.message":"You start the paper trail for eviction.","events.landlord_tenant_issue.choices.1.label":"Offer a payment plan","events.landlord_tenant_issue.choices.1.message":"You cover the gap and hope they recover.","events.landlord_eviction.title":"üìÑ Eviction Decision","events.landlord_eviction.description":"Rent is still unpaid. You need to choose a path forward.","events.landlord_eviction.choices.0.label":"Proceed with eviction","events.landlord_eviction.choices.0.message":"Legal fees hurt, but you regain control.","events.landlord_eviction.choices.1.label":"Offer cash-for-keys","events.landlord_eviction.choices.1.message":"You pay them to leave quickly and avoid court.","events.insurance_discount.title":"üìâ Premium Discount","events.insurance_discount.description":"Your insurer offers a limited-time discount for safe driving.","events.insurance_discount.choices.0.label":"Take the discount","events.insurance_discount.choices.0.message":"You lock in the savings for the year.","events.insurance_discount.choices.1.label":"Ignore it","events.insurance_discount.choices.1.message":"You keep your current premium.","events.career_cert_offer.title":"üéì Weekend Certification","events.career_cert_offer.description":"A respected certification program offers a weekend-intensive cohort.","events.career_cert_offer.choices.0.label":"Enroll in the cohort","events.career_cert_offer.choices.0.message":"You earn a credential and stronger leverage at work.","events.career_cert_offer.choices.1.label":"Pass for now","events.career_cert_offer.choices.1.message":"You keep your weekends free.","events.micro_grant.title":"üéÅ Local Micro-Grant","events.micro_grant.description":"Your community offers a small grant for local entrepreneurs.","events.micro_grant.choices.0.label":"Apply for the grant","events.micro_grant.choices.0.message":"Your application is approved.","events.supply_chain_shock.title":"üö¢ Supply Chain Shock","events.supply_chain_shock.description":"Rising shipping costs are squeezing margins across the market.","events.supply_chain_shock.choices.0.label":"Stock up on essentials","events.supply_chain_shock.choices.0.message":"You lock in inventory ahead of the price spike.","events.supply_chain_shock.choices.1.label":"Ride it out","events.supply_chain_shock.choices.1.message":"You save cash and hope the shock passes.","modeSelector.multiplayer.turnLabel":"Turno de {name}","modeSelector.multiplayer.exit":"Salir del juego","difficulty.normal":"Normal","quests.Q_ALEX_AUTOMATION.title":"Automation Payoff","quests.Q_ALEX_AUTOMATION.description":"Reach Career Level 2 to prove your automation edge.","quests.Q_ALEX_AUTOMATION.hint":"Gain experience or pursue education to level up.","quests.Q_ALEX_SIDE_PROJECT.title":"Side Project Momentum","quests.Q_ALEX_SIDE_PROJECT.description":"Grow passive income to $250 per month from your projects.","quests.Q_ALEX_SIDE_PROJECT.hint":"Invest in assets that generate recurring income.","quests.Q_MARIA_BUFFER.title":"Steady Buffer","quests.Q_MARIA_BUFFER.description":"Build one month of expenses in cash reserves.","quests.Q_MARIA_BUFFER.hint":"Save cash or trim expenses.","quests.Q_MARIA_STABILITY.title":"Reliable Income Stream","quests.Q_MARIA_STABILITY.description":"Reach $300 per month in passive income for stability.","quests.Q_MARIA_STABILITY.hint":"Invest in steady cashflow assets.","quests.Q_JAMES_MARKET_ENTRY.title":"Market Entry","quests.Q_JAMES_MARKET_ENTRY.description":"Invest a total of $5,000.","quests.Q_JAMES_MARKET_ENTRY.hint":"Start with diversified starter assets.","quests.Q_JAMES_RISK_BALANCE.title":"Risk Balance","quests.Q_JAMES_RISK_BALANCE.description":"Hold investments across 2 asset types.","quests.Q_JAMES_RISK_BALANCE.hint":"Diversify between at least two categories.","quests.Q_SARAH_TOOLKIT.title":"Tool Kit Ready","quests.Q_SARAH_TOOLKIT.description":"Hold $5,000 cash to upgrade your toolkit.","quests.Q_SARAH_TOOLKIT.hint":"Save up cash without dipping into reserves.","quests.Q_SARAH_FIRST_PROPERTY.title":"First Property","quests.Q_SARAH_FIRST_PROPERTY.description":"Own one real estate asset.","quests.Q_SARAH_FIRST_PROPERTY.hint":"Consider a starter property or mortgage option.","quests.Q_DEVON_CLIENT_BASE.title":"Client Base","quests.Q_DEVON_CLIENT_BASE.description":"Run at least one active side hustle.","quests.Q_DEVON_CLIENT_BASE.hint":"Start a hustle that matches your strengths.","quests.Q_DEVON_PASSIVE.title":"Creative Residuals","quests.Q_DEVON_PASSIVE.description":"Build $200 per month in passive income.","quests.Q_DEVON_PASSIVE.hint":"Automate or invest for recurring income.","quests.Q_MARCUS_HUSTLE_2.title":"Hustle Portfolio","quests.Q_MARCUS_HUSTLE_2.description":"Operate two active side hustles.","quests.Q_MARCUS_HUSTLE_2.hint":"Stack complementary hustles early.","quests.Q_MARCUS_BUSINESS.title":"First Business","quests.Q_MARCUS_BUSINESS.description":"Own a business asset.","quests.Q_MARCUS_BUSINESS.hint":"Reinvest profits into a business asset.","quests.Q_LINDA_BUFFER_2.title":"Safety Net","quests.Q_LINDA_BUFFER_2.description":"Build two months of expenses in cash reserves.","quests.Q_LINDA_BUFFER_2.hint":"Keep expenses steady and save consistently.","quests.Q_LINDA_PROMOTION.title":"Public Service Step","quests.Q_LINDA_PROMOTION.description":"Reach Career Level 2.","quests.Q_LINDA_PROMOTION.hint":"Gain experience and meet requirements.","quests.Q_TYLER_PIPELINE.title":"Pipeline Cushion","quests.Q_TYLER_PIPELINE.description":"Hold $6,000 cash to smooth commissions.","quests.Q_TYLER_PIPELINE.hint":"Save when commissions are strong.","quests.Q_TYLER_CREDIT.title":"Credit Ready","quests.Q_TYLER_CREDIT.description":"Reach a credit score of 680.","quests.Q_TYLER_CREDIT.hint":"Pay on time and manage utilization.","events.alex_hackathon.title":"üíª Hackathon Weekend","events.alex_hackathon.description":"Your team gets invited to a weekend hackathon with potential bonuses.","events.alex_hackathon.choices.0.label":"Join the hackathon","events.alex_hackathon.choices.0.message":"You demo well and earn a small bonus.","events.alex_hackathon.choices.1.label":"Skip and recover","events.alex_hackathon.choices.1.message":"You rest and avoid burnout.","events.alex_open_source.title":"üåê Open Source Shoutout","events.alex_open_source.description":"A maintainer offers to feature your work in a popular repo.","events.alex_open_source.choices.0.label":"Contribute a patch","events.alex_open_source.choices.0.message":"Your contribution gets noticed by peers.","events.alex_open_source.choices.1.label":"Decline politely","events.alex_open_source.choices.1.message":"You keep focus on paid work.","events.maria_shift_bonus.title":"ü©∫ Extra Shift Offer","events.maria_shift_bonus.description":"The hospital offers bonus pay for covering an extra shift.","events.maria_shift_bonus.choices.0.label":"Take the shift","events.maria_shift_bonus.choices.0.message":"The bonus helps, but it is exhausting.","events.maria_shift_bonus.choices.1.label":"Protect your energy","events.maria_shift_bonus.choices.1.message":"You prioritize recovery.","events.maria_community_clinic.title":"üè• Community Clinic Day","events.maria_community_clinic.description":"A local clinic asks for volunteers and offers a small stipend.","events.maria_community_clinic.choices.0.label":"Volunteer for the day","events.maria_community_clinic.choices.0.message":"You make connections and help the community.","events.maria_community_clinic.choices.1.label":"Pass this time","events.maria_community_clinic.choices.1.message":"You keep your schedule clear.","events.james_client_review.title":"üìà Client Portfolio Review","events.james_client_review.description":"A client wants a deep-dive review of their portfolio.","events.james_client_review.choices.0.label":"Do a full analysis","events.james_client_review.choices.0.message":"You impress them and earn a bonus.","events.james_client_review.choices.1.label":"Keep it light","events.james_client_review.choices.1.message":"You save time and tighten your model.","events.james_model_edge.title":"üßÆ New Model Insight","events.james_model_edge.description":"You spot a flaw in a pricing model before a meeting.","events.james_model_edge.choices.0.label":"Fix it overnight","events.james_model_edge.choices.0.message":"You deliver a clean model and earn trust.","events.james_model_edge.choices.1.label":"Flag it for later","events.james_model_edge.choices.1.message":"You avoid overtime but accept a minor hit.","events.devon_brand_collab.title":"üé® Brand Collab Request","events.devon_brand_collab.description":"A small brand wants a fast-turnaround design collab.","events.devon_brand_collab.choices.0.label":"Take the collab","events.devon_brand_collab.choices.0.message":"You land a paid project and new contacts.","events.devon_brand_collab.choices.1.label":"Hold for better fit","events.devon_brand_collab.choices.1.message":"You keep time for personal work.","events.devon_portfolio_feature.title":"üñºÔ∏è Portfolio Feature","events.devon_portfolio_feature.description":"A design blog offers to feature your portfolio.","events.devon_portfolio_feature.choices.0.label":"Send your best work","events.devon_portfolio_feature.choices.0.message":"The feature boosts your visibility.","events.devon_portfolio_feature.choices.1.label":"Skip the spotlight","events.devon_portfolio_feature.choices.1.message":"You stay focused on client work.","events.marcus_pitch_night.title":"üöÄ Pitch Night Invite","events.marcus_pitch_night.description":"A local angel group invites you to pitch your idea.","events.marcus_pitch_night.choices.0.label":"Take the stage","events.marcus_pitch_night.choices.0.message":"You make a strong first impression.","events.marcus_pitch_night.choices.1.label":"Hold off","events.marcus_pitch_night.choices.1.message":"You wait until the numbers are tighter.","events.marcus_seed_terms.title":"üíº Seed Terms Arrive","events.marcus_seed_terms.description":"An investor sends early seed terms for your venture.","events.marcus_seed_terms.choices.0.label":"Accept the terms","events.marcus_seed_terms.choices.0.message":"You secure funding to build faster.","events.marcus_seed_terms.choices.1.label":"Counter with a smaller round","events.marcus_seed_terms.choices.1.message":"You keep more control but take less cash.","events.sarah_trade_bid.title":"üîß Big Contract Bid","events.sarah_trade_bid.description":"A contractor asks you to bid on a multi-week job.","events.sarah_trade_bid.choices.0.label":"Bid aggressively","events.sarah_trade_bid.choices.0.message":"You lock in the bid and prep for inspection.","events.sarah_trade_bid.choices.1.label":"Bid conservatively","events.sarah_trade_bid.choices.1.message":"You keep risk low and cash steady.","events.sarah_inspection.title":"‚úÖ Site Inspection","events.sarah_inspection.description":"The site inspector is coming sooner than expected.","events.sarah_inspection.choices.0.label":"Rush to finish","events.sarah_inspection.choices.0.message":"You pass inspection and get paid out.","events.sarah_inspection.choices.1.label":"Pay for overtime help","events.sarah_inspection.choices.1.message":"You cover the gap but take a cost hit.","events.linda_pension_briefing.title":"üèõÔ∏è Pension Briefing","events.linda_pension_briefing.description":"HR offers a session on pension and benefit optimization.","events.linda_pension_briefing.choices.0.label":"Attend the briefing","events.linda_pension_briefing.choices.0.message":"You spot a small benefit you can claim.","events.linda_pension_briefing.choices.1.label":"Skip the session","events.linda_pension_briefing.choices.1.message":"You keep your schedule light.","events.linda_policy_committee.title":"üìú Policy Committee Invite","events.linda_policy_committee.description":"You are invited to join a policy committee at work.","events.linda_policy_committee.choices.0.label":"Join the committee","events.linda_policy_committee.choices.0.message":"Your visibility grows across departments.","events.linda_policy_committee.choices.1.label":"Decline politely","events.linda_policy_committee.choices.1.message":"You avoid extra meetings.","events.tyler_big_pitch.title":"üìä High-Stakes Pitch","events.tyler_big_pitch.description":"A large client asks for a last-minute pitch.","events.tyler_big_pitch.choices.0.label":"Go all in","events.tyler_big_pitch.choices.0.message":"You close the deal and earn a bump.","events.tyler_big_pitch.choices.1.label":"Pass the lead","events.tyler_big_pitch.choices.1.message":"You avoid the stress this month.","events.tyler_pipeline_dip.title":"üìâ Pipeline Dip","events.tyler_pipeline_dip.description":"Your pipeline goes quiet for a few weeks.","events.tyler_pipeline_dip.choices.0.label":"Invest in outreach","events.tyler_pipeline_dip.choices.0.message":"You spend to spark new leads.","events.tyler_pipeline_dip.choices.1.label":"Wait it out","events.tyler_pipeline_dip.choices.1.message":"You save cash and hope it rebounds.","salesQuiz.meta.title":"Sales Accelerator Certification","salesQuiz.meta.description":"A short, scenario-based certification focused on ethical, effective B2B selling and negotiation fundamentals.","salesQuiz.meta.entryPointLabel":"Start Certification","salesQuiz.meta.tip1":"Answer honestly - this is about long-term trust, not tricks.","salesQuiz.meta.tip2":"Focus on outcomes, proof, and alignment.","salesQuiz.meta.tip3":"Use ethical persuasion: clarity beats pressure.","salesQuiz.ui.certified":"Certified","salesQuiz.ui.attemptsLeft":"Attempts left: {count}","salesQuiz.ui.bestScore":"Best score: {score}/{total}","salesQuiz.ui.attemptsUsed":"Attempts used. Improve your skills and try again later.","salesQuiz.ui.certificationLabel":"Certification","salesQuiz.ui.coverPlaceholder":"Cover image placeholder","salesQuiz.ui.passingAllCorrect":"Passing score: All correct","salesQuiz.ui.passingPercentage":"Passing score: {count}%","salesQuiz.ui.quickTips":"Quick tips","salesQuiz.ui.questionCount":"{count} questions - Review enabled","salesQuiz.ui.noAttempts":"You have used all attempts. Check back after more practice.","salesQuiz.ui.close":"Close","salesQuiz.ui.practiceMode":"Practice Mode","salesQuiz.ui.startCertification":"Start Certification","salesQuiz.ui.questionLabel":"Question {index} of {total}","salesQuiz.ui.scoreLabel":"Score: {score}/{total}","salesQuiz.ui.questionPlaceholder":"Question visual placeholder","salesQuiz.ui.correct":"Correct","salesQuiz.ui.incorrect":"Not quite","salesQuiz.ui.exit":"Exit","salesQuiz.ui.finish":"Finish","salesQuiz.ui.next":"Next","salesQuiz.ui.resultsLabel":"Results","salesQuiz.ui.resultsPassed":"Certification passed","salesQuiz.ui.resultsFailed":"Certification failed","salesQuiz.ui.rewardEarned":"Reward earned: {cash} cash, +{fiq} FIQ, +{happiness} happiness.","salesQuiz.ui.reviewTitle":"Answer review","salesQuiz.ui.yourAnswer":"Your answer: {answer}","salesQuiz.ui.correctAnswer":"Correct answer: {answer}","salesQuiz.ui.practiceAgain":"Practice again","salesQuiz.ui.retry":"Retry certification","salesQuiz.ui.noAnswer":"No answer","quiz.sales_q1.prompt":"A prospect asks for functionality your product does not currently support. What is the best ethical response?","quiz.sales_q1.explanation":"Trust comes from accuracy and alignment. Clear limits plus outcome focus builds long-term credibility.","quiz.sales_q1.option_a":"Be clear about the limitation, then confirm what outcome they need and offer the best current path.","quiz.sales_q1.option_b":"Imply it is nearly ready so the deal does not slow down.","quiz.sales_q1.option_c":"Avoid the question and move straight to pricing.","quiz.sales_q1.option_d":"Promise a custom build even if it is uncertain.","quiz.sales_q1.feedback_a":"Correct: accuracy builds trust, and outcome alignment keeps momentum without misrepresentation.","quiz.sales_q1.feedback_b":"Risky: misleading capability claims create churn, escalations, and reputational damage.","quiz.sales_q1.feedback_c":"Avoidance lowers credibility - capability fit must be clarified before pricing makes sense.","quiz.sales_q1.feedback_d":"Unethical if uncertain: only commit to delivery timelines and scope you can confidently meet.","quiz.sales_q2.prompt":"Why does the early phase of a sales conversation matter so much, even in B2B?","quiz.sales_q2.explanation":"Early intuition shapes direction; later analysis usually justifies a direction already forming.","quiz.sales_q2.option_a":"Because most buyers refuse to review data later.","quiz.sales_q2.option_b":"Because the first vendor always wins.","quiz.sales_q2.option_c":"Because early emotional preference often guides which facts feel convincing later.","quiz.sales_q2.option_d":"Because it guarantees a shorter sales cycle.","quiz.sales_q2.feedback_c":"Correct: early framing influences what evidence feels relevant and persuasive afterward.","quiz.sales_q3.prompt":"Which action best builds genuine goodwill before asking for anything in return?","quiz.sales_q3.explanation":"Useful value up front creates trust and makes the relationship feel cooperative.","quiz.sales_q3.option_a":"Send multiple follow-ups to stay top of mind.","quiz.sales_q3.option_b":"Share a tailored insight, audit finding, or practical improvement idea they can use immediately.","quiz.sales_q3.option_c":"Push for a quick meeting while interest is high.","quiz.sales_q3.option_d":"Offer a discount to create urgency.","quiz.sales_q3.feedback_b":"Correct: useful value up front builds credibility and reciprocity without pressure.","quiz.sales_q4.prompt":"What is the most ethical way to build credibility in a high-stakes sale?","quiz.sales_q4.explanation":"Credibility should come from verifiable evidence, not performance or hype.","quiz.sales_q4.option_a":"Talk confidently and quickly so you sound experienced.","quiz.sales_q4.option_b":"Avoid specifics so you cannot be challenged.","quiz.sales_q4.option_c":"Name-drop competitors to sound important.","quiz.sales_q4.option_d":"Use verified outcomes, reputable benchmarks, and clear proof points from relevant use cases.","quiz.sales_q4.feedback_d":"Correct: credibility must be verifiable - evidence beats performance or hype.","quiz.sales_q5.prompt":"Which type of social proof tends to be strongest for a cautious buyer?","quiz.sales_q5.explanation":"Similarity reduces risk. Buyers trust outcomes from situations that look like theirs.","quiz.sales_q5.option_a":"A story or case study from a similar company with measurable results.","quiz.sales_q5.option_b":"A large total number of users.","quiz.sales_q5.option_c":"A long list of vague testimonials.","quiz.sales_q5.option_d":'A slogan like "industry-leading".',"quiz.sales_q5.feedback_a":"Correct: similarity plus measurable outcomes reduce perceived risk and speed consensus.","quiz.sales_q6.prompt":"Why do small early commitments (like sharing requirements or agreeing to a short follow-up) matter?","quiz.sales_q6.explanation":"Consistency is a real human tendency, but it must be earned ethically, not exploited.","quiz.sales_q6.option_a":"They force the buyer into a contract.","quiz.sales_q6.option_b":"People naturally try to stay aligned with earlier actions and statements.","quiz.sales_q6.option_c":"They replace discovery completely.","quiz.sales_q6.option_d":"They guarantee an immediate close.","quiz.sales_q6.feedback_b":"Correct: small commitments build momentum ethically when value and fit are real.","quiz.sales_q7.prompt":"Which example of scarcity is ethical and professional?","quiz.sales_q7.explanation":"Scarcity must be real and transparent, otherwise it damages trust.","quiz.sales_q7.option_a":"A fake countdown timer on the proposal.","quiz.sales_q7.option_b":"Claiming limited availability with no real constraint.","quiz.sales_q7.option_c":'Pressuring them with "buy now or regret it."',"quiz.sales_q7.option_d":"Explaining a real onboarding capacity limit and offering the next available start date.","quiz.sales_q7.feedback_d":"Correct: scarcity must be real, transparent, and tied to operational constraints.","quiz.sales_q8.prompt":"Which statement typically motivates action most effectively in B2B decision-making?","quiz.sales_q8.explanation":"Decision-makers often move faster to avoid losses than to chase optional gains.","quiz.sales_q8.option_a":"This adds great new features.","quiz.sales_q8.option_b":"This is the cheapest option.","quiz.sales_q8.option_c":"This prevents ongoing losses caused by the current problem.","quiz.sales_q8.option_d":"This is popular on social media.","quiz.sales_q8.feedback_c":"Correct: avoiding losses is often a stronger driver than optional upside.","quiz.sales_q9.prompt":"Which behavior best demonstrates real active listening?","quiz.sales_q9.explanation":"Summarizing plus confirming builds trust and prevents misunderstanding.","quiz.sales_q9.option_a":"Summarize their point in your own words and ask if you understood correctly.","quiz.sales_q9.option_b":"Wait quietly until they stop talking.","quiz.sales_q9.option_c":"Jump in quickly with a solution.","quiz.sales_q9.option_d":"Agree with everything they say.","quiz.sales_q9.feedback_a":"Correct: reflection plus confirmation prevents misalignment and builds trust.","quiz.sales_q10.prompt":"Which discovery question most reliably reveals urgency and consequences?","quiz.sales_q10.explanation":"The cost of inaction is what makes problems real and priorities clear.","quiz.sales_q10.option_a":"Do you like your current provider?","quiz.sales_q10.option_b":"Would you like a demo?","quiz.sales_q10.option_c":"What happens over the next 6-12 months if nothing changes?","quiz.sales_q10.option_d":"Is pricing your biggest concern?","quiz.sales_q10.feedback_c":"Correct: this exposes consequences, timelines, stakeholders, and true priority.","quiz.sales_q11.prompt":'A buyer says: "This feels expensive." What is the most accurate interpretation in many cases?',"quiz.sales_q11.explanation":"Price objections often signal a value-clarity problem, not a pure budget problem.","quiz.sales_q11.option_a":"They are insulting you.","quiz.sales_q11.option_b":"They are not fully convinced the outcome is worth the investment yet.","quiz.sales_q11.option_c":"They will never buy.","quiz.sales_q11.option_d":"They are always lying.","quiz.sales_q11.feedback_b":"Correct: price objections often indicate unclear ROI, not personal hostility.","quiz.sales_q12.prompt":"What is the best first response to a price objection if you want to stay ethical and effective?","quiz.sales_q12.explanation":"If you cannot tie price to impact, the buyer cannot defend the spend internally.","quiz.sales_q12.option_a":"Offer a discount immediately to keep momentum.","quiz.sales_q12.option_b":"Argue that competitors are worse.","quiz.sales_q12.option_c":"End the call and follow up later.","quiz.sales_q12.option_d":"Reconnect price to outcomes and quantify the cost of the status quo.","quiz.sales_q12.feedback_d":"Correct: the buyer must be able to justify the spend internally using impact.","quiz.sales_q13.prompt":"When is it appropriate to ask for a decision (close) without being pushy?","quiz.sales_q13.explanation":"A confident close is a natural next step once alignment is established.","quiz.sales_q13.option_a":"After you have aligned on fit, outcomes, and the buyer agrees the value is real.","quiz.sales_q13.option_b":"As early as possible before objections appear.","quiz.sales_q13.option_c":"Immediately after the first feature demo.","quiz.sales_q13.option_d":"Only if they ask you to.","quiz.sales_q13.feedback_a":"Correct: closing should be the next logical step after shared agreement on value.","quiz.sales_q14.prompt":"Which is a fair conditional close that maintains integrity?","quiz.sales_q14.explanation":"It is ethical because the concession is tied to a clear next step, not pressure.","quiz.sales_q14.option_a":"If you do not sign today, you will lose the deal.","quiz.sales_q14.option_b":"Everyone else is buying, so should you.","quiz.sales_q14.option_c":"If we include X, are you comfortable moving forward this week?","quiz.sales_q14.option_d":"I cannot help you unless you commit now.","quiz.sales_q14.feedback_c":"Correct: it ties a concession to a clear next step, not intimidation.","quiz.sales_q15.prompt":"What most consistently drives renewals, referrals, and long-term growth?","quiz.sales_q15.explanation":"Long-term trust is built after the signature through outcomes and follow-through.","quiz.sales_q15.option_a":"Aggressive follow-ups after signing.","quiz.sales_q15.option_b":"Delivering what you promised and staying engaged through a strong handoff and early check-ins.","quiz.sales_q15.option_c":"Pushing upgrades immediately.","quiz.sales_q15.option_d":"Keeping the contract terms vague.","quiz.sales_q15.feedback_b":"Correct: outcomes and follow-through create durable trust and expansion opportunities."},Mo={en:Xd,es:Zd},Yn="en",Al="tycoon_locale";let ds=Yn;const yi=d.createContext(null),qo=(t,s)=>s?Object.entries(s).reduce((l,[i,n])=>l.replace(new RegExp(`\\{${i}\\}`,"g"),String(n)),t):t,eu=(t,s)=>{var l,i;return((l=Mo[t])==null?void 0:l[s])??((i=Mo[Yn])==null?void 0:i[s])},tu=(t,s,l)=>{const i=eu(t,s);if(!i)return s;if(typeof i=="string")return qo(i,l);const n=typeof(l==null?void 0:l.count)=="number"?l==null?void 0:l.count:0,o=new Intl.PluralRules(t).select(n),u=i[o]??i.other??i.one??"";return qo(u,l)},su=()=>{try{const t=localStorage.getItem(Al);if(t==="en"||t==="es")return t}catch(t){console.warn("Failed to read locale from storage:",t)}return Yn},ya=(t,s)=>new Intl.NumberFormat(ds,{style:"currency",currency:"USD",...s}).format(t),au=t=>new Intl.NumberFormat(ds,{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(t),di=t=>new Intl.NumberFormat(ds).format(t),iu=(t,s=1)=>new Intl.NumberFormat(ds,{style:"percent",maximumFractionDigits:s}).format(t),nu=t=>new Intl.DateTimeFormat(ds,{dateStyle:"medium",timeStyle:"short"}).format(new Date(t)),ru=({children:t})=>{const[s,l]=d.useState(su),i=d.useCallback(g=>{l(g),ds=g;try{localStorage.setItem(Al,g)}catch(r){console.warn("Failed to store locale:",r)}typeof document<"u"&&(document.documentElement.lang=g)},[]);d.useEffect(()=>{ds=s,typeof document<"u"&&(document.documentElement.lang=s)},[s]);const n=d.useCallback((g,r)=>tu(s,g,r),[s]),o=d.useCallback((g,r)=>new Intl.NumberFormat(s,{style:"currency",currency:"USD",...r}).format(g),[s]),u=d.useCallback(g=>new Intl.NumberFormat(s,{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(g),[s]),h=d.useCallback(g=>new Intl.NumberFormat(s).format(g),[s]),v=d.useCallback((g,r=1)=>new Intl.NumberFormat(s,{style:"percent",maximumFractionDigits:r}).format(g),[s]),b=d.useCallback(g=>new Intl.DateTimeFormat(s,{dateStyle:"medium",timeStyle:"short"}).format(new Date(g)),[s]),_=d.useMemo(()=>({locale:s,setLocale:i,t:n,formatCurrency:o,formatCurrencyCompact:u,formatNumber:h,formatPercent:v,formatDateTime:b}),[s,i,n,o,u,h,v,b]);return e.jsx(yi.Provider,{value:_,children:t})},Dt=()=>{const t=d.useContext(yi);if(!t)throw new Error("useI18n must be used within I18nProvider");return t},ke=(t,s,l)=>Math.max(s,Math.min(l,t)),tt=t=>ke(t,0,100),Ml=t=>ke(t,300,850),wa=t=>t>=760?"EXCELLENT":t>=700?"GOOD":t>=640?"FAIR":"POOR",Lo=t=>ya(t,{maximumFractionDigits:0}),tn=()=>Math.random(),ql=(t,s)=>{const l=t.assetIncomeDisruptions||[];let i=1;for(const n of l)if(n.assetId===s&&(n.monthsRemaining??0)>0){const o=typeof n.incomeMultiplier=="number"?n.incomeMultiplier:1;i*=o}return ke(i,0,1)},As=t=>Array.from(new Set(t)),Ll=t=>(t.assets||[]).filter(s=>s.type!==z.SAVINGS).reduce((s,l)=>s+l.value*(l.quantity||1),0),Pl=t=>{const s=new Set;for(const l of t.assets||[])l.type!==z.SAVINGS&&s.add(l.type);return s.size},Ol=t=>{const s=(t.liabilities||[]).reduce((i,n)=>{const o=typeof n.originalBalance=="number"?n.originalBalance:n.balance||0,u=Math.max(0,o-(n.balance||0));return i+u},0),l=(t.mortgages||[]).reduce((i,n)=>{const o=typeof n.originalAmount=="number"?n.originalAmount:n.balance||0,u=Math.max(0,o-(n.balance||0));return i+u},0);return s+l},Dl=t=>(t.assets||[]).filter(s=>s.type===z.BUSINESS).length,ms=t=>{var s,l;return((l=(s=t.character)==null?void 0:s.perk)==null?void 0:l.effects)||{}},Bl=t=>{var n,o;const s=((n=t.negotiationsCourse)==null?void 0:n.bestScore)??0,l=(o=t.negotiationsCourse)!=null&&o.certified?.01:0,i=s/15*.01;return Math.min(.03,l+i)},ou=new Set(["DEBT_CRUSHER","INVESTOR","ENTREPRENEUR"]),lu=(t,s,l)=>{if(l)return l;if(s<2&&t.month<4)return;const i=Ll(t),n=Pl(t),o=us(t).passive,u=(t.activeSideHustles||[]).length,h=Dl(t),v=Ol(t),b=t.creditRating||650;if(h>=1||u>=2)return"ENTREPRENEUR";if(v>=3e3&&i<12e3)return"DEBT_CRUSHER";const _=i/15e3+n/4+o/2e3,g=v/12e3+(b-650)/300,r=u/2+h*1.5,f=Math.max(_,g,r);if(!(f<.9&&t.month<6))return f==r?"ENTREPRENEUR":f==g?"DEBT_CRUSHER":"INVESTOR"},zl=(t,s)=>{const l=new Set(Ls.map(f=>f.id)),i=Array.isArray(t==null?void 0:t.active)?t.active:null,n=Array.isArray(t==null?void 0:t.readyToClaim)?t.readyToClaim:null,o=Array.isArray(t==null?void 0:t.completed)?t.completed:null,u=typeof(t==null?void 0:t.track)=="string"&&ou.has(t.track)?t.track:void 0,h=As((o||[]).filter(f=>typeof f=="string"&&l.has(f)).filter(f=>{const S=Ot(f);return S&&(!S.characterId||S.characterId===s)})),v=new Set(h),b=As((n||[]).filter(f=>typeof f=="string"&&l.has(f)&&!v.has(f)).filter(f=>{const S=Ot(f);return S&&(!S.characterId||S.characterId===s)})),_=new Set(b),g=[...Pt(s).active];return{active:As((i||g).filter(f=>typeof f=="string"&&l.has(f)&&!v.has(f)&&!_.has(f)).filter(f=>{const S=Ot(f);return S&&(!S.characterId||S.characterId===s)})).slice(0,3),readyToClaim:b,completed:h,track:u}},ui=(t,s)=>{var _,g;const l=Ot(s);if(!l)return null;const i=l.metric;let n=0;const o=l.target;let u="count",h;switch(i){case"CASH_AMOUNT":{u="money",n=t.cash||0;break}case"OWN_ASSET_COUNT":{u="count",n=(t.assets||[]).filter(r=>r.type!==z.SAVINGS).length;break}case"TOTAL_INVESTED":{u="money",n=Ll(t);break}case"DIVERSIFY_ASSET_TYPES":{u="count",n=Pl(t);break}case"PASSIVE_INCOME":{u="money",n=us(t).passive;break}case"ACTIVE_SIDE_HUSTLES":{u="count",n=(t.activeSideHustles||[]).length;break}case"CAREER_LEVEL":{u="count",n=((_=t.career)==null?void 0:_.level)||((g=t.playerJob)==null?void 0:g.level)||1;break}case"CASH_RESERVE_MONTHS":{u="months";const r=us(t).expenses;h=r,r<=0?n=t.cash>0?o:0:n=(t.cash||0)/r;break}case"CREDIT_RATING":{u="score",n=t.creditRating||650;break}case"DEBT_REPAID_TOTAL":{u="money",n=Ol(t);break}case"OWN_BUSINESS_COUNT":{u="count",n=Dl(t);break}case"OWN_REAL_ESTATE_COUNT":{u="count",n=(t.assets||[]).filter(r=>r.type===z.REAL_ESTATE).length;break}default:n=0}const v=o<=0?1:ke(n/o,0,1),b=v>=.999;return{quest:l,current:n,target:o,progress:v,complete:b,unit:u,expenseBasis:h}},cu=(t,s)=>{let l={...t};if(typeof s.cash=="number"&&!Number.isNaN(s.cash)&&(l.cash=Math.max(0,(l.cash||0)+s.cash)),typeof s.creditRating=="number"&&!Number.isNaN(s.creditRating)){const i=l.creditRating||650;l.creditRating=Ml(i+s.creditRating)}if(s.stats){const n={...l.stats||{}};for(const[o,u]of Object.entries(s.stats)){const h=o,v=typeof u=="number"?u:0,b=typeof n[h]=="number"?n[h]:0;n[h]=tt(b+v)}l.stats=n}return l},du=t=>{const s=[];if(typeof t.cash=="number"&&t.cash!==0&&s.push(`${t.cash>=0?"+":""}$${Math.abs(Math.round(t.cash)).toLocaleString()} cash`),typeof t.creditRating=="number"&&t.creditRating!==0&&s.push(`${t.creditRating>=0?"+":""}${Math.round(t.creditRating)} credit`),t.stats)for(const[l,i]of Object.entries(t.stats)){if(typeof i!="number"||i===0)continue;const n=l.replace(/([A-Z])/g," $1").replace(/^./,o=>o.toUpperCase());s.push(`${i>=0?"+":""}${Math.round(i)} ${n}`)}return s.length?s.join(" ‚Ä¢ "):"Reward applied"},Po=(t,s,l,i,n,o,u,h)=>{if(l.has(t.id)||i.has(t.id)||n.has(t.id)||t.characterId&&t.characterId!==h)return!1;if(t.characterId,u==="TRACK"){if(!o||t.track!==o)return!1}else if(t.track)return!1;return(t.unlockAfter||[]).every(b=>s.has(b))},Hn=t=>{var f;const s={...t},l=(f=t.character)==null?void 0:f.id,i=zl(t.quests,l),n=new Set(i.completed),o=new Set(i.readyToClaim),u=new Set([...i.completed,...i.readyToClaim]),h=lu(s,u.size,i.track);let v=!1;!i.track&&h&&(i.track=h,v=!0);let b=s;if(v){const S=i.track==="INVESTOR"?"Investor":i.track==="ENTREPRENEUR"?"Entrepreneur":"Debt Crusher",Y=`track-${i.track}-${b.month}`;(b.events||[]).some(E=>E.id===Y)||(b.events=[{id:Y,month:b.month,title:`üß≠ Track Unlocked: ${S}`,description:`Based on your recent decisions, your next goals will lean toward the ${S} track. You can still play however you want‚Äîthis just guides your short-term objectives.`,type:"MILESTONE"},...b.events||[]])}let _=[...i.active];const g=[];for(const S of _){if(n.has(S)||o.has(S))continue;const Y=ui(b,S);Y&&Y.complete&&g.push(S)}if(g.length>0)for(const S of g)_=_.filter(Y=>Y!==S),!o.has(S)&&!n.has(S)&&(i.readyToClaim.push(S),o.add(S),u.add(S));const r=new Set(_);for(;_.length<3;){let S;if(i.track&&(S=Ls.find(Y=>Po(Y,u,n,o,r,i.track,"TRACK",l))),S||(S=Ls.find(Y=>Po(Y,u,n,o,r,i.track,"GLOBAL",l))),!S)break;_.push(S.id),r.add(S.id)}return b.quests={active:_,readyToClaim:As(i.readyToClaim),completed:As(Array.from(n)),track:i.track},b},Oo=(t,s)=>{var o;const l=zl(t.quests,(o=t.character)==null?void 0:o.id);if(!(l.readyToClaim||[]).includes(s))return t;const i=Ot(s);if(!i)return t;let n={...t};return n=cu(n,i.reward),l.readyToClaim=(l.readyToClaim||[]).filter(u=>u!==s),l.completed=As([...l.completed||[],s]),l.active=(l.active||[]).filter(u=>u!==s),n.quests={...l,completed:l.completed,readyToClaim:l.readyToClaim,active:l.active},n.events=[{id:`quest-claim-${s}-${n.month}`,month:n.month,title:`üèÜ Goal Achieved: ${i.title}`,description:`${i.description}
Reward: ${du(i.reward)}${i.hint?`
Tip: ${i.hint}`:""}`,type:"ACHIEVEMENT"},...n.events||[]],n=Hn(n),n.events=(n.events||[]).slice(0,50),n},$n=t=>{var u,h,v,b,_;const s=((u=t.stats)==null?void 0:u.energy)??50,l=((h=t.stats)==null?void 0:h.stress)??50,i=((v=t.stats)==null?void 0:v.health)??50;let n=2;return s>=70&&l<=60&&(n+=1),(((b=t.career)==null?void 0:b.level)??((_=t.playerJob)==null?void 0:_.level)??0)>=3&&(n+=1),(s<35||l>=85||i<30)&&(n-=1),ke(n,1,4)},vi=t=>{var h,v,b,_,g,r;const s=ms(t);if((t.jobLossMonthsRemaining??0)>0)return 0;const l=Rn(t);let i=((h=t.career)==null?void 0:h.salary)||((v=t.playerJob)==null?void 0:v.salary)||0;i=Math.round(i*l);const n=((b=t.career)==null?void 0:b.path)||"TECH",o=(g=(_=t.aiDisruption)==null?void 0:_.affectedIndustries)==null?void 0:g[n];if(o&&o.salaryImpact&&(i=Math.round(i*o.salaryImpact)),(r=t.economy)!=null&&r.recession){const f=s.recessionSalaryMultiplier??.95;i=Math.round(i*f)}t.tempSalaryBonus&&(i+=Math.round(t.tempSalaryBonus));const u=s.salaryMultiplier??1;return Math.max(0,Math.round(i*u))},Ps=t=>{var n;const s=(t.assets||[]).reduce((o,u)=>o+u.value*(u.quantity??1),0),l=((n=t.vehicles)==null?void 0:n.reduce((o,u)=>o+u.value,0))||0,i=t.liabilities.reduce((o,u)=>o+u.balance,0);return t.cash+s+l-i},uu=t=>{var o,u;const s=Hl(t),l=(s.salary+s.sideHustleIncome+s.passive+s.spouseIncome)*12;let i=0;l>578125?i=174238+(l-578125)*.37:l>231250?i=52832+(l-231250)*.35:l>182100?i=37104+(l-182100)*.32:l>95375?i=16290+(l-95375)*.24:l>44725?i=5147+(l-44725)*.22:l>11e3?i=1100+(l-11e3)*.12:i=l*.1;const n=(((u=(o=t.family)==null?void 0:o.children)==null?void 0:u.length)||0)*2e3;return Math.max(0,Math.round(i-n))},Rn=t=>{var i;let s=1;const l=((i=t.career)==null?void 0:i.path)||"TECH";for(const n of t.education.degrees){const o=Xe.find(u=>u.id===n);o&&o.relevantCareers.includes(l)&&(s*=o.salaryBoost)}return Math.min(3,s)},Yl=t=>{var i;if(!((i=t.family)!=null&&i.children)||t.family.children.length===0)return 0;let s=0;const l=t.month;for(const n of t.family.children){const o=l-n.birthMonth;if(o<0){s+=300;continue}const u=Math.floor(o/12);u<2?s+=1200:u<5?s+=1e3:u<12?s+=600:u<18?s+=800:u<22&&n.inCollege&&(s+=1500)}return s},mu=t=>{var h;const s={...t},i=.25*((Qe[t.difficulty]||Qe.NORMAL).aiDisruptionSpeed||1);s.aiDisruption={...t.aiDisruption,disruptionLevel:Math.min(100,(((h=t.aiDisruption)==null?void 0:h.disruptionLevel)||0)+i),year:2025+Math.floor(t.month/12)};const n=s.aiDisruption.disruptionLevel,o=["TECH","FINANCE","HEALTHCARE","TRADES","CREATIVE","ENTREPRENEUR","GOVERNMENT","SALES"],u={};return o.forEach(v=>{const b=Vd[v];if(!b)return;const _=s.aiDisruption.year;let g=1;for(const f of b.phases)_>=f.year&&(g=f.impact);let r="LOW";b.vulnerability>=.6?r="CRITICAL":b.vulnerability>=.4?r="HIGH":b.vulnerability>=.2&&(r="MEDIUM"),u[v]={jobLossPercent:b.vulnerability*n,salaryImpact:g,automationRisk:r}}),s.aiDisruption.affectedIndustries=u,s},hu=(t,s,l)=>{const i=s/12,n=l*12;if(i===0)return Math.round(t/n);const o=t*(i*Math.pow(1+i,n))/(Math.pow(1+i,n)-1);return Math.round(o)},pu=(t,s,l,i,n,o)=>{const u=zn.find(Y=>Y.id===i);if(!u)return null;const h=typeof(o==null?void 0:o.downPaymentPercent)=="number"?o.downPaymentPercent:u.downPaymentPercent,v=Math.round(l*(h/100)),b=l-v,_=n+u.interestRateSpread+((o==null?void 0:o.rateAdjustment)||0),g=hu(b,_,u.termYears),r="mtg-"+Date.now(),f={id:r,assetId:t,assetName:s,originalAmount:b,balance:b,interestRate:_,monthlyPayment:g,termMonths:u.termYears*12,monthsRemaining:u.termYears*12,downPaymentPercent:h,type:i.includes("investment")?"INVESTMENT":i.includes("fha")?"FHA":"CONVENTIONAL"},S={id:r,name:`Mortgage: ${s}`,balance:b,originalBalance:b,interestRate:_,monthlyPayment:g,type:"MORTGAGE",assetId:t};return{mortgage:f,downPayment:v,liability:S}},mi=t=>{const s={incomeMultiplier:1,passiveIncomeShare:0,energyMultiplier:1,stressMultiplier:1},l=t.upgrades||[],i=t.milestones||[];return l.forEach((n,o)=>{const u=i[o],h=u==null?void 0:u.options.find(b=>b.id===n);if(!h)return;const v=h.effects||{};typeof v.incomeMultiplier=="number"&&(s.incomeMultiplier*=v.incomeMultiplier),typeof v.energyMultiplier=="number"&&(s.energyMultiplier*=v.energyMultiplier),typeof v.stressMultiplier=="number"&&(s.stressMultiplier*=v.stressMultiplier),typeof v.passiveIncomeShare=="number"&&(s.passiveIncomeShare=ke(s.passiveIncomeShare+v.passiveIncomeShare,0,.9))}),s},gu=t=>{var _;if(!t.activeSideHustles||t.activeSideHustles.length===0)return{total:0,passive:0};let s=0,l=0;const i=((_=t.aiDisruption)==null?void 0:_.disruptionLevel)||0;for(const g of t.activeSideHustles){const r=1-g.aiVulnerability*i/200,f=(g.incomeRange.min+g.incomeRange.max)/2,S=(g.incomeRange.max-g.incomeRange.min)*(Math.random()-.5)*.5,Y=f+S,P=mi(g),E=Math.round(Y*Math.max(.3,r)*P.incomeMultiplier),w=Math.round(E*P.passiveIncomeShare);s+=E,l+=w}const n=typeof t.tempSideHustleMultiplier=="number"?t.tempSideHustleMultiplier:1,o=Math.round(s*ke(n,.25,3)),u=Math.round(l*ke(n,.25,3)),h=ms(t).sideHustleIncomeMultiplier??1,v=Math.round(o*h),b=Math.round(u*h);return{total:v,passive:Math.min(b,v)}},xu=t=>{var _;if(!t.activeSideHustles||t.activeSideHustles.length===0)return{total:0,passive:0};let s=0,l=0;const i=((_=t.aiDisruption)==null?void 0:_.disruptionLevel)||0;for(const g of t.activeSideHustles){const r=1-g.aiVulnerability*i/200,S=(g.incomeRange.min+g.incomeRange.max)/2,Y=mi(g),P=Math.round(S*Math.max(.3,r)*Y.incomeMultiplier),E=Math.round(P*Y.passiveIncomeShare);s+=P,l+=E}const n=typeof t.tempSideHustleMultiplier=="number"?t.tempSideHustleMultiplier:1,o=Math.round(s*ke(n,.25,3)),u=Math.round(l*ke(n,.25,3)),h=ms(t).sideHustleIncomeMultiplier??1,v=Math.round(o*h),b=Math.round(u*h);return{total:v,passive:Math.min(b,v)}},fu=t=>{const s=(t.activeSideHustles||[]).map(i=>({...i,monthsActive:(i.monthsActive??0)+1}));if(t.pendingSideHustleUpgrade)return{...t,activeSideHustles:s};let l=t.pendingSideHustleUpgrade??null;for(const i of s){const n=i.milestones||[],o=(i.upgrades||[]).length,u=n[o];if(u&&(i.monthsActive??0)>=u.monthsRequired){l={hustleId:i.id,milestoneIndex:o};break}}return{...t,activeSideHustles:s,pendingSideHustleUpgrade:l}},Do=[{label:"Site outage",incomeMultiplier:.7,impact:"-30% income"},{label:"Supply issue",incomeMultiplier:.8,impact:"-20% income"},{label:"Refund spike",incomeMultiplier:.65,impact:"-35% income"},{label:"Compliance audit",cashCostPct:.03,impact:"Compliance cost"},{label:"Equipment repair",cashCostPct:.05,impact:"Repair cost"}],Va=(t,s)=>t.education.degrees.some(l=>{const i=Xe.find(n=>n.id===l);return i?s.includes(i.category):!1}),bu=t=>{let s=0;const l=[],i=ms(t),n=i.businessVolatilityMultiplier??1,o=i.businessMaintenanceChanceMultiplier??1,u=i.businessMaintenanceCostMultiplier??1;return t.assets=t.assets.map(h=>{if(h.type!==z.BUSINESS)return h;const v=h.quantity??1,b=Math.max(0,h.cashFlow||0)*v,_=typeof h.currentMonthIncome=="number"?h.currentMonthIncome:Math.round(b);let g=h.maintenanceStatus;g&&g.untilMonth<t.month&&(g=void 0);const r=h.opsUpgrade?.6:1,f=Va(t,["BUSINESS"])?.9:Va(t,["STEM"])?.95:1,S=Va(t,["BUSINESS"])?.8:Va(t,["STEM"])?.9:1,Y=(tn()*2-1)*h.volatility*n*.6*r*f;let P=ke(1+Y,.55,1.45);const E=(.05+h.volatility*.12)*o*(h.opsUpgrade?.6:1)*S;if(!g&&tn()<E){const y=Do[Math.floor(tn()*Do.length)];if(typeof y.incomeMultiplier=="number"&&(P*=y.incomeMultiplier),typeof y.cashCostPct=="number"){const C=Math.max(0,Math.round(h.value*v*y.cashCostPct*u));s+=C,g={label:y.label,impact:`${y.impact}: ${Lo(C)}`,untilMonth:t.month},l.push({id:Date.now().toString(),month:t.month,title:`üîß ${y.label}`,description:`${h.name} incurred ${Lo(C)} in maintenance costs.`,type:"WARNING"})}else g={label:y.label,impact:y.impact,untilMonth:t.month},l.push({id:Date.now().toString(),month:t.month,title:`‚ö†Ô∏è ${y.label}`,description:`${h.name} income was impacted this month (${y.impact}).`,type:"WARNING"})}const w=Math.max(0,Math.round(b*P));return{...h,lastMonthIncome:_,currentMonthIncome:w,maintenanceStatus:g}}),l.length>0&&(t.events=[...l,...t.events||[]].slice(0,50)),{state:t,maintenanceCost:s}},Hl=t=>{var E,w,y,C,M,j,L,Z,G;const s=Qe[t.difficulty]||Qe.NORMAL,l=vi(t),i=gu(t),n=i.total-i.passive;let o=0;for(const D of t.assets){const W=((w=(E=t.economy)==null?void 0:E.sectorPerformance)==null?void 0:w[D.industry||"diversified"])||1,Q=s.assetYieldBonus||0,re=ql(t,D.id),k=D.quantity||1,H=((D.type===z.BUSINESS&&typeof D.currentMonthIncome=="number"?D.currentMonthIncome:D.cashFlow*k)+D.value*Q/12*k)*W*re;o+=H}const u=tt(((y=t.stats)==null?void 0:y.financialIQ)??0);o=(o+i.passive)*(1+u*5e-4);const h=((M=(C=t.family)==null?void 0:C.spouse)==null?void 0:M.income)||0,v=l+n+Math.round(o)+h,b=vt[t.lifestyle];let _=Math.round(((b==null?void 0:b.cost)||2500)*s.expenseMultiplier);const g=Math.pow(1+(((j=t.economy)==null?void 0:j.inflationRate)||.03),t.month/12);_=Math.round(_*g);const r=t.liabilities.reduce((D,W)=>D+W.monthlyPayment,0),f=((Z=(L=t.education)==null?void 0:L.currentlyEnrolled)==null?void 0:Z.monthlyPayment)||0,S=Yl(t),Y=((G=t.vehicles)==null?void 0:G.reduce((D,W)=>D+W.monthlyMaintenance,0))||0,P=_+r+f+S+Y;return{salary:l,sideHustleIncome:n,passive:Math.round(o),spouseIncome:h,income:v,lifestyleCost:_,debtPayments:r,educationPayment:f,childrenExpenses:S,vehicleCosts:Y,expenses:P}},us=t=>{var w,y,C,M,j,L,Z,G,D;const s=Qe[t.difficulty]||Qe.NORMAL,l=vi(t),i=xu(t),n=i.total-i.passive;let o=0;for(const W of t.assets||[]){const Q=((y=(w=t.economy)==null?void 0:w.sectorPerformance)==null?void 0:y[W.industry||"diversified"])||1,re=s.assetYieldBonus||0,k=W.quantity??1,R=ql(t,W.id),H=(W.cashFlow+W.value*re/12)*k*Q*R;o+=H}const u=tt(((C=t.stats)==null?void 0:C.financialIQ)??0);o=(o+i.passive)*(1+u*5e-4);const h=Math.round(o),v=((j=(M=t.family)==null?void 0:M.spouse)==null?void 0:j.income)||0,b=l+n+h+v,_=vt[t.lifestyle];let g=Math.round(((_==null?void 0:_.cost)||2500)*s.expenseMultiplier);const r=Math.pow(1+(((L=t.economy)==null?void 0:L.inflationRate)||.03),t.month/12);g=Math.round(g*r);const f=(t.liabilities||[]).reduce((W,Q)=>W+(Q.monthlyPayment||0),0),S=((G=(Z=t.education)==null?void 0:Z.currentlyEnrolled)==null?void 0:G.monthlyPayment)||0,Y=Yl(t),P=((D=t.vehicles)==null?void 0:D.reduce((W,Q)=>W+(Q.monthlyMaintenance||0),0))||0,E=g+f+S+Y+P;return{salary:l,sideHustleIncome:n,passive:h,spouseIncome:v,income:b,lifestyleCost:g,debtPayments:f,educationPayment:S,childrenExpenses:Y,vehicleCosts:P,expenses:E}},yu=t=>{const s={...t};s.marketCycle={...t.marketCycle},s.marketCycle.monthsInPhase++;const l=s.marketCycle.monthsInPhase/s.marketCycle.nextPhaseIn;if(Math.random()<l*.3){const i=["EXPANSION","PEAK","CONTRACTION","TROUGH"],n=i.indexOf(s.marketCycle.phase);s.marketCycle.phase=i[(n+1)%4],s.marketCycle.monthsInPhase=0,s.marketCycle.intensity=.3+Math.random()*.5,s.marketCycle.nextPhaseIn=12+Math.floor(Math.random()*24);const o={EXPANSION:"BULL",PEAK:"BOOM",CONTRACTION:"BEAR",TROUGH:"CRASH"};s.economy={...s.economy,marketTrend:o[s.marketCycle.phase]},s.marketCycle.phase==="CONTRACTION"&&Math.random()<.4&&(s.economy.recession=!0,s.economy.recessionMonths=12+Math.floor(Math.random()*12))}return s.economy.recession&&s.economy.recessionMonths>0&&(s.economy.recessionMonths--,s.economy.recessionMonths<=0&&(s.economy.recession=!1)),s},vu=t=>{var u;const s={...t},l=Qe[t.difficulty]||Qe.NORMAL,n={EXPANSION:1.005,PEAK:1.002,CONTRACTION:.997,TROUGH:.999}[t.marketCycle.phase]||1,o=(u=t.economy)!=null&&u.recession?.998:1;return s.assets=t.assets.map(h=>{var f,S;const v={...h};let b=n*o-1;const _=(l.volatilityMultiplier||1)*.1,g=(Math.random()-.5)*2*h.volatility*_;b+=g;const r=((S=(f=t.economy)==null?void 0:f.sectorPerformance)==null?void 0:S[h.industry||"diversified"])||1;return b*=r,h.type==="REAL_ESTATE"&&(b*=.3,b+=.003),h.type==="BUSINESS"&&(b*=.5,b+=.002),b=Math.max(-.05,Math.min(.05,b)),v.value=Math.max(Math.round(h.costBasis*.5),Math.round(h.value*(1+b))),v.priceHistory=[...h.priceHistory,{month:t.month,value:v.value}].slice(-24),h.baseYield&&(v.cashFlow=v.value*h.baseYield/12),v}),s.vehicles&&(s.vehicles=s.vehicles.map(h=>({...h,value:Math.max(500,Math.round(h.value*.995)),age:h.age+1/12}))),s},wu=t=>{var i,n,o;if(!((i=t.education)!=null&&i.currentlyEnrolled))return t;if(!t.education.currentlyEnrolled.educationId)return{...t,education:{...t.education,currentlyEnrolled:null}};const s={...t},l={...t.education.currentlyEnrolled};if(l.monthsRemaining--,l.monthsRemaining<=0){const u=Xe.find(f=>f.id===l.educationId),h=((n=t.career)==null?void 0:n.path)||"TECH",v=u==null?void 0:u.relevantCareers.includes(h),b=["HIGH_SCHOOL","CERTIFICATE","ASSOCIATE","BACHELOR","MASTER","MBA","PHD","LAW","MEDICAL"],_=b.indexOf(t.education.level),r=(u?b.indexOf(u.level):-1)>_?u.level:t.education.level;s.education={level:r,degrees:[...t.education.degrees,l.educationId],currentlyEnrolled:null},s.events=[{id:Date.now().toString(),month:t.month,title:"üéì Degree Completed!",description:v?`You earned your ${u==null?void 0:u.name}! Salary boost applied.`:`You earned your ${u==null?void 0:u.name}. Unfortunately, it won't help your ${(o=Ce[h])==null?void 0:o.name} career.`,type:v?"ACHIEVEMENT":"NEWS"},...t.events]}else s.education={...t.education,currentlyEnrolled:l};return s},Nu=t=>{var l;if(!((l=t.family)!=null&&l.children)||t.family.children.length===0)return t;const s={...t};s.family={...t.family},s.family.children=t.family.children.map(i=>{const n=t.month-i.birthMonth,o=Math.floor(n/12);return{...i,age:o,inSchool:o>=5&&o<18,inCollege:o>=18&&o<22}});for(const i of s.family.children)t.month-i.birthMonth===216&&(s.events=[{id:Date.now().toString(),month:t.month,title:"üéÇ Child Turns 18!",description:`${i.name} is now an adult! Time flies.`,type:"MILESTONE"},...s.events],s.stats={...s.stats,fulfillment:Math.min(100,s.stats.fulfillment+20)});return s},_u=t=>{var b,_,g;if(!t.career)return t;const s=Bl(t),l=ms(t).salaryGrowthBonus??0,i=t.career.level??0,n=Math.min(.002,i*4e-4),o=(((b=t.stats)==null?void 0:b.networking)??0)>=50?5e-4:0,u=.0015+n+o+s+l,h=Math.round(t.career.salary*(1+u)),v=(_=t.playerJob)!=null&&_.salary?Math.round(t.playerJob.salary*(1+u)):(g=t.playerJob)==null?void 0:g.salary;return{...t,career:{...t.career,salary:h},playerJob:t.playerJob?{...t.playerJob,salary:v??t.playerJob.salary}:t.playerJob}},$l=t=>{var h;if(!t.career)return{promoted:!1,newState:t};const s=Ce[t.career.path];if(!s)return{promoted:!1,newState:t};const l=t.career.level;if(l>=s.levels.length)return{promoted:!1,newState:t};const i=s.levels[l];if(!i)return{promoted:!1,newState:t};if(t.career.experience<i.experienceRequired)return{promoted:!1,newState:t};if(i.educationRequired&&i.educationCategory&&!t.education.degrees.some(b=>{const _=Xe.find(S=>S.id===b);if(!_)return!1;const g=["HIGH_SCHOOL","CERTIFICATE","ASSOCIATE","BACHELOR","MASTER","MBA","PHD","LAW","MEDICAL"],r=g.indexOf(i.educationRequired);return g.indexOf(_.level)>=r&&_.category===i.educationCategory}))return{promoted:!1,newState:t};let n=.15;if(n+=(t.stats.happiness-50)/500,n+=t.stats.networking/500,n-=(t.stats.stress-30)/500,n+=Bl(t),(h=t.economy)!=null&&h.recession&&(n*=.5),Math.random()>n)return{promoted:!1,newState:t};const o={...t},u=Qe[t.difficulty]||Qe.NORMAL;return o.career={...t.career,level:l+1,title:i.title,salary:Math.round(i.baseSalary*u.salaryMultiplier)},o.playerJob={...t.playerJob,level:l+1,title:i.title,salary:Math.round(i.baseSalary*u.salaryMultiplier)},{promoted:!0,newState:o}},Ge=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(t),$t=t=>t[Math.floor(Math.random()*t.length)],Bo=(t,s)=>{const l=(s.assets||[]).filter(n=>n.type===z.BUSINESS&&(n.quantity||1)>0),i=(s.assets||[]).filter(n=>n.type===z.REAL_ESTATE&&(n.quantity||1)>0);switch(t.id){case"owned_business_strike":{if(l.length===0)return t;const n=$t(l),o=n.quantity||1,u=Math.max(0,Math.round((n.cashFlow||0)*o)),h=2+Math.floor(Math.random()*2),v=ke(Math.round(Math.max(2500,u*.6)),2500,3e4),b=ke(Math.round(Math.max(5e3,u*1.2)),5e3,5e4);return{...t,title:`ü™ß Strike Threat at ${n.name}`,description:`Workers at ${n.name} threaten a strike. If operations slow down, your business income could drop for ${h} months.`,options:[{label:`Negotiate (${Ge(v)})`,outcome:{cashChange:-v,message:"You negotiate and agree to concessions. The strike is avoided, but profits dip for a while.",statChanges:{stress:18,financialIQ:3},assetIncomeDisruption:{assetId:n.id,months:h,incomeMultiplier:.85,reason:"Strike disruption",recoveryTitle:"‚úÖ Operations Stabilized",recoveryMessage:`${n.name} stabilizes and income returns to normal next month.`},assetAdjustment:{assetId:n.id,cashFlowMultiplier:.97}}},{label:"Hold the line (risky)",outcome:{cashChange:0,message:"The strike happens. Revenue drops hard while you scramble to recover.",statChanges:{stress:28,happiness:-6},assetIncomeDisruption:{assetId:n.id,months:h,incomeMultiplier:.55,reason:"Strike shutdown risk",recoveryTitle:"‚úÖ Back to Normal",recoveryMessage:`${n.name} reopens fully and income resumes next month.`},assetAdjustment:{assetId:n.id,valueMultiplier:.95}}},{label:`Use temporary staff (${Ge(b)})`,outcome:{cashChange:-b,message:"You hire temporary staff to keep the lights on. It works, but it's expensive.",statChanges:{stress:22,networking:-3},assetIncomeDisruption:{assetId:n.id,months:h,incomeMultiplier:.75,reason:"Strike mitigation",recoveryTitle:"‚úÖ Staffing Normalized",recoveryMessage:`${n.name} staffing stabilizes and income resumes next month.`}}}]}}case"owned_business_fraud":{if(l.length===0)return t;const n=$t(l),o=n.quantity||1,u=Math.max(0,Math.round((n.cashFlow||0)*o)),h=ke(Math.round(Math.max(3e3,u*(2+Math.random()*2))),3e3,75e3),v=ke(Math.round(Math.max(2e3,h*.25)),2e3,2e4);return{...t,title:`üïµÔ∏è Fraud at ${n.name}`,description:`You discover fraudulent transactions tied to ${n.name}. The estimated loss is around ${Ge(h)}.`,options:[{label:`Forensic audit + report (${Ge(v)})`,outcome:{cashChange:-(h+v),message:"You investigate and report the fraud. Painful now, but you stop the bleeding.",statChanges:{stress:20,financialIQ:6},assetIncomeDisruption:{assetId:n.id,months:2,incomeMultiplier:.85,reason:"Fraud recovery",recoveryTitle:"‚úÖ Fraud Contained",recoveryMessage:`${n.name} stabilizes and income returns to normal next month.`},assetAdjustment:{assetId:n.id,valueMultiplier:.9}}},{label:"Settle quietly (avoid headlines)",outcome:{cashChange:-Math.round(h*1.25),message:"You settle quietly to avoid reputational damage. It costs more, but the drama fades.",statChanges:{stress:16,happiness:-4},assetAdjustment:{assetId:n.id,valueMultiplier:.93}}},{label:"Ignore it (bad idea)",outcome:{cashChange:-Math.round(h*.4),message:"You ignore warning signs. More money leaks out and uncertainty grows.",statChanges:{stress:18,financialIQ:-5},assetIncomeDisruption:{assetId:n.id,months:3,incomeMultiplier:.75,reason:"Ongoing fraud risk",recoveryTitle:"‚úÖ Leak Plugged",recoveryMessage:`${n.name} recovers and income resumes next month.`},assetAdjustment:{assetId:n.id,valueMultiplier:.88}}}]}}case"owned_business_lawsuit":{if(l.length===0)return t;const n=$t(l),o=ke(Math.round(Math.max(8e3,n.value*.08)),8e3,12e4),u=ke(Math.round(Math.max(15e3,n.value*.12)),15e3,2e5);return{...t,title:`‚öñÔ∏è Lawsuit Against ${n.name}`,description:`A serious legal claim is filed involving ${n.name}. Even if you win, legal fees can hurt. Estimated legal fees: ${Ge(o)}.`,options:[{label:`Fight it (${Ge(o)})`,outcome:{cashChange:-o,message:"You fight the lawsuit. Legal fees are brutal, and management distraction reduces profits temporarily.",statChanges:{stress:28,financialIQ:3},assetIncomeDisruption:{assetId:n.id,months:3,incomeMultiplier:.8,reason:"Lawsuit distraction",recoveryTitle:"‚úÖ Case Resolved",recoveryMessage:`${n.name} moves past the legal stress and income normalizes next month.`},assetAdjustment:{assetId:n.id,valueMultiplier:.92}}},{label:`Settle quickly (${Ge(u)})`,outcome:{cashChange:-u,message:"You settle quickly to stop the bleeding. You avoid a long battle, but it costs you.",statChanges:{stress:18,happiness:-3},assetAdjustment:{assetId:n.id,valueMultiplier:.95}}},{label:"Try mediation first",outcome:{cashChange:-Math.round(o*.5),message:"You attempt mediation. It reduces costs, but the business still takes a temporary hit.",statChanges:{stress:18,networking:4},assetIncomeDisruption:{assetId:n.id,months:2,incomeMultiplier:.87,reason:"Mediation process",recoveryTitle:"‚úÖ Mediation Completed",recoveryMessage:`${n.name} stabilizes and income resumes next month.`}}}]}}case"owned_business_regulatory_fine":{if(l.length===0)return t;const n=$t(l),o=ke(Math.round(Math.max(5e3,n.value*.05)),5e3,1e5),u=ke(Math.round(Math.max(2e3,o*.2)),2e3,25e3),h=Math.random()<.45;return{...t,title:`üèõÔ∏è Compliance Fine for ${n.name}`,description:`A regulator flags compliance issues at ${n.name}. The current proposed fine is ${Ge(o)}.`,options:[{label:`Pay + fix (${Ge(o)})`,outcome:{cashChange:-o,message:"You pay the fine and fix compliance quickly. Short-term pain, long-term stability.",statChanges:{stress:16,financialIQ:5},assetIncomeDisruption:{assetId:n.id,months:1,incomeMultiplier:.9,reason:"Compliance remediation",recoveryTitle:"‚úÖ Compliance Restored",recoveryMessage:`${n.name} completes remediation and income normalizes next month.`}}},{label:`Appeal (${Ge(u)})`,outcome:{cashChange:-(u+Math.round(h?o*.25:o*1)),message:h?"Your appeal partly succeeds. You still pay a smaller penalty, but you spent time and fees.":"Your appeal fails. You pay the fine and fees anyway.",statChanges:{stress:20,financialIQ:h?2:-2},assetIncomeDisruption:{assetId:n.id,months:2,incomeMultiplier:.9,reason:"Appeal distraction",recoveryTitle:"‚úÖ Appeal Finished",recoveryMessage:`${n.name} moves past the appeal and income normalizes next month.`}}},{label:"Delay fixes (risky)",outcome:{cashChange:-Math.round(o*.6),message:"You delay remediation. Penalties increase and operations slow down.",statChanges:{stress:26,financialIQ:-5},assetIncomeDisruption:{assetId:n.id,months:3,incomeMultiplier:.75,reason:"Compliance penalties",recoveryTitle:"‚úÖ Remediation Complete",recoveryMessage:`${n.name} finishes remediation and income normalizes next month.`},assetAdjustment:{assetId:n.id,valueMultiplier:.95}}}]}}case"rental_tenant_nonpayment":{if(i.length===0)return t;const n=$t(i),o=n.quantity||1,u=Math.max(0,Math.round((n.cashFlow||0)*o)),h=2+Math.floor(Math.random()*3),v=ke(Math.round(Math.max(600,u*.6)),600,6e3),b=ke(Math.round(Math.max(500,u*.5)),500,4e3);return{...t,title:`üè† Tenant Stops Paying (${n.name})`,description:`A tenant in ${n.name} stops paying. If unresolved, you could lose rental income for about ${h} months.`,options:[{label:`Start eviction (${Ge(v)})`,outcome:{cashChange:-v,message:"You start the eviction process. It takes time, and rent goes to $0 temporarily.",statChanges:{stress:22},assetIncomeDisruption:{assetId:n.id,months:h,incomeMultiplier:0,reason:"Tenant nonpayment / eviction",recoveryTitle:"‚úÖ New Tenant Found",recoveryMessage:`A new tenant moves into ${n.name}. Rental income resumes next month.`}}},{label:"Offer a payment plan",outcome:{cashChange:-Math.round(u*.15),message:"You offer a payment plan. You collect partial rent while keeping the tenant in place.",statChanges:{stress:12,networking:3},assetIncomeDisruption:{assetId:n.id,months:h,incomeMultiplier:.6,reason:"Payment plan (partial rent)",recoveryTitle:"‚úÖ Rent Back on Track",recoveryMessage:`Payments stabilize at ${n.name}. Rental income normalizes next month.`},assetAdjustment:{assetId:n.id,cashFlowMultiplier:.98}}},{label:`Cash-for-keys (${Ge(b)})`,outcome:{cashChange:-b,message:"You pay the tenant to leave quickly. It's frustrating, but you can re-let sooner.",statChanges:{stress:16,happiness:-2},assetIncomeDisruption:{assetId:n.id,months:Math.max(1,Math.floor(h*.6)),incomeMultiplier:0,reason:"Vacancy while re-letting",recoveryTitle:"‚úÖ Tenant Replaced",recoveryMessage:`You re-let ${n.name}. Rental income resumes next month.`}}}]}}case"rental_major_maintenance":{if(i.length===0)return t;const n=$t(i);n.quantity;const o=ke(Math.round(Math.max(1500,n.value*.03)),1500,4e4),u=Math.round(o*.35);return{...t,title:`üõ†Ô∏è Major Maintenance (${n.name})`,description:`A major issue hits ${n.name}. Repairs are estimated at ${Ge(o)}. Ignore it and the damage can worsen.`,options:[{label:`Fix properly (${Ge(o)})`,outcome:{cashChange:-o,message:"You fix the issue properly. Rental income pauses briefly during repairs, but the property stays solid.",statChanges:{stress:12,financialIQ:2},assetIncomeDisruption:{assetId:n.id,months:1,incomeMultiplier:0,reason:"Repairs / downtime",recoveryTitle:"‚úÖ Repairs Completed",recoveryMessage:`${n.name} repairs are completed. Rental income resumes next month.`},assetAdjustment:{assetId:n.id,valueMultiplier:1.01}}},{label:`Temporary fix (${Ge(u)})`,outcome:{cashChange:-u,message:"You patch it for now. Tenants complain and you take a small income hit for a while.",statChanges:{stress:18},assetIncomeDisruption:{assetId:n.id,months:3,incomeMultiplier:.85,reason:"Temporary repair impact",recoveryTitle:"‚úÖ Issue Stabilized",recoveryMessage:`${n.name} stabilizes and rental income normalizes next month.`},assetAdjustment:{assetId:n.id,valueMultiplier:.99}}},{label:"Delay repairs (risky)",outcome:{cashChange:0,message:"You delay repairs. The issue worsens, rent drops, and property value takes a hit.",statChanges:{stress:28,happiness:-4},assetIncomeDisruption:{assetId:n.id,months:4,incomeMultiplier:.7,reason:"Deferred maintenance",recoveryTitle:"‚úÖ Repairs Finally Done",recoveryMessage:`${n.name} is repaired and rental income normalizes next month.`},assetAdjustment:{assetId:n.id,valueMultiplier:.9,cashFlowMultiplier:.9}}}]}}case"rental_tenant_dispute":{if(i.length===0)return t;const n=$t(i),o=Math.max(0,Math.round(n.cashFlow||0)),u=ke(Math.round(Math.max(800,o*.8)),800,8e3),h=ke(Math.round(Math.max(1200,o*1.5)),1200,12e3);return{...t,title:`üßæ Tenant Dispute (${n.name})`,description:`A tenant at ${n.name} disputes charges and threatens action. If it drags out, rent may be withheld temporarily.`,options:[{label:`Mediation (${Ge(u)})`,outcome:{cashChange:-u,message:"You mediate and compromise. It costs you, but resolves faster with less stress.",statChanges:{stress:12,networking:3},assetIncomeDisruption:{assetId:n.id,months:1,incomeMultiplier:.85,reason:"Dispute resolution",recoveryTitle:"‚úÖ Dispute Resolved",recoveryMessage:`The dispute at ${n.name} is resolved. Rental income normalizes next month.`}}},{label:`Lawyer up (${Ge(Math.round(u*1.5))})`,outcome:{cashChange:-Math.round(u*1.5),message:"You hire a lawyer. The dispute drags out, and rent gets partially withheld.",statChanges:{stress:22},assetIncomeDisruption:{assetId:n.id,months:2,incomeMultiplier:.6,reason:"Legal dispute",recoveryTitle:"‚úÖ Legal Matter Closed",recoveryMessage:`Legal pressure eases at ${n.name}. Rental income normalizes next month.`}}},{label:`Pay to end it (${Ge(h)})`,outcome:{cashChange:-h,message:"You pay to end it quickly. Not ideal, but you protect your time and reduce stress.",statChanges:{stress:10,happiness:-2}}}]}}case"rental_vacancy":{if(i.length===0)return t;const n=$t(i),o=1+Math.floor(Math.random()*3),u=ke(Math.round(Math.max(2e3,n.value*.02)),2e3,35e3);return{...t,title:`üï≥Ô∏è Vacancy at ${n.name}`,description:`${n.name} goes vacant unexpectedly. You could lose rental income for about ${o} months while you re-let.`,options:[{label:"Lower rent to fill faster",outcome:{cashChange:0,message:"You lower rent to attract tenants quickly. Income drops once re-let, but vacancy ends sooner.",statChanges:{stress:12},assetIncomeDisruption:{assetId:n.id,months:Math.max(1,o-1),incomeMultiplier:0,reason:"Vacancy",recoveryTitle:"‚úÖ Tenant Signed",recoveryMessage:`A tenant signs for ${n.name}. Rental income resumes next month.`},assetAdjustment:{assetId:n.id,cashFlowMultiplier:.95}}},{label:`Renovate (${Ge(u)})`,outcome:{cashChange:-u,message:"You renovate to increase demand. Vacancy lasts a bit longer, but future rent improves.",statChanges:{stress:18,financialIQ:3},assetIncomeDisruption:{assetId:n.id,months:o+1,incomeMultiplier:0,reason:"Renovation vacancy",recoveryTitle:"‚úÖ Renovation Complete",recoveryMessage:`${n.name} renovation completes. Rental income resumes next month.`},assetAdjustment:{assetId:n.id,cashFlowMultiplier:1.07,valueMultiplier:1.02}}},{label:"Wait it out",outcome:{cashChange:0,message:"You wait. Vacancy costs you rent each month until a tenant is found.",statChanges:{stress:16},assetIncomeDisruption:{assetId:n.id,months:o,incomeMultiplier:0,reason:"Vacancy",recoveryTitle:"‚úÖ Tenant Found",recoveryMessage:`A tenant moves into ${n.name}. Rental income resumes next month.`}}}]}}default:return t}},Cu=t=>{var P,E,w,y,C,M;const l=(Qe[t.difficulty]||Qe.NORMAL).eventFrequency||1,i={VEHICLE:6};if((t.month-1)%12+1===4&&t.month>=12&&!((P=t.eventTracker)!=null&&P.taxesPaidThisYear)){const j=cs.find(L=>L.id==="annual_taxes");if(j){const L=uu(t);if(L>0){const Z=Math.round(L*1.1),G=Math.round(Z/10);return{...j,description:`April 15th - time to file your taxes. Based on your income, you owe ${new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(L)} to the IRS.`,options:[{label:"Pay taxes in full",outcome:{cashChange:-L,message:"Taxes paid. Good citizen!",statChanges:{stress:-5}}},{label:`Set up payment plan (+10% penalty, ${new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(G)}/mo)`,outcome:{cashChange:0,message:`Payment plan: ${new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(G)}/mo for 10 months.`,statChanges:{stress:5},addLiability:{name:"IRS Payment Plan",balance:Z,originalBalance:Z,interestRate:0,monthlyPayment:G,type:"PERSONAL_LOAN"}}}]}}}}const o=(t.eventQueue||[]).filter(j=>j.minMonth<=t.month);if(o.length>0){const j=o[Math.floor(Math.random()*o.length)],L=cs.find(Z=>Z.id===j.id);if(L)return L}if(!(t.month-(((E=t.eventTracker)==null?void 0:E.lastEventMonth)||0)>=4)&&Math.random()>.35*l)return null;const v=cs.filter(j=>{var re,k,R,H,F,V,ie,te,se,de,xe,he,ge,ve,we,Ee,pe,be,$,p,A;if(j.id==="annual_taxes"||j.characterIds&&(!t.character||!j.characterIds.includes(t.character.id)))return!1;const L=j.conditions;if(j.id==="wedding_planning"&&!((re=t.family)!=null&&re.isEngaged)||j.id==="proposal"&&((k=t.family)!=null&&k.spouse||(R=t.family)!=null&&R.isEngaged||!((H=t.family)!=null&&H.inRelationship))||j.id==="meet_partner"&&((F=t.family)!=null&&F.spouse||(V=t.family)!=null&&V.isEngaged||(ie=t.family)!=null&&ie.inRelationship)||j.id==="job_loss"&&(t.jobLossMonthsRemaining||0)>0||j.id.startsWith("owned_business_")&&!(t.assets||[]).some(B=>B.type===z.BUSINESS&&(B.quantity||1)>0)||j.id.startsWith("rental_")&&!(t.assets||[]).some(B=>B.type===z.REAL_ESTATE&&(B.quantity||1)>0)||j.id==="divorce"&&!((te=t.family)!=null&&te.spouse)||j.id==="expecting_child"&&(!((se=t.family)!=null&&se.spouse)||((xe=(de=t.family)==null?void 0:de.children)==null?void 0:xe.some(B=>t.month-B.birthMonth<24)))||(j.id==="child_sick"||j.id==="child_school"||j.id==="child_activities"||j.id==="child_college")&&(!((he=t.family)!=null&&he.children)||t.family.children.length===0))return!1;if(!L)return!0;if(L.minMonth&&t.month<L.minMonth||L.maxMonth&&t.month>L.maxMonth||L.minCash&&t.cash<L.minCash||L.minNetWorth&&Ps(t)<L.minNetWorth||L.careers&&t.career&&!L.careers.includes(t.career.path)||L.aiDisruptionLevel&&(((ge=t.aiDisruption)==null?void 0:ge.disruptionLevel)||0)<L.aiDisruptionLevel||L.requiresMarriage&&j.id!=="wedding_planning"&&!((ve=t.family)!=null&&ve.spouse)||L.requiresChildren&&(!((we=t.family)!=null&&we.children)||t.family.children.length===0)||L.requiresVehicle&&(!t.vehicles||t.vehicles.length===0)||L.maxOccurrences&&(((pe=(Ee=t.eventTracker)==null?void 0:Ee.occurrences)==null?void 0:pe[j.id])||0)>=L.maxOccurrences)return!1;const Z=i[j.category];if(Z){const T=`__cat_${j.category}`,B=($=(be=t.eventTracker)==null?void 0:be.lastOccurrence)==null?void 0:$[T];if(B&&t.month-B<Z)return!1}const G=(A=(p=t.eventTracker)==null?void 0:p.lastOccurrence)==null?void 0:A[j.id],D=j.id.startsWith("owned_business_")||j.id.startsWith("rental_")?6:12,W=j.category==="VEHICLE"?6:3,Q=typeof j.cooldownMonths=="number"?j.cooldownMonths:j.isRecurring?W:D;return!(G&&t.month-G<Q)});if(v.length===0)return null;const b=tt(((w=t.stats)==null?void 0:w.health)??100),_=tt(((y=t.stats)==null?void 0:y.stress)??0),g=((C=t.economy)==null?void 0:C.unemploymentRate)??.04,r=!!((M=t.economy)!=null&&M.recession),f=v.map(j=>{var W;let L=j.weight||10;if((((W=t.eventTracker)==null?void 0:W.recentEventIds)||[]).includes(j.id)&&(L*=.2),j.category==="ECONOMIC"){const Q=Math.max(0,g-.05)*5,re=r?.5:0;L*=1+Q+re}if(j.category==="MEDICAL"){let Q=1;b<60&&(Q+=(60-b)/100),_>70&&(Q+=(_-70)/100),L*=Q}const G=(t.assets||[]).filter(Q=>Q.type===z.BUSINESS&&(Q.quantity||1)>0).length,D=(t.assets||[]).filter(Q=>Q.type===z.REAL_ESTATE&&(Q.quantity||1)>0).length;return j.id.startsWith("owned_business_")&&G>0&&(L*=1+Math.min(.9,G*.25)),j.id.startsWith("rental_")&&D>0&&(L*=1+Math.min(1,D*.2)),j.category==="WINDFALL"&&(t.cash||0)<1e3&&(L*=1.25),{event:j,weight:Math.max(.1,L)}}),S=f.reduce((j,L)=>j+L.weight,0);let Y=Math.random()*S;for(const j of f)if(Y-=j.weight,Y<=0)return Bo(j.event,t);return Bo(v[Math.floor(Math.random()*v.length)],t)},ju=(t,s)=>{const l=ms(s).negotiationBonus??0,i=(s.stats.networking||50)/100+l,n=.5+ke(i,0,1)*.3,o=Math.random()<n,h={salary_raise_15:{success:{id:"negotiation_result",title:"üéâ Negotiation Successful!",description:"Your manager approved the 15% raise! Your salary has increased.",category:"CAREER",weight:100,options:[{label:"Celebrate!",outcome:{cashChange:0,message:"Got the raise! Hard work pays off.",statChanges:{happiness:20,stress:-10,fulfillment:15}}}]},failure:{id:"negotiation_result",title:"üòî Negotiation Failed",description:"Management declined the 15% raise citing budget constraints. They offered 3% instead.",category:"CAREER",weight:100,options:[{label:"Accept 3%",outcome:{cashChange:0,message:"Better than nothing.",statChanges:{happiness:-5,stress:5}}},{label:"Start job hunting",outcome:{cashChange:0,message:"Looking for better opportunities.",statChanges:{stress:15,networking:10}}}]}},salary_raise_8:{success:{id:"negotiation_result",title:"üéâ Raise Approved!",description:"Your 8% raise request was approved! Effective next month.",category:"CAREER",weight:100,options:[{label:"Great news!",outcome:{cashChange:0,message:"Modest raise secured.",statChanges:{happiness:10,stress:-5,fulfillment:5}}}]},failure:{id:"negotiation_result",title:"üòî Raise Denied",description:"They said the budget only allows for 2% this year.",category:"CAREER",weight:100,options:[{label:"Accept 2%",outcome:{cashChange:0,message:"Small increase is something.",statChanges:{happiness:-3}}}]}},landlord_repair:{success:{id:"negotiation_result",title:"‚úÖ Landlord Agreed!",description:"After negotiation, the landlord agreed to fix the heating within 2 weeks.",category:"HOUSING",weight:100,options:[{label:"Finally!",outcome:{cashChange:0,message:"Repair scheduled. Victory!",statChanges:{happiness:10,stress:-15}}}]},failure:{id:"negotiation_result",title:"‚ùå Landlord Refused",description:"Landlord insists it's not their responsibility. You'll need to escalate or fix it yourself.",category:"HOUSING",weight:100,options:[{label:"Fix it yourself ($1,500)",outcome:{cashChange:-1500,message:"Fixed it. Will deduct from rent.",statChanges:{stress:10}}},{label:"Escalate to authorities",outcome:{cashChange:-200,message:"Filed complaint. Long process ahead.",statChanges:{stress:20}}}]}},supplier_negotiation:{success:{id:"negotiation_result",title:"ü§ù Deal Reached!",description:"You negotiated the price increase down to 10% instead of 25%!",category:"BUSINESS",weight:100,options:[{label:"Great negotiation!",outcome:{cashChange:0,message:"Saved significant margin.",statChanges:{happiness:10,stress:-10,financialIQ:5}}}]},failure:{id:"negotiation_result",title:"‚ùå No Deal",description:"Supplier won't budge. Take it or leave it.",category:"BUSINESS",weight:100,options:[{label:"Accept 25% increase",outcome:{cashChange:0,message:"Margins hurt badly.",statChanges:{stress:15,happiness:-10}}},{label:"Find new supplier",outcome:{cashChange:-2e3,message:"Switching suppliers. Transition costs.",statChanges:{stress:20}}}]}},client_retention:{success:{id:"negotiation_result",title:"üéâ Client Staying!",description:"Your discount offer convinced them to stay. Long-term relationship preserved!",category:"BUSINESS",weight:100,options:[{label:"Worth the discount",outcome:{cashChange:-1500,message:"Client retained at 10% discount.",statChanges:{happiness:15,stress:-10,networking:10}}}]},failure:{id:"negotiation_result",title:"üòî Client Leaving",description:"Despite your efforts, they're moving to the competitor. 30% revenue hit incoming.",category:"BUSINESS",weight:100,options:[{label:"Time to hustle for new clients",outcome:{cashChange:0,message:"Lost major client. Rebuilding.",statChanges:{stress:25,happiness:-15,energy:-10}}}]}},wage_negotiation:{success:{id:"negotiation_result",title:"ü§ù Agreement Reached!",description:"Workers accepted a 5% raise instead of 10%. Strike averted!",category:"BUSINESS",weight:100,options:[{label:"Crisis averted",outcome:{cashChange:-2500,message:"Smaller raise accepted. Operations continue.",statChanges:{stress:-15,happiness:10,fulfillment:5}}}]},failure:{id:"negotiation_result",title:"‚ö†Ô∏è Strike Begins!",description:"Workers rejected your offer and are walking out. Production halted.",category:"BUSINESS",weight:100,options:[{label:"Meet their demands ($10,000)",outcome:{cashChange:-1e4,message:"Paid full demands. Expensive lesson.",statChanges:{stress:20,happiness:-10}}},{label:"Hire replacements ($15,000)",outcome:{cashChange:-15e3,message:"New workers hired. Productivity down.",statChanges:{stress:30,networking:-15}}}]}},insurance_appeal:{success:{id:"negotiation_result",title:"‚úÖ Appeal Approved!",description:"Insurance reversed their decision. Claim will be paid!",category:"LEGAL",weight:100,options:[{label:"Persistence pays off!",outcome:{cashChange:5e3,message:"Claim paid after appeal!",statChanges:{happiness:15,stress:-15,financialIQ:5}}}]},failure:{id:"negotiation_result",title:"‚ùå Appeal Denied",description:"Insurance upheld their denial. You'll have to pay out of pocket.",category:"LEGAL",weight:100,options:[{label:"Pay the $8,000",outcome:{cashChange:-8e3,message:"Paid out of pocket. Frustrating.",statChanges:{stress:15,happiness:-15}}},{label:"Hire lawyer to fight ($3,000)",outcome:{cashChange:-3e3,message:"Legal battle begins...",statChanges:{stress:25}}}]}},medical_bill:{success:{id:"negotiation_result",title:"‚úÖ Bill Reduced!",description:"Hospital agreed to reduce the bill by 40%! Now only $7,200.",category:"MEDICAL",weight:100,options:[{label:"Pay reduced amount",outcome:{cashChange:-7200,message:"Paid negotiated amount. Saved $4,800!",statChanges:{happiness:10,stress:-10,financialIQ:10}}}]},failure:{id:"negotiation_result",title:"‚ùå No Reduction",description:"Hospital won't budge on the price. Full $12,000 due.",category:"MEDICAL",weight:100,options:[{label:"Pay in full",outcome:{cashChange:-12e3,message:"Paid full amount. Ouch.",statChanges:{stress:15,happiness:-10}}},{label:"Payment plan (30 months)",outcome:{cashChange:0,message:"$400/month for 30 months.",statChanges:{stress:10},addLiability:{name:"Medical Payment Plan",balance:12e3,originalBalance:12e3,interestRate:0,monthlyPayment:400,type:"MEDICAL_DEBT"}}}]}}}[t];return h?o?h.success:h.failure:{id:"negotiation_result",title:o?"‚úÖ Negotiation Successful!":"‚ùå Negotiation Failed",description:o?"Your negotiation worked!":"They wouldn't budge.",category:"CAREER",weight:100,options:[{label:"Continue",outcome:{cashChange:o?1e3:-1e3,message:o?"Good outcome!":"Disappointing result.",statChanges:{stress:o?-5:10}}}]}},Ka=(t,s)=>{var o,u,h,v,b,_,g,r,f,S,Y,P,E,w;let l={...t,pendingScenario:null};const i=ms(t),n=(()=>{var y;if(typeof s.cashChange=="number"){if(((y=t.pendingScenario)==null?void 0:y.category)==="MEDICAL"&&s.cashChange<0){const C=i.medicalCostMultiplier??1;return Math.round(s.cashChange*C)}return s.cashChange}})();if(t.pendingScenario){const y=`__cat_${t.pendingScenario.category}`,M=[...(((o=t.eventTracker)==null?void 0:o.recentEventIds)||[]).filter(j=>{var L;return j!==((L=t.pendingScenario)==null?void 0:L.id)}),t.pendingScenario.id].slice(-6);l.eventTracker={...t.eventTracker,occurrences:{...(u=t.eventTracker)==null?void 0:u.occurrences,[t.pendingScenario.id]:(((v=(h=t.eventTracker)==null?void 0:h.occurrences)==null?void 0:v[t.pendingScenario.id])||0)+1,[y]:(((_=(b=t.eventTracker)==null?void 0:b.occurrences)==null?void 0:_[y])||0)+1},lastOccurrence:{...(g=t.eventTracker)==null?void 0:g.lastOccurrence,[t.pendingScenario.id]:t.month,[y]:t.month},recentEventIds:M},t.pendingScenario.id==="annual_taxes"&&(l.eventTracker.taxesPaidThisYear=!0,l.eventTracker.lastTaxMonth=t.month)}if(s.negotiateType){const y=ju(s.negotiateType,t);return l.pendingScenario=y,typeof n=="number"&&n!==0&&(l.cash=Math.max(0,l.cash+n)),s.statChanges&&(l.stats={...t.stats,happiness:Math.min(100,Math.max(0,t.stats.happiness+(s.statChanges.happiness||0))),health:Math.min(100,Math.max(0,t.stats.health+(s.statChanges.health||0))),energy:Math.min(100,Math.max(0,t.stats.energy+(s.statChanges.energy||0))),stress:Math.min(100,Math.max(0,t.stats.stress+(s.statChanges.stress||0))),networking:Math.min(100,Math.max(0,t.stats.networking+(s.statChanges.networking||0))),financialIQ:Math.min(100,Math.max(0,t.stats.financialIQ+(s.statChanges.financialIQ||0))),fulfillment:Math.min(100,Math.max(0,(t.stats.fulfillment||40)+(s.statChanges.fulfillment||0)))}),l}if(typeof n=="number"&&n!==0&&(l.cash=Math.max(0,l.cash+n)),typeof s.cashChangeSalaryMonths=="number"&&s.cashChangeSalaryMonths!==0){const y=vi({...t,tempSalaryBonus:0,jobLossMonthsRemaining:0}),C=Math.round(y*s.cashChangeSalaryMonths);C!==0&&(l.cash=Math.max(0,l.cash+C))}if(s.statChanges&&(l.stats={...t.stats,happiness:Math.min(100,Math.max(0,t.stats.happiness+(s.statChanges.happiness||0))),health:Math.min(100,Math.max(0,t.stats.health+(s.statChanges.health||0))),energy:Math.min(100,Math.max(0,t.stats.energy+(s.statChanges.energy||0))),stress:Math.min(100,Math.max(0,t.stats.stress+(s.statChanges.stress||0))),networking:Math.min(100,Math.max(0,t.stats.networking+(s.statChanges.networking||0))),financialIQ:Math.min(100,Math.max(0,t.stats.financialIQ+(s.statChanges.financialIQ||0))),fulfillment:Math.min(100,Math.max(0,(t.stats.fulfillment||40)+(s.statChanges.fulfillment||0)))}),typeof s.jobLossMonths=="number"&&s.jobLossMonths>0){const y=l.jobLossMonthsRemaining??0;l.jobLossMonthsRemaining=Math.max(y,Math.floor(s.jobLossMonths))}if(s.marriageChange&&(Math.round((((r=t.career)==null?void 0:r.salary)||4e3)*(.6+Math.random()*.8)),l.family={...l.family,isEngaged:!0,engagedMonth:t.month,inRelationship:!0,spouse:void 0}),s.startRelationship&&(l.family={...l.family,inRelationship:!0,relationshipStartMonth:t.month}),((f=t.pendingScenario)==null?void 0:f.id)==="wedding_planning"&&((S=t.family)!=null&&S.isEngaged)){const y=["Taylor","Jordan","Casey","Morgan","Riley","Quinn","Avery","Cameron"],C=Math.round((((Y=t.career)==null?void 0:Y.salary)||4e3)*(.6+Math.random()*.8)),M=["TECH","HEALTHCARE","FINANCE","CREATIVE","GOVERNMENT"][Math.floor(Math.random()*5)];l.family={...l.family,isEngaged:!1,spouse:{name:y[Math.floor(Math.random()*y.length)],income:C,careerPath:M,marriedMonth:t.month}}}if(s.childChange&&s.childChange>0){const y=["Emma","Liam","Olivia","Noah","Ava","Ethan","Sophia","Mason","Isabella","Lucas"],C={id:"child-"+Date.now(),name:y[Math.floor(Math.random()*y.length)],birthMonth:t.month+9,age:0,inSchool:!1,inCollege:!1};l.family={...l.family,children:[...((P=l.family)==null?void 0:P.children)||[],C]}}if(s.addLiability){const y={id:"liability-"+Date.now(),name:s.addLiability.name||"Debt",balance:s.addLiability.balance||0,originalBalance:s.addLiability.originalBalance||s.addLiability.balance||0,interestRate:s.addLiability.interestRate||.1,monthlyPayment:s.addLiability.monthlyPayment||0,type:s.addLiability.type||"PERSONAL_LOAN"};l.liabilities=[...l.liabilities,y]}if(s.assetIncomeDisruption){const y=s.assetIncomeDisruption,C=Math.max(1,Math.floor(y.months||1)),M=ke(typeof y.incomeMultiplier=="number"?y.incomeMultiplier:1,0,1),j={id:`disruption-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,assetId:y.assetId,monthsRemaining:C,incomeMultiplier:M,reason:y.reason||"Income disruption",recoveryTitle:y.recoveryTitle,recoveryMessage:y.recoveryMessage};l.assetIncomeDisruptions=[...l.assetIncomeDisruptions||[],j]}if(s.assetAdjustment){const y=s.assetAdjustment;l.assets=(l.assets||[]).map(C=>{if(C.id!==y.assetId)return C;let M=C.value;typeof y.valueDelta=="number"&&(M+=y.valueDelta),typeof y.valueMultiplier=="number"&&(M*=y.valueMultiplier);let j=C.cashFlow;return typeof y.cashFlowDelta=="number"&&(j+=y.cashFlowDelta),typeof y.cashFlowMultiplier=="number"&&(j*=y.cashFlowMultiplier),{...C,value:Math.max(0,Math.round(M)),cashFlow:Math.round(j)}})}if(s.followups&&Array.isArray(s.followups)&&s.followups.length>0){const y=[...l.eventQueue||[]];s.followups.forEach(C=>{const M=typeof C.delayMonths=="number"?C.delayMonths:2;y.push({id:C.id,minMonth:t.month+Math.max(1,M)})}),l.eventQueue=y}if(s.addAsset){const y=s.addAsset,C={id:y.id||`asset-${Date.now()}`,name:y.name||"New Asset",type:y.type||z.STOCK,value:y.value||0,costBasis:y.costBasis??y.value??0,quantity:y.quantity??1,cashFlow:y.cashFlow??0,volatility:y.volatility??.15,appreciationRate:y.appreciationRate??.07,baseYield:y.baseYield??0,industry:y.industry,priceHistory:y.priceHistory??[{month:t.month,value:y.value||0}]};l.assets=[...l.assets||[],C]}return l.events=[{id:Date.now().toString(),month:t.month,title:((E=t.pendingScenario)==null?void 0:E.title)||"events.defaultTitle",description:s.message,type:((w=t.pendingScenario)==null?void 0:w.category)||"DECISION"},...l.events],l},zo=(t,s)=>{const l=$n(t),i=typeof t.monthlyActionsMax=="number"?t.monthlyActionsMax:l,n=typeof t.monthlyActionsRemaining=="number"?t.monthlyActionsRemaining:i;if(n<=0)return{newState:t,message:"No Monthly Actions remaining this month."};let o={...t,monthlyActionsMax:i,monthlyActionsRemaining:n,tempSalaryBonus:t.tempSalaryBonus??0,tempSideHustleMultiplier:t.tempSideHustleMultiplier??1,stats:{...t.stats},events:[...t.events]};const u=g=>{o.stats={...o.stats,happiness:tt((o.stats.happiness||0)+(g.happiness||0)),health:tt((o.stats.health||0)+(g.health||0)),energy:tt((o.stats.energy||0)+(g.energy||0)),stress:tt((o.stats.stress||0)+(g.stress||0)),networking:tt((o.stats.networking||0)+(g.networking||0)),financialIQ:tt((o.stats.financialIQ||0)+(g.financialIQ||0)),fulfillment:tt((o.stats.fulfillment||40)+(g.fulfillment||0))}},h=g=>g<=0?(o.cash=o.cash+g,!0):o.cash<g?!1:(o.cash-=g,!0);let v="üóìÔ∏è Monthly Action",b="";const _=o.stats.energy||0;if((s==="OVERTIME"||s==="TRAINING"||s==="HUSTLE_SPRINT")&&_<20)return{newState:t,message:"You are too drained right now. Recover some energy first."};if((o.jobLossMonthsRemaining??0)>0&&s==="OVERTIME")return{newState:t,message:"You are currently unemployed. Overtime isn‚Äôt available right now."};switch(s){case"OVERTIME":{const g=vi({...t,tempSalaryBonus:0}),r=Math.max(0,Math.round(g*.1));o.tempSalaryBonus=(o.tempSalaryBonus||0)+r,u({energy:-15,stress:12,happiness:-3,health:-1}),v="üïí Work Overtime",b=`You picked up extra hours. Next month salary bonus: +$${r.toLocaleString()}.`;break}case"NETWORK":{if(!h(100))return{newState:t,message:"Not enough cash to attend a networking event ($100)."};u({networking:12,stress:5,happiness:2,energy:-5}),Math.random()<.2?(o.cash+=500,u({networking:3}),b="You met someone who sent you a warm referral (+$500) and expanded your network."):b="You met new people and strengthened your professional network.",v="ü§ù Networking Event";break}case"TRAINING":{if(!h(300))return{newState:t,message:"Not enough cash for training materials ($300)."};u({financialIQ:12,networking:3,stress:4,energy:-8,happiness:1}),o.career&&(o.career={...o.career,futureProofScore:ke((o.career.futureProofScore||50)+1,0,100)}),v="üìö Skill Training",b="You invested in learning. Financial IQ increased, improving decision quality over time.";break}case"HUSTLE_SPRINT":{if(!o.activeSideHustles||o.activeSideHustles.length===0)return{newState:t,message:"You need an active side hustle before you can sprint it."};u({energy:-12,stress:10,happiness:-1});const g=typeof o.tempSideHustleMultiplier=="number"?o.tempSideHustleMultiplier:1;o.tempSideHustleMultiplier=ke(g*1.25,1,2),v="‚ö° Side Hustle Sprint",b="You pushed hard on your hustle. Next month hustle income will be boosted.";break}case"RECOVER":{u({energy:18,stress:-15,health:4,happiness:6,fulfillment:2}),v="üõå Rest & Recovery",b="You took time to recover. Energy and health improved, stress dropped.";break}default:return{newState:t,message:"Unknown Monthly Action."}}return o.monthlyActionsRemaining=Math.max(0,(o.monthlyActionsRemaining||0)-1),o.events=[{id:`action-${Date.now()}`,month:t.month,title:v,description:b,type:"DECISION"},...o.events].slice(0,50),{newState:o,message:b}},Su=t=>{switch(t.type){case"CREDIT_CARD":return 35;case"MORTGAGE":return 75;case"CAR_LOAN":return 35;case"STUDENT_LOAN":return 25;case"PERSONAL_LOAN":return 30;case"MEDICAL_DEBT":return 15;case"LEGAL_DEBT":return 25;default:return 25}},Eu=(t,s,l,i)=>{const n=t.creditRating??s.creditRating??650,o=[];let u=0;const h=Math.max(0,l.income||0),v=Math.max(0,l.debtPayments||0),b=h>0?v/h:1,_=(s.liabilities||[]).filter(P=>P.type==="CREDIT_CARD").reduce((P,E)=>P+E.balance,0),g=Math.max(2e3,Math.round(h*2)),r=g>0?_/g:0,f=(t.liabilities||[]).reduce((P,E)=>P+E.balance,0),S=(s.liabilities||[]).reduce((P,E)=>P+E.balance,0);return i?(u-=35,o.push("Missed or late payments")):(s.liabilities||[]).length>0?(u+=4,o.push("On-time payments")):(u+=2,o.push("No missed payments")),r>=.9?(u-=12,o.push("Very high credit utilization")):r>=.6?(u-=6,o.push("High credit utilization")):r>=.3?o.push("Moderate credit utilization"):_>0?(u+=6,o.push("Low credit utilization")):(u+=3,o.push("No revolving balance")),b>=.6?(u-=10,o.push("High debt-to-income ratio")):b>=.4?(u-=4,o.push("Elevated debt-to-income ratio")):b<=.2?(u+=5,o.push("Low debt-to-income ratio")):b<=.35&&(u+=2,o.push("Healthy debt-to-income ratio")),S<=f-200?(u+=2,o.push("Total debt decreased")):S>=f+500&&(u-=2,o.push("Total debt increased")),{score:Ml(n+u),delta:u,reasons:o}},ku=t=>{var R,H,F,V,ie,te,se,de,xe,he,ge,ve,we,Ee;let s={...t};s.creditRating||(s.creditRating=650),(!s.creditHistory||s.creditHistory.length===0)&&(s.creditHistory=[{month:s.month||1,score:s.creditRating,reasons:["Starting credit profile"]}],s.creditLastChangeReasons=["Starting credit profile"]),s.month++,s.month%12===1&&s.month>1&&(s.year=(s.year||2025)+1,s.eventTracker={...s.eventTracker,taxesPaidThisYear:!1}),s=mu(s),s=yu(s),s=vu(s),s=wu(s),s=Nu(s);const l=bu(s);s=l.state;const i=Hl(s),n=i.expenses+l.maintenanceCost,o=i.income-n,u=Ps(t),h=s.cash+o;let v=!1;h<0?(v=!0,s.creditRating=Math.max(300,(s.creditRating||650)-25),s.missedPayments=(s.missedPayments||0)+1,s.events=[{id:Date.now().toString(),month:s.month,title:"‚ö†Ô∏è Missed Payment",description:`You couldn't cover your expenses. Credit rating dropped to ${s.creditRating}. Unpaid debts accrued interest + late fees. Consider selling assets or lowering lifestyle.`,type:"WARNING"},...s.events],(s.assets||[]).reduce((be,$)=>be+$.costBasis*.5*($.quantity??1),0)>0?s.cash=0:s.missedPayments>=3?(s.isBankrupt=!0,s.events=[{id:Date.now().toString(),month:s.month,title:"üíÄ BANKRUPTCY",description:"You have run out of money and assets. Game Over.",type:"BANKRUPTCY"},...s.events]):s.cash=0):s.cash=h,s=fu(s),s.tempSalaryBonus=0,s.tempSideHustleMultiplier=1,s.liabilities=s.liabilities.map(pe=>{const be=pe.interestRate/12*pe.balance;if(v){const T=Su(pe),B=Math.round(pe.balance+be+T);return{...pe,balance:B}}const $=be,p=Math.max(0,pe.monthlyPayment-$),A=Math.max(0,pe.balance-p);return{...pe,balance:A}}).filter(pe=>pe.balance>0);const b=Eu(t,s,i,v);s.creditRating=b.score,s.creditLastChangeReasons=b.reasons;const _=[...s.creditHistory||[],{month:s.month,score:b.score,reasons:b.reasons}].slice(-12);s.creditHistory=_,s.mortgages=s.mortgages.map(pe=>{const be=s.liabilities.find($=>$.id===pe.id);return{...pe,monthsRemaining:v?pe.monthsRemaining:Math.max(0,pe.monthsRemaining-1),balance:(be==null?void 0:be.balance)||0}}).filter(pe=>pe.balance>0),s.career&&(s.career={...s.career,experience:s.career.experience+1}),s.playerJob&&(s.playerJob={...s.playerJob,experience:s.playerJob.experience+1}),s=_u(s);const{promoted:g,newState:r}=$l(s);s=r;const f=vt[s.lifestyle],S=(s.activeSideHustles||[]).reduce((pe,be)=>{const $=mi(be);return pe+(be.energyCost||0)*$.energyMultiplier},0),Y=(s.activeSideHustles||[]).reduce((pe,be)=>{const $=mi(be);return pe+(be.stressIncrease||0)*$.stressMultiplier},0),P=((H=(R=s.family)==null?void 0:R.children)==null?void 0:H.length)||0,E=P*2,w=P*3,y=P*2,C=(F=s.family)!=null&&F.spouse?5:0,M=(V=s.family)!=null&&V.spouse?3:0,j={FRUGAL:-2,MODEST:0,COMFORTABLE:1,AFFLUENT:2,LUXURIOUS:1}[s.lifestyle]||0,L=s.stats.stress>70?-2:s.stats.stress>50?-1:0,Z=s.stats.energy<30?-1:0,G=j+L+Z;if(s.stats={...s.stats,health:Math.min(100,Math.max(10,s.stats.health+G*.5)),happiness:Math.min(100,Math.max(0,s.stats.happiness+((f==null?void 0:f.happiness)||0)*.1+C*.1)),energy:Math.min(100,Math.max(10,s.stats.energy+10-S*.5-w*.3)),stress:Math.min(100,Math.max(0,s.stats.stress+Y*.3+y*.2-M*.2-3)),fulfillment:Math.min(100,Math.max(0,(s.stats.fulfillment||40)+E*.1))},s.isBankrupt)s.monthlyActionsMax=0,s.monthlyActionsRemaining=0;else{const pe=$n(s);s.monthlyActionsMax=pe,s.monthlyActionsRemaining=pe}if(!s.pendingScenario&&!s.isBankrupt){const pe=Cu(s);pe&&(s.pendingScenario=pe,s.eventQueue&&s.eventQueue.length>0&&(s.eventQueue=s.eventQueue.filter(be=>!(be.id===pe.id&&be.minMonth<=s.month))),s.eventTracker={...s.eventTracker,lastEventMonth:s.month})}const D=Ps(s),W=i.expenses,Q=Qd(W);i.passive>=Q&&Q>0&&!s.hasWon&&!s.isBankrupt&&(s.hasWon=!0,s.prestige={...s.prestige,lifetimeEarnings:(((ie=s.prestige)==null?void 0:ie.lifetimeEarnings)||0)+D,fastestWin:(te=s.prestige)!=null&&te.fastestWin?Math.min(s.prestige.fastestWin,s.month):s.month}),s.isBankrupt||(s=Hn(s)),s.events=s.events.slice(0,50),s.netWorthHistory=[...t.netWorthHistory||[],{month:s.month,value:D}].slice(-60);const re=s.jobLossMonthsRemaining??0;if(re>0&&(s.jobLossMonthsRemaining=Math.max(0,re-1),s.jobLossMonthsRemaining===0&&(s.events=[{id:`job_recovered_${s.month}`,month:s.month,title:"‚úÖ Back to Work",description:"You landed a new role. Your salary income resumes next month. (Emergency fund = life saver.)",type:"NEWS"},...s.events||[]],s.stats={...s.stats,happiness:tt((((se=s.stats)==null?void 0:se.happiness)??50)+6),stress:tt((((de=s.stats)==null?void 0:de.stress)??30)-8)})),s.assetIncomeDisruptions&&s.assetIncomeDisruptions.length>0){const pe=s.assetIncomeDisruptions.filter($=>($.monthsRemaining??0)<=1),be=s.assetIncomeDisruptions.map($=>({...$,monthsRemaining:Math.max(0,($.monthsRemaining??0)-1)})).filter($=>($.monthsRemaining??0)>0);if(s.assetIncomeDisruptions=be,pe.length>0){const $=pe.map(p=>({id:`disruption_recovered_${p.id}_${s.month}`,month:s.month,title:p.recoveryTitle||"‚úÖ Income Restored",description:p.recoveryMessage||"A temporary disruption ended. Income resumes next month.",type:"NEWS"}));s.events=[...$,...s.events||[]],s.stats={...s.stats,stress:tt((((xe=s.stats)==null?void 0:xe.stress)??30)-4),happiness:tt((((he=s.stats)==null?void 0:he.happiness)??50)+2)}}}const k={income:i.income,expenses:n,netWorthChange:D-u,promoted:g,aiImpact:(Ee=(we=(ge=s.aiDisruption)==null?void 0:ge.affectedIndustries)==null?void 0:we[((ve=s.career)==null?void 0:ve.path)||"TECH"])==null?void 0:Ee.automationRisk,childExpenses:i.childrenExpenses};return{newState:s,monthlyReport:k}};let Fl=!1;const sn=t=>{Fl=!!t},Iu=(()=>{let t=null;return()=>{if(t)return t;const s=window.AudioContext||window.webkitAudioContext;return s?(t=new s,t):null}})();function ht(t=440,s=60,l=.06){if(Fl)return;const i=Iu();if(i)try{i.state==="suspended"&&i.resume();const n=i.createOscillator(),o=i.createGain();n.type="sine",n.frequency.value=t,o.gain.value=0,o.gain.setValueAtTime(0,i.currentTime),o.gain.linearRampToValueAtTime(l,i.currentTime+.01),o.gain.linearRampToValueAtTime(0,i.currentTime+s/1e3),n.connect(o),o.connect(i.destination),n.start(),n.stop(i.currentTime+s/1e3+.02)}catch{}}const Te=()=>ht(520,30,.05),Tu=()=>ht(480,25,.04),ft=()=>ht(780,70,.06),Ru=()=>ht(300,70,.06),ns=t=>ht(880,90,.07),Rt=()=>ht(220,110,.07),an=()=>ht(980,120,.08),nn=()=>ht(1040,140,.08),Au=()=>ht(1200,200,.09),rn=()=>ht(180,140,.08),Ke=()=>ht(130,160,.09),Mu=()=>ht(700,80,.06),wi=t=>{var D,W;const s=$n(t),l=typeof t.monthlyActionsMax=="number"?t.monthlyActionsMax:s,i=typeof t.monthlyActionsRemaining=="number"?t.monthlyActionsRemaining:l,n=t.quests,o={active:(Array.isArray(n==null?void 0:n.active)?n.active.filter(Q=>typeof Q=="string"):[...Pt((D=t.character)==null?void 0:D.id).active]).slice(0,3),readyToClaim:Array.isArray(n==null?void 0:n.readyToClaim)?n.readyToClaim.filter(Q=>typeof Q=="string"):[],completed:Array.isArray(n==null?void 0:n.completed)?n.completed.filter(Q=>typeof Q=="string"):[],track:typeof(n==null?void 0:n.track)=="string"?n.track:void 0},u=t.eqCourse,h={failedAttempts:typeof(u==null?void 0:u.failedAttempts)=="number"?u.failedAttempts:0,bestScore:typeof(u==null?void 0:u.bestScore)=="number"?u.bestScore:0,certified:typeof(u==null?void 0:u.certified)=="boolean"?u.certified:!1,rewardClaimed:typeof(u==null?void 0:u.rewardClaimed)=="boolean"?u.rewardClaimed:!1},v=t.eqPerks,b={careerXpMultiplier:typeof(v==null?void 0:v.careerXpMultiplier)=="number"?v.careerXpMultiplier:1,careerXpCarry:typeof(v==null?void 0:v.careerXpCarry)=="number"?v.careerXpCarry:0},_=t.negotiationsCourse,g={failedAttempts:typeof(_==null?void 0:_.failedAttempts)=="number"?_.failedAttempts:0,bestScore:typeof(_==null?void 0:_.bestScore)=="number"?_.bestScore:0,certified:typeof(_==null?void 0:_.certified)=="boolean"?_.certified:!1,rewardClaimed:typeof(_==null?void 0:_.rewardClaimed)=="boolean"?_.rewardClaimed:!1},r=t.negotiationsPerks,f={dealDiscountPct:typeof(r==null?void 0:r.dealDiscountPct)=="number"?r.dealDiscountPct:0,saleBonusPct:typeof(r==null?void 0:r.saleBonusPct)=="number"?r.saleBonusPct:0},S=t.salesAcceleratorCourse,Y={failedAttempts:typeof(S==null?void 0:S.failedAttempts)=="number"?S.failedAttempts:0,bestScore:typeof(S==null?void 0:S.bestScore)=="number"?S.bestScore:0,certified:typeof(S==null?void 0:S.certified)=="boolean"?S.certified:!1,rewardClaimed:typeof(S==null?void 0:S.rewardClaimed)=="boolean"?S.rewardClaimed:!1},P=new Map(Rl.map(Q=>[Q.id,Q])),E=(t.activeSideHustles||[]).map(Q=>({...P.get(Q.id)||Q,...Q,monthsActive:typeof Q.monthsActive=="number"?Q.monthsActive:0,upgrades:Array.isArray(Q.upgrades)?Q.upgrades.filter(k=>typeof k=="string"):[]})),w=typeof t.creditRating=="number"?t.creditRating:650,y=t.creditHistory,C=Array.isArray(y)&&y.length>0?y.filter(Q=>Q&&typeof Q.score=="number"):[{month:typeof t.month=="number"?t.month:1,score:w,reasons:["Starting credit profile"]}],M=t.eventTracker||{},j={taxesPaidThisYear:!!M.taxesPaidThisYear,lastTaxMonth:typeof M.lastTaxMonth=="number"?M.lastTaxMonth:0,occurrences:typeof M.occurrences=="object"&&M.occurrences?M.occurrences:{},lastOccurrence:typeof M.lastOccurrence=="object"&&M.lastOccurrence?M.lastOccurrence:{},lastEventMonth:typeof M.lastEventMonth=="number"?M.lastEventMonth:0,recentEventIds:Array.isArray(M.recentEventIds)?M.recentEventIds.filter(Q=>typeof Q=="string"):[]},L=Array.isArray(t.eventQueue)?t.eventQueue.filter(Q=>Q&&typeof Q.id=="string"):[],Z=t.character?Bn.find(Q=>{var re;return Q.id===((re=t.character)==null?void 0:re.id)})||t.character:null,G=Z?{...Z,...t.character,perk:Z.perk}:null;return{...t,character:G,monthlyActionsMax:l,monthlyActionsRemaining:i,tempSalaryBonus:typeof t.tempSalaryBonus=="number"?t.tempSalaryBonus:0,tempSideHustleMultiplier:typeof t.tempSideHustleMultiplier=="number"?t.tempSideHustleMultiplier:1,quests:o,eqCourse:h,eqPerks:b,negotiationsCourse:g,negotiationsPerks:f,salesAcceleratorCourse:Y,activeSideHustles:E,pendingSideHustleUpgrade:t.pendingSideHustleUpgrade??null,creditRating:w,creditHistory:C,creditLastChangeReasons:Array.isArray(t.creditLastChangeReasons)?t.creditLastChangeReasons:((W=C[C.length-1])==null?void 0:W.reasons)||[],eventTracker:j,eventQueue:L}},Ul="tycoon_saves_v2",on="tycoon_save",Os=3,qu=1,Yo=["autosave","slot1","slot2","slot3"],Et=(t,s)=>`${t}:${s}`,Ql=t=>{if(!t)return null;try{return JSON.parse(t)}catch{return null}},Vl=t=>{const s=typeof t.schema=="number"?t.schema:1;if(s>=Os)return t;let l={...t};if(s<3){const i=t.summary,n=i.slotId,o=i.label??(n==="autosave"?"Autosave":`Save ${n.replace("slot","")}`);if(i.mode==="adult"){const u=wi(t.state);l={...l,state:u,summary:_i(u,n,o,i.updatedAt)}}l.schema=Os}return l},Lu=()=>{try{const t=localStorage.getItem(Ul);return Ql(t)||{}}catch{return{}}},wt=()=>{const t=Lu();let s=!1;const l={};return Object.entries(t).forEach(([i,n])=>{const o=Vl(n);l[i]=o,(o!==n||o.schema!==n.schema)&&(s=!0)}),s&&hs(l),l},hs=t=>{try{localStorage.setItem(Ul,JSON.stringify(t))}catch(s){console.error("Failed to write save database",s)}},Ni=()=>{try{const t=localStorage.getItem(on);if(!t)return;const s=Ql(t),l=s?wi(s):null;if(!l){localStorage.removeItem(on);return}const i=wt(),n=Et("adult","autosave");i[n]||(i[n]={schema:Os,gameVersion:"3.4.3",summary:_i(l,"autosave","Autosave",Date.now()),state:l},hs(i)),localStorage.removeItem(on)}catch(t){console.error("Failed to migrate legacy save",t)}},_i=(t,s,l,i)=>{const n=us(t),o=Ps(t);return{mode:"adult",slotId:s,updatedAt:i,label:l,month:t.month,year:t.year,cash:t.cash,netWorth:o,passiveIncome:n.passive,expenses:n.expenses,difficulty:t.difficulty}},Pu=(t,s,l,i)=>{var n,o,u;return{mode:"kids",slotId:s,updatedAt:i,label:l,week:t.week,cashOnHand:t.cash,totalEarned:t.totalEarned,totalSaved:t.totalSaved,savingsGoalName:(n=t.savingsGoal)==null?void 0:n.name,savingsGoalTarget:(o=t.savingsGoal)==null?void 0:o.targetAmount,savingsGoalCompleted:(u=t.savingsGoal)==null?void 0:u.completed}},Ho=(t,s="autosave",l)=>{var i,n;Ni();try{const o=wt(),u=Et("adult",s),h=Date.now(),v=(n=(i=o[u])==null?void 0:i.summary)==null?void 0:n.label,b=s==="autosave"?"Autosave":l??v??`Save ${s.replace("slot","")}`;o[u]={schema:Os,gameVersion:"3.4.3",summary:_i(t,s,b,h),state:t},hs(o)}catch(o){console.error("Failed to save adult game",o)}},An=(t="autosave")=>{Ni();try{const s=wt(),l=Et("adult",t),i=s[l];return i?wi(i.state):null}catch(s){return console.error("Failed to load adult game",s),null}},ln=(t,s="autosave",l)=>{var i,n;try{const o=wt(),u=Et("kids",s),h=Date.now(),v=(n=(i=o[u])==null?void 0:i.summary)==null?void 0:n.label,b=s==="autosave"?"Autosave":l??v??`Save ${s.replace("slot","")}`;o[u]={schema:Os,gameVersion:"3.4.3",summary:Pu(t,s,b,h),state:t},hs(o)}catch(o){console.error("Failed to save kids game",o)}},Mn=(t="autosave")=>{try{const s=wt(),l=Et("kids",t),i=s[l];return i?i.state:null}catch(s){return console.error("Failed to load kids game",s),null}},Fn=(t,s)=>{try{const l=wt(),i=Et(t,s);l[i]&&(delete l[i],hs(l))}catch(l){console.error("Failed to delete save slot",l)}},Kl=(t,s,l)=>{try{const i=wt(),n=Et(t,s),o=i[n];if(!o)return;o.summary={...o.summary,label:l},i[n]=o,hs(i)}catch(i){console.error("Failed to rename save slot",i)}},hi=t=>{Ni();const s=wt();return Object.values(s).map(i=>i.summary).filter(i=>t?i.mode===t:!0).sort((i,n)=>i.mode!==n.mode?i.mode.localeCompare(n.mode):Yo.indexOf(i.slotId)-Yo.indexOf(n.slotId))},pi=(t,s)=>{Ni();try{const i=wt()[Et(t,s)];return(i==null?void 0:i.summary)||null}catch{return null}},Ou=(t,s)=>{const i=wt()[Et(t,s)];if(!i)return null;const n=Vl(i);return{formatVersion:qu,exportedAt:Date.now(),mode:t,slotId:s,entry:n}},Du=(t,s,l,i)=>{var g,r;if(!t||typeof t!="object")return null;const n=t,o=Date.now();let u=null,h;if(n.entry&&n.entry.state?(h=n.entry.gameVersion,u=n.entry.state):n.state?(h=n.gameVersion,u=n.state):u=n,!u)return null;const v=wt(),b=Et(s,l),_=l==="autosave"?"Autosave":i??((r=(g=v[b])==null?void 0:g.summary)==null?void 0:r.label)??`Save ${l.replace("slot","")}`;{const f=wi(u);v[b]={schema:Os,gameVersion:h??"3.4.3",summary:_i(f,l,_,o),state:f}}return hs(v),v[b].summary},gi={scrollY:0,investmentFilter:"ALL",investmentTierFilter:"ALL",investmentSearch:""},Bu=t=>Number.isFinite(t)?Math.max(0,Math.round(t)):0,$o=t=>({...gi,...t,scrollY:Bu((t==null?void 0:t.scrollY)??0)}),Wl=[{term:"Yield",definition:"The annual return you expect from an investment, shown as a percentage of its price.",short:"Expected annual return as a percent of price."},{term:"APR",definition:"Annual Percentage Rate. The yearly cost of borrowing, including interest and fees.",short:"Yearly cost of borrowing, including fees."},{term:"Diversification",definition:"Spreading investments across different assets to reduce risk.",short:"Spreading risk across different assets."},{term:"Volatility",definition:"How much an asset‚Äôs price moves up and down. Higher volatility = more risk.",short:"How much price swings over time."},{term:"Index Fund",definition:"A fund that tracks a market index, giving broad exposure with low fees.",short:"A fund that tracks a market index."},{term:"Cashflow",definition:"Money left after income minus expenses. Positive cashflow builds wealth.",short:"Income minus expenses each month."},{term:"Down Payment",definition:"Upfront cash paid when buying a financed asset. The rest is borrowed.",short:"Upfront cash you pay when financing."},{term:"Risk",definition:"The chance an investment underperforms or loses value.",short:"Chance of losing value or underperforming."}],zu=[{id:"yield",question:"What does ‚Äúyield‚Äù mean?",options:["The total cost of an investment","Expected annual return as a percent of price","How long you hold an asset"],correct:"Expected annual return as a percent of price"},{id:"diversification",question:"Diversification helps most with:",options:["Reducing risk by spreading investments","Increasing fees","Guaranteeing a profit"],correct:"Reducing risk by spreading investments"},{id:"volatility",question:"High volatility usually means:",options:["Smaller price swings","Bigger price swings and higher risk","Guaranteed steady returns"],correct:"Bigger price swings and higher risk"},{id:"apr",question:"APR is best described as:",options:["The yearly cost of borrowing","Monthly rent on a property","The best possible return"],correct:"The yearly cost of borrowing"}],Yu=[{id:"downpayment",question:"A larger down payment usually means:",options:["Higher monthly payment","Lower monthly payment and less interest","No effect on the loan"],correct:"Lower monthly payment and less interest"},{id:"cashflow",question:"Cashflow on a rental is:",options:["Rent income minus mortgage and maintenance","Only the rent income","Purchase price divided by months"],correct:"Rent income minus mortgage and maintenance"},{id:"apr_mortgage",question:"APR tells you:",options:["Total yearly cost of borrowing","Guaranteed returns on rent","How fast a home appreciates"],correct:"Total yearly cost of borrowing"}],Hu=[{id:"diversify",question:"Diversification reduces risk by:",options:["Owning only one asset","Spreading money across different assets","Buying only high-risk assets"],correct:"Spreading money across different assets"},{id:"volatility",question:"High volatility means:",options:["Prices change a lot","Prices never change","Guaranteed profits"],correct:"Prices change a lot"},{id:"risk_return",question:"Higher potential returns typically come with:",options:["Lower risk","Higher risk","No risk"],correct:"Higher risk"}],rs={investBasics:{id:"invest-basics",title:"Investing basics quiz",intro:"Answer a few questions to earn small bonuses.",questions:zu},realEstate:{id:"real-estate",title:"Real estate financing quiz",intro:"Understand cashflow and borrowing basics.",questions:Yu},risk:{id:"risk",title:"Risk & diversification quiz",intro:"Quick check on risk and volatility.",questions:Hu}},Fo=t=>Wl.find(s=>s.term.toLowerCase()===t.toLowerCase()),Uo=t=>Object.values(rs).find(s=>s.id===t);class St extends qn.Component{constructor(){super(...arguments);is(this,"state",{hasError:!1});is(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})})}static getDerivedStateFromError(l){return{hasError:!0,error:l}}componentDidCatch(l,i){console.error(`TabErrorBoundary caught an error in ${this.props.tabName} tab:`,l,i)}render(){var l,i;if(this.state.hasError){const n=((l=this.context)==null?void 0:l.t)??(o=>o);return e.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-2xl p-6 m-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-red-500/20 rounded-xl",children:e.jsx(Ts,{className:"text-red-400",size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-red-400 mb-1",children:n("errors.tabTitle",{tab:this.props.tabName})}),e.jsx("p",{className:"text-slate-300 text-sm mb-3",children:n("errors.tabBody")}),e.jsx("div",{className:"bg-black/30 border border-red-500/20 rounded-xl p-3 text-xs text-slate-400 mb-4 overflow-auto max-h-24",children:((i=this.state.error)==null?void 0:i.message)||n("errors.unknown")}),e.jsxs("button",{onClick:this.handleRetry,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-red-600 hover:bg-red-500 text-white font-semibold text-sm transition-all",children:[e.jsx(fa,{size:16}),n("actions.tryAgain")]})]})]})})}return this.props.children}}is(St,"contextType",yi);const Qo=(...t)=>t.filter(Boolean).join(" ");let xa=0,Gl="",Jl="";const $u=()=>{if(xa===0){Gl=document.body.style.overflow,Jl=document.body.style.paddingRight;const t=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",t>0&&(document.body.style.paddingRight=`${t}px`)}xa+=1},Fu=()=>{xa=Math.max(0,xa-1),xa===0&&(document.body.style.overflow=Gl,document.body.style.paddingRight=Jl)},va=[],Uu=t=>{va.push(t)},Qu=t=>{const s=va.lastIndexOf(t);s>=0&&va.splice(s,1)},cn=t=>va[va.length-1]===t,dn=t=>{if(!t)return[];const s=t.querySelectorAll(["a[href]","area[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","iframe","object","embed",'[contenteditable="true"]','[tabindex]:not([tabindex="-1"])'].join(","));return Array.from(s).filter(l=>{const i=window.getComputedStyle(l);return i.visibility==="hidden"||i.display==="none"?!1:l.getClientRects().length>0})},Re=({isOpen:t,onClose:s,children:l,ariaLabel:i,ariaLabelledBy:n,closeButtonAriaLabel:o,closeOnOverlayClick:u=!0,closeOnEsc:h=!0,showCloseButton:v=!0,overlayClassName:b,contentClassName:_,overlayStyle:g,contentStyle:r,zIndex:f=1e3,initialFocusRef:S,preventScroll:Y=!0,role:P="dialog"})=>{const E=d.useId(),w=d.useRef(null),y=d.useRef(null),{t:C}=Dt(),M=i??C("modal.title"),j=o??C("modal.close");return d.useEffect(()=>{if(t)return Uu(E),Y&&$u(),()=>{Qu(E),Y&&Fu()}},[t,E,Y]),d.useEffect(()=>{if(!t)return;y.current=document.activeElement;const L=(S==null?void 0:S.current)||dn(w.current)[0]||w.current;return L&&window.setTimeout(()=>L.focus(),0),()=>{const Z=y.current;Z&&document.contains(Z)&&window.setTimeout(()=>Z.focus(),0)}},[t,S]),d.useEffect(()=>{const L=G=>{var k,R;if(!cn(E))return;if(G.key==="Escape"&&h){G.stopPropagation(),s();return}if(G.key!=="Tab")return;const D=dn(w.current);if(D.length===0){G.preventDefault();return}const W=D[0],Q=D[D.length-1],re=document.activeElement;G.shiftKey?(!re||re===W||!((k=w.current)!=null&&k.contains(re)))&&(G.preventDefault(),Q.focus()):(!re||re===Q||!((R=w.current)!=null&&R.contains(re)))&&(G.preventDefault(),W.focus())},Z=G=>{if(!cn(E)||!w.current||w.current.contains(G.target))return;const D=(S==null?void 0:S.current)||dn(w.current)[0]||w.current;D==null||D.focus()};return document.addEventListener("keydown",L),document.addEventListener("focusin",Z),()=>{document.removeEventListener("keydown",L),document.removeEventListener("focusin",Z)}},[t,E,h,s,S]),!t||typeof document>"u"?null:Td.createPortal(e.jsx("div",{className:Qo("fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4",b),style:{zIndex:f,...g},onClick:()=>{u&&cn(E)&&s()},children:e.jsxs("div",{ref:w,role:P,"aria-modal":"true","aria-label":n?void 0:M,"aria-labelledby":n,className:Qo("relative w-full max-w-lg bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl outline-none",_),style:r,tabIndex:-1,onClick:L=>L.stopPropagation(),children:[v&&e.jsx("button",{type:"button",onClick:s,className:"absolute top-3 right-3 z-10 w-10 h-10 rounded-full bg-slate-900/80 hover:bg-slate-800 border border-slate-700 flex items-center justify-center text-slate-300 hover:text-white","aria-label":j,children:e.jsx(ls,{size:18})}),l]})}),document.body)},Vu=["CAREER","INVESTOR","ENTREPRENEUR","DEBT_CRUSHER"],Ku=t=>t.track?t.track:t.category==="INVESTING"||t.category==="RISK"?"INVESTOR":t.category==="CREDIT"?"DEBT_CRUSHER":"CAREER",Wu=({isOpen:t,onClose:s,gameState:l,onClaim:i,onClaimAll:n,isProcessing:o})=>{var w;const{t:u,formatNumber:h,formatCurrency:v}=Dt(),b=(w=l.character)==null?void 0:w.id,_=l.quests||Pt(b),g=_.readyToClaim||[],r=_.active||[],f=_.completed||[],S=d.useMemo(()=>{const y=new Set(g),C=new Set(r),M=new Set(f),j={};return Ls.forEach(L=>{if(L.characterId&&L.characterId!==b)return;const Z=Ku(L);j[Z]||(j[Z]=[]);let G="locked";y.has(L.id)?G="ready":C.has(L.id)?G="active":M.has(L.id)&&(G="completed"),j[Z].push({quest:L,status:G})}),j},[g,r,f]),Y=y=>!y.unlockAfter||y.unlockAfter.length===0?"":y.unlockAfter.map(C=>{var j;const M=(j=Ot(C))==null?void 0:j.title;return M?u(M):""}).filter(Boolean).join(", "),P=y=>{if(!y)return"";const C=[];if(typeof y.cash=="number"&&y.cash!==0){const M=v(Math.abs(y.cash),{maximumFractionDigits:0});C.push(u("quests.reward.cash",{value:`${y.cash>=0?"+":"-"}${M}`}))}if(typeof y.creditRating=="number"&&y.creditRating!==0){const M=h(Math.round(Math.abs(y.creditRating)));C.push(u("quests.reward.credit",{value:`${y.creditRating>=0?"+":"-"}${M}`}))}return y.stats&&Object.entries(y.stats).forEach(([M,j])=>{if(typeof j!="number"||j===0)return;const L=`stats.${M}`;C.push(u("quests.reward.stat",{value:`${j>=0?"+":""}${h(Math.round(j))}`,stat:u(L)}))}),C.join(" ‚Ä¢ ")},E=y=>y?y.unit==="money"?u("quests.progressMoney",{current:v(Math.round(y.current),{maximumFractionDigits:0}),target:v(Math.round(y.target),{maximumFractionDigits:0})}):y.unit==="months"?u("quests.progressMonths",{current:y.current.toFixed(1),target:y.target.toFixed(1)}):y.unit==="score"?u("quests.progressScore",{current:h(Math.round(y.current)),target:h(Math.round(y.target))}):u("quests.progressScore",{current:h(Math.round(y.current)),target:h(Math.round(y.target))}):"";return e.jsxs(Re,{isOpen:t,onClose:s,ariaLabel:u("quests.logTitle"),overlayClassName:"bg-black/70",contentClassName:"w-full max-w-3xl bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fi,{className:"text-amber-400",size:20}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-bold text-lg",children:u("quests.logTitle")}),e.jsx("p",{className:"text-slate-400 text-xs",children:u("quests.logSubtitle")})]})]}),e.jsx("button",{onClick:n,disabled:g.length===0||!!o,className:`px-4 py-2 rounded-lg text-sm font-semibold border transition ${g.length===0||o?"bg-slate-800 border-slate-700 text-slate-500 cursor-not-allowed":"bg-emerald-600/20 border-emerald-500/40 text-emerald-200 hover:bg-emerald-600/30"}`,children:u("quests.claimAll")})]}),e.jsx("div",{className:"max-h-[70vh] overflow-y-auto p-6 space-y-6",children:Vu.map(y=>{const C=S[y]||[];if(C.length===0)return null;const M=C.filter(D=>D.status==="ready"),j=C.filter(D=>D.status==="active"),L=C.filter(D=>D.status==="locked"),Z=C.filter(D=>D.status==="completed"),G=L.filter(D=>(D.quest.unlockAfter||[]).length>0).slice(0,2);return e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-white",children:u(`quests.track.${y}`)}),e.jsx("span",{className:"text-xs text-slate-500",children:u("quests.trackSummary",{ready:h(M.length),active:h(j.length),claimed:h(Z.length)})})]}),M.length>0&&e.jsx("div",{className:"space-y-2",children:M.map(({quest:D})=>e.jsx("div",{className:"rounded-xl border border-emerald-700/40 bg-emerald-900/15 p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-white flex items-center gap-2",children:[e.jsx(Rs,{size:16,className:"text-emerald-400"}),u(D.title)]}),e.jsx("p",{className:"text-slate-300 text-sm mt-1",children:u(D.description)}),e.jsxs("p",{className:"text-emerald-200 text-xs mt-2",children:[u("quests.rewardLabel")," ",P(D.reward)]})]}),e.jsx("button",{onClick:()=>i(D.id),disabled:!!o,className:`px-3 py-2 rounded-lg text-sm font-semibold transition-all border ${o?"bg-slate-900/30 border-slate-700/50 text-slate-500 cursor-not-allowed":"bg-emerald-600/20 border-emerald-500/40 text-emerald-200 hover:bg-emerald-600/30 hover:border-emerald-400/60"}`,children:u("quests.claim")})]})},D.id))}),j.length>0&&e.jsx("div",{className:"space-y-2",children:j.map(({quest:D})=>{const W=ui(l,D.id),Q=W?Math.min(100,Math.max(0,Math.round(W.progress*100))):0;return e.jsxs("div",{className:"rounded-xl border border-slate-700 bg-slate-900/40 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:u(D.title)}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:u(D.description)}),D.hint&&e.jsxs("p",{className:"text-slate-300 text-xs mt-2",children:["üí° ",u(D.hint)]}),e.jsxs("p",{className:"text-amber-300 text-xs mt-2",children:[u("quests.rewardLabel")," ",P(D.reward)]})]}),e.jsxs("div",{className:"text-right min-w-[120px]",children:[e.jsx("p",{className:"text-slate-400 text-xs",children:u("quests.progress")}),e.jsxs("p",{className:"text-white font-bold",children:[Q,"%"]}),e.jsx("p",{className:"text-slate-400 text-xs mt-1",children:E(W)})]})]}),e.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden mt-3",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-amber-600 to-emerald-400",style:{width:`${Q}%`}})})]},D.id)})}),G.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-slate-500",children:u("quests.upNext")}),G.map(({quest:D})=>{const W=ui(l,D.id),Q=W?Math.min(100,Math.max(0,Math.round(W.progress*100))):0,re=Y(D);return e.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950/40 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-slate-200 flex items-center gap-2",children:[e.jsx(fd,{size:14,className:"text-slate-500"}),u(D.title)]}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:u(D.description)}),re&&e.jsx("p",{className:"text-slate-500 text-xs mt-2",children:u("quests.unlocksAfter",{title:re})}),e.jsxs("p",{className:"text-slate-500 text-xs mt-2",children:[u("quests.rewardLabel")," ",P(D.reward)]})]}),e.jsxs("div",{className:"text-right min-w-[120px]",children:[e.jsx("p",{className:"text-slate-500 text-xs",children:u("quests.preview")}),e.jsxs("p",{className:"text-slate-300 font-semibold",children:[Q,"%"]}),e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:E(W)})]})]}),e.jsx("div",{className:"h-2 bg-slate-900 rounded-full overflow-hidden mt-3",children:e.jsx("div",{className:"h-full bg-slate-700",style:{width:`${Q}%`}})})]},D.id)})]})]},y)})})]})},$e=({variant:t="secondary",size:s="md",fullWidth:l,className:i="",type:n="button",...o})=>{const u=l?"ds-button--full":"";return e.jsx("button",{type:n,className:`ds-button ds-button--${t} ds-button--${s} ${u} ${i}`.trim(),...o})},Vo=({variant:t="low",className:s="",children:l})=>e.jsx("span",{className:`ds-badge ds-badge--${t} ${s}`.trim(),children:l}),bt=({className:t="",muted:s,children:l})=>e.jsx("div",{className:`ds-card ${s?"ds-card--muted":""} ${t}`.trim(),children:l}),xi=({content:t,className:s="",children:l})=>{const[i,n]=d.useState(!1);return e.jsxs("span",{className:`relative inline-flex ${s}`.trim(),onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[e.jsx("span",{onFocus:()=>n(!0),onBlur:()=>n(!1),onClick:()=>n(o=>!o),children:l}),i&&e.jsx("span",{className:"ds-tooltip top-full mt-2 right-0",children:t})]})},Xl=({title:t,subtitle:s,navItems:l,activePath:i,onNavigate:n,children:o})=>e.jsxs("div",{className:"min-h-screen bg-slate-950 text-white",children:[e.jsx("header",{className:"sticky top-0 z-40 border-b border-slate-800 bg-slate-950/90 backdrop-blur",children:e.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col gap-4 px-4 py-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-2xl bg-gradient-to-br from-emerald-500 via-cyan-500 to-blue-600"}),e.jsxs("div",{children:[s&&e.jsx("p",{className:"text-sm text-slate-400",children:s}),e.jsx("h1",{className:"text-xl font-bold",children:t})]})]}),e.jsx("nav",{className:"flex gap-2 overflow-x-auto pb-1 md:pb-0",children:l.map(u=>{const h=u.path===i;return e.jsx("button",{onClick:()=>n(u.path),className:`rounded-full px-4 py-2 text-sm font-semibold transition-all border ${h?"bg-white text-slate-900 border-white":"border-slate-800 text-slate-200 hover:border-slate-600 hover:text-white"}`,children:u.label},u.path)})})]})}),e.jsx("main",{className:"mx-auto flex w-full max-w-6xl flex-col gap-6 px-4 py-8",children:o})]}),Gu=({onCapture:t,onBack:s})=>{const l=d.useRef(null),i=d.useRef(null),n=d.useRef(null),o=d.useRef(null),u=d.useRef(0),[h,v]=d.useState(null),[b,_]=d.useState("camera"),[g,r]=d.useState(!1),f=d.useCallback(()=>{var E;u.current+=1,l.current&&(l.current.onloadedmetadata=null,l.current.oncanplay=null,l.current.onplaying=null,l.current.onloadeddata=null),(E=o.current)==null||E.getTracks().forEach(w=>w.stop()),o.current=null},[]),S=d.useCallback(async()=>{var E;try{const w=u.current+1;if(u.current=w,r(!1),v(null),!((E=navigator.mediaDevices)!=null&&E.getUserMedia)){v("Camera not supported in this browser. Try uploading a photo.");return}const y=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"user"},width:{ideal:720},height:{ideal:1280}},audio:!1});if(w!==u.current){y.getTracks().forEach(C=>C.stop());return}if(o.current=y,l.current){const C=l.current;C.srcObject=y,C.onloadedmetadata=()=>{C.play().catch(()=>{})},C.onloadeddata=()=>r(!0),C.oncanplay=()=>r(!0),C.onplaying=()=>r(!0),setTimeout(()=>{C.videoWidth>0&&C.videoHeight>0&&r(!0)},800)}}catch{v("Could not access the camera. Try uploading a photo instead.")}},[]);d.useEffect(()=>{if(b==="camera")return S(),()=>f();r(!1),f()},[b,S,f]);const Y=()=>{if(!l.current||!i.current)return;if(!g){v("Camera is still starting. Please wait a moment.");return}const E=i.current.getContext("2d");if(!E)return;const w=l.current.videoWidth,y=l.current.videoHeight;if(!w||!y){v("Camera feed is not ready yet. Try again in a second.");return}const M=Math.min(1,512/Math.max(w,y)),j=Math.round(w*M),L=Math.round(y*M);i.current.width=j,i.current.height=L,E.drawImage(l.current,0,0,j,L);const G=i.current.toDataURL("image/jpeg",.82).split(",")[1];G&&t(G)},P=E=>{var C;const w=(C=E.target.files)==null?void 0:C[0];if(!w)return;const y=new FileReader;y.onload=()=>{if(typeof y.result!="string")return;const M=new Image;M.onload=()=>{if(!i.current)return;const j=i.current.getContext("2d");if(!j)return;const Z=Math.min(1,512/Math.max(M.width,M.height)),G=Math.round(M.width*Z),D=Math.round(M.height*Z);i.current.width=G,i.current.height=D,j.drawImage(M,0,0,G,D);const Q=i.current.toDataURL("image/jpeg",.82).split(",")[1];Q&&t(Q)},M.src=y.result},y.readAsDataURL(w)};return e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>_("camera"),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all ${b==="camera"?"bg-emerald-500 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,children:"Use Camera"}),e.jsx("button",{type:"button",onClick:()=>_("upload"),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all ${b==="upload"?"bg-emerald-500 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,children:"Upload Photo"})]}),b==="camera"?e.jsxs("div",{className:"relative w-full max-w-sm aspect-[9/16] overflow-hidden rounded-3xl border border-slate-700 bg-slate-900 shadow-2xl",children:[h?e.jsx("div",{className:"flex items-center justify-center h-full p-8 text-center bg-red-900/30",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-red-300 text-sm font-medium",children:h}),e.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 rounded-full bg-slate-800 text-slate-200 text-xs font-semibold",children:"Try Again"})]})}):e.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover scale-x-[-1]"}),e.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-6 bg-gradient-to-t from-black/80 to-transparent flex flex-col items-center",children:[e.jsx("p",{className:"text-white/80 text-sm mb-4",children:"Center your face, then capture."}),e.jsx("button",{type:"button",onClick:Y,disabled:!g,className:`group relative flex items-center justify-center w-16 h-16 rounded-full transition-all shadow-xl ${g?"bg-white hover:scale-105 active:scale-95 shadow-white/20":"bg-white/60 cursor-not-allowed"}`,children:e.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-black/10 group-hover:border-black/20 transition-all"})}),!g&&!h&&e.jsx("p",{className:"text-xs text-slate-300 mt-3",children:"Starting camera‚Ä¶"})]})]}):e.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-slate-700 bg-slate-900/60 p-6 text-center",children:[e.jsx("p",{className:"text-slate-300 text-sm mb-4",children:"Upload a clear, front-facing photo."}),e.jsx("input",{ref:n,type:"file",accept:"image/*",capture:"user",className:"hidden",onChange:P}),e.jsx("button",{type:"button",onClick:()=>{n.current&&(n.current.value="",n.current.click())},className:"px-4 py-2 rounded-full bg-emerald-500 text-white text-sm font-semibold",children:"Choose File"})]}),e.jsx("button",{type:"button",onClick:s,className:"px-6 py-2 rounded-full text-sm font-semibold text-slate-300 hover:text-white transition-colors",children:"Cancel"}),e.jsx("canvas",{ref:i,className:"hidden"})]})},Zl=()=>"/.netlify/functions",Ko=t=>new Promise(s=>setTimeout(s,t)),Ju=t=>/Inactivity Timeout/i.test(t)||/<html/i.test(t),ec=async(t,s,l=2)=>{let i=null;for(let n=0;n<=l;n+=1){const o=new AbortController,u=setTimeout(()=>o.abort(),45e3);try{const h=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),signal:o.signal});if(clearTimeout(u),!h.ok){const v=await h.text().catch(()=>"");let b=v;try{const _=JSON.parse(v);b=(_==null?void 0:_.error)||b}catch{}if(n<l&&Ju(b)){await Ko(1200*(n+1));continue}throw new Error(b||"Request failed")}return await h.json()}catch(h){if(clearTimeout(u),h instanceof Error&&h.name==="AbortError"?i=new Error("Avatar request timed out. Please retry."):h instanceof Error?i=h:i=new Error("Request failed"),n<l){await Ko(1200*(n+1));continue}}}throw i??new Error("Request failed")};async function Xu(t){var n;const l=`${Zl()}/avatar-options`,i=[];for(let o=1;o<=1;o+=1){const u=await ec(l,{imageBase64:t,imageMime:"image/jpeg",variation:o});(n=u.images)!=null&&n[0]&&i.push(u.images[0])}return i}async function Zu(t,s){const i=`${Zl()}/avatar-final`;return(await ec(i,{imageBase64:t,imageMime:"image/jpeg",outfit:s})).image||""}const em=[{id:"executive_blazer",name:"Executive Blazer",description:"Tailored dark blazer with crisp shirt.",category:"shirt"},{id:"streetwear_hoodie",name:"Streetwear Hoodie",description:"Premium hoodie with clean lines.",category:"shirt"},{id:"venture_vest",name:"Venture Vest",description:"Modern vest with a light shirt.",category:"shirt"},{id:"gold_watch",name:"Gold Watch",description:"Subtle gold watch on the wrist.",category:"accessory"},{id:"smart_glasses",name:"Smart Glasses",description:"Sleek smart glasses.",category:"accessory"},{id:"chain",name:"Minimal Chain",description:"Thin chain necklace.",category:"accessory"},{id:"clean_fade",name:"Clean Fade",description:"Sharp professional fade.",category:"hair"},{id:"long_wave",name:"Long Wave",description:"Soft, wavy hair.",category:"hair"},{id:"buzz",name:"Buzz Cut",description:"Short, clean buzz cut.",category:"hair"}],tc=({onCancel:t,onComplete:s,initialName:l,initialCareerPath:i})=>{const[n,o]=d.useState("capture"),[u,h]=d.useState(!1),[v,b]=d.useState(""),[_,g]=d.useState(null),[r,f]=d.useState([]),[S,Y]=d.useState(null),[P,E]=d.useState({}),[w,y]=d.useState(null),[C,M]=d.useState(l||""),[j,L]=d.useState(i||"TECH"),Z=(k,R=512)=>new Promise(H=>{const F=new Image;F.onload=()=>{const V=Math.min(1,R/Math.max(F.width,F.height)),ie=Math.round(F.width*V),te=Math.round(F.height*V),se=document.createElement("canvas");se.width=ie,se.height=te;const de=se.getContext("2d");if(!de){H(k);return}de.drawImage(F,0,0,ie,te),H(se.toDataURL("image/jpeg",.82))},F.onerror=()=>H(k),F.src=k}),G=async k=>{h(!0),g(null),b("Generating avatar options...");try{const R=await Xu(k);if(R.length===0)throw new Error("No avatars generated");f(R.map((H,F)=>({id:`${F}`,url:`data:image/png;base64,${H}`,base64:H}))),o("select")}catch(R){const H=R instanceof Error?R.message:"",F=H.includes("Not Found")||H.includes("Failed to fetch"),V=H.includes("Inactivity Timeout")||H.toLowerCase().includes("timed out");g(F?"Avatar API not reachable. Start Netlify Dev (npx netlify dev) and try again.":V?"Avatar generation timed out. Please try again.":H?`Unable to generate avatar options: ${H}`:"Unable to generate avatar options. Confirm your API key and try again.")}finally{h(!1)}},D=k=>{Y(k),o("style")},W=k=>{E(R=>{var H;return{...R,[k.category]:((H=R[k.category])==null?void 0:H.id)===k.id?void 0:k}})},Q=async()=>{var k,R,H;if(S){h(!0),g(null),b("Rendering final avatar...");try{const V=(await Z(S.url,512)).split(",")[1]||S.base64,ie=await Zu(V,{shirt:(k=P.shirt)==null?void 0:k.description,accessory:(R=P.accessory)==null?void 0:R.description,hair:(H=P.hair)==null?void 0:H.description});if(!ie)throw new Error("Generation failed");y(`data:image/png;base64,${ie}`),o("final")}catch(F){const V=F instanceof Error?F.message:"",ie=V.includes("Not Found")||V.includes("Failed to fetch"),te=V.includes("Inactivity Timeout")||V.toLowerCase().includes("timed out");g(ie?"Avatar API not reachable. Start Netlify Dev (npx netlify dev) and try again.":te?"Avatar render timed out. Please try again.":V?`Failed to render your avatar: ${V}`:"Failed to render your avatar. Try a different option or retry.")}finally{h(!1)}}},re=()=>{const k=C.trim();if(!w){g("Generate a final avatar before continuing.");return}if(!k){g("Enter a name to continue.");return}s({avatarImage:w,name:k,careerPath:j})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Custom Character"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Capture, customize, and bring your avatar into Tycoon."})]}),e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-full text-sm font-semibold text-slate-300 hover:text-white transition-colors",children:"Back to Characters"})]}),_&&e.jsx("div",{className:"mb-6 rounded-2xl border border-red-500/40 bg-red-900/20 p-4 text-red-200 text-sm",children:_}),u?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 space-y-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-emerald-500 border-t-transparent animate-spin"}),e.jsx("p",{className:"text-slate-300 text-sm",children:v})]}):e.jsxs(e.Fragment,{children:[n==="capture"&&e.jsxs("div",{className:"max-w-2xl mx-auto text-center space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Capture Your Photo"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Use a clear selfie for the best 3D result."})]}),e.jsx(Gu,{onCapture:G,onBack:t})]}),n==="select"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Choose a Base Avatar"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Pick the base render to style."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:r.map(k=>e.jsxs(ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>D(k),className:"relative aspect-[9/16] rounded-3xl overflow-hidden bg-slate-900 border border-slate-700 hover:border-emerald-500 transition-all shadow-2xl",children:[e.jsx("img",{src:k.url,alt:"Avatar option",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 p-4 bg-gradient-to-t from-black/70 to-transparent text-white text-sm font-semibold",children:"Select this base"})]},k.id))}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"button",onClick:()=>o("capture"),className:"text-slate-400 text-sm font-semibold hover:text-white transition-colors",children:"Retake photo"})})]}),n==="style"&&S&&e.jsxs("div",{className:"grid lg:grid-cols-2 gap-10 items-start",children:[e.jsx("div",{className:"rounded-3xl overflow-hidden border border-slate-700 bg-slate-900",children:e.jsx("img",{src:S.url,alt:"Selected base",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Style Lab"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Choose an outfit, accessory, and hair style."})]}),["shirt","accessory","hair"].map(k=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-slate-300 text-sm font-semibold capitalize",children:k}),e.jsx("div",{className:"flex flex-wrap gap-2",children:em.filter(R=>R.category===k).map(R=>{var F;const H=((F=P[k])==null?void 0:F.id)===R.id;return e.jsx("button",{type:"button",onClick:()=>W(R),className:`px-4 py-2 rounded-full text-xs font-semibold transition-all ${H?"bg-emerald-500 text-white shadow-lg":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,children:R.name},R.id)})})]},k)),e.jsxs("div",{className:"flex flex-wrap gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>o("select"),className:"px-4 py-2 rounded-full text-sm font-semibold text-slate-300 hover:text-white transition-colors",children:"Back"}),e.jsx("button",{type:"button",onClick:Q,className:"px-5 py-2 rounded-full bg-emerald-500 text-white text-sm font-semibold",children:"Render Final Avatar"})]})]})]}),n==="final"&&w&&e.jsxs("div",{className:"grid lg:grid-cols-2 gap-10 items-start",children:[e.jsx("div",{className:"rounded-3xl overflow-hidden border border-slate-700 bg-slate-900",children:e.jsx("img",{src:w,alt:"Final avatar",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Finish Your Profile"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Name your character and pick a career path."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Character Name"}),e.jsx("input",{type:"text",value:C,onChange:k=>M(k.target.value),placeholder:"Enter a name",className:"w-full rounded-xl bg-slate-900 border border-slate-700 px-4 py-3 text-white text-sm focus:outline-none focus:border-emerald-500"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-300",children:"Career Path"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.keys(Ce).map(k=>{const R=Ce[k],H=j===k;return e.jsxs("button",{type:"button",onClick:()=>L(k),className:`rounded-xl border px-3 py-3 text-left transition-all ${H?"border-emerald-500 bg-emerald-500/10 text-white":"border-slate-700 bg-slate-900 text-slate-300 hover:border-slate-500"}`,children:[e.jsx("p",{className:"text-sm font-semibold",children:R.name}),e.jsxs("p",{className:"text-xs text-slate-400",children:["AI-Proof ",R.futureProofScore,"%"]})]},k)})})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>o("style"),className:"px-4 py-2 rounded-full text-sm font-semibold text-slate-300 hover:text-white transition-colors",children:"Back to Style Lab"}),e.jsx("button",{type:"button",onClick:re,className:"px-5 py-2 rounded-full bg-emerald-500 text-white text-sm font-semibold",children:"Start Game"})]})]})]})]})]})})},tm=({title:t,summary:s,content:l,isGloballyHidden:i=!1})=>{const[n,o]=d.useState(!1);return i&&!n?e.jsx("button",{type:"button",onClick:()=>o(!0),className:"inline-flex items-center justify-center w-9 h-9 rounded-xl border border-slate-700 bg-slate-900/60 text-slate-300 hover:text-white hover:border-slate-500 transition","aria-label":`Show ${t}`,children:e.jsx(ai,{size:16})}):e.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-2xl overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>o(u=>!u),className:`w-full flex items-center justify-between gap-3 text-left ${n?"px-4 pt-4 pb-3":"px-4 py-3"}`,"aria-expanded":n,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-slate-900/60 border border-slate-700 flex items-center justify-center",children:e.jsx(ai,{size:16,className:"text-emerald-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:t}),s&&e.jsx("p",{className:"text-xs text-slate-400",children:s})]})]}),e.jsx("div",{className:"text-slate-400",children:n?e.jsx(bd,{size:16}):e.jsx(yl,{size:16})})]}),n&&e.jsx("div",{className:"px-4 pb-4",children:l})]})},Ft=({title:t,data:s,unit:l,onClick:i,variant:n="line",valueLabel:o,caption:u,ariaLabel:h})=>{const v=s[s.length-1],b=(()=>{if(o)return o;if(n==="bar"){const g=(v==null?void 0:v.income)??0,r=(v==null?void 0:v.expenses)??0,f=g-r,S=Math.abs(f).toLocaleString();return`${f>=0?"+":"-"}${S}${l?` ${l}`:""}`}const _=v==null?void 0:v.value;return typeof _!="number"?"‚Äî":l?`${Math.round(_)} ${l}`:`${Math.round(_)}`})();return e.jsxs("button",{type:"button",onClick:i,className:"w-full rounded-2xl border border-slate-800 bg-slate-900/60 p-4 text-left hover:border-slate-600 hover:bg-slate-900/80 transition","aria-label":h||t,children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:t}),e.jsx("p",{className:"text-lg font-semibold text-white",children:b}),u&&e.jsx("p",{className:"text-xs text-slate-400",children:u})]}),e.jsx("span",{className:"text-slate-500 text-xs",children:"View"})]}),e.jsx("div",{className:"mt-3 h-16",children:e.jsx(yt,{width:"100%",height:"100%",children:n==="bar"?e.jsxs(El,{data:s,children:[e.jsx(qt,{dataKey:"label",hide:!0}),e.jsx(Lt,{hide:!0}),e.jsx(mt,{cursor:{fill:"rgba(148, 163, 184, 0.08)"},contentStyle:{background:"#0f172a",border:"1px solid #1e293b",borderRadius:8,fontSize:12},formatter:(_,g)=>[_.toLocaleString(),g==="income"?"Income":"Expenses"]}),e.jsx(ci,{dataKey:"income",fill:"#34d399",radius:[4,4,0,0]}),e.jsx(ci,{dataKey:"expenses",fill:"#f97316",radius:[4,4,0,0]})]}):e.jsxs(Rd,{data:s,children:[e.jsx(qt,{dataKey:"label",hide:!0}),e.jsx(Lt,{hide:!0,domain:["dataMin","dataMax"]}),e.jsx(mt,{cursor:{stroke:"#334155"},contentStyle:{background:"#0f172a",border:"1px solid #1e293b",borderRadius:8,fontSize:12},formatter:_=>[_.toLocaleString(),""]}),e.jsx(Ad,{type:"monotone",dataKey:"value",stroke:"#38bdf8",strokeWidth:2,dot:!1})]})})})]})},et={title:"Sales Accelerator Certification",titleKey:"salesQuiz.meta.title",description:"A short, scenario-based certification focused on ethical, effective B2B selling and negotiation fundamentals.",descriptionKey:"salesQuiz.meta.description",ui:{entryPointLabel:"Start Certification",entryPointLabelKey:"salesQuiz.meta.entryPointLabel",coverImage:{src:"/images/sales-accelerator/cover.webp",alt:"Sales Accelerator Certification cover image"},quickTips:["Answer honestly - this is about long-term trust, not tricks.","Focus on outcomes, proof, and alignment.","Use ethical persuasion: clarity beats pressure."],quickTipsKeys:["salesQuiz.meta.tip1","salesQuiz.meta.tip2","salesQuiz.meta.tip3"]},rules:{questionCount:15,attemptsAllowed:3,onFail:{cashPenalty:25e3}},rewards:{onPass:{cash:25e3,fiq:10,happiness:5}}},sm=[{id:"sales_q1",i18n:{promptKey:"quiz.sales_q1.prompt",explanationKey:"quiz.sales_q1.explanation",optionKeys:{a:"quiz.sales_q1.option_a",b:"quiz.sales_q1.option_b",c:"quiz.sales_q1.option_c",d:"quiz.sales_q1.option_d"}},prompt:"A prospect asks for functionality your product does not currently support. What is the best ethical response?",media:{image:{src:"/images/sales-accelerator/q1.webp",alt:"A prospect asking about a missing feature during a sales call"}},tags:["ethics","trust","discovery"],difficulty:"easy",glossaryTerms:["outcome_focus","trust","scope"],options:[{id:"a",text:"Be clear about the limitation, confirm the outcome they need, and offer the best current path.",feedbackKey:"quiz.sales_q1.feedback_a",correct:!0,feedback:"Correct: accuracy builds trust, and outcome alignment keeps momentum without misrepresentation."},{id:"b",text:"Suggest it's nearly ready so the deal doesn't slow down.",feedbackKey:"quiz.sales_q1.feedback_b",feedback:"Risky: misleading capability claims create churn, escalations, and reputational damage."},{id:"c",text:"Deflect to pricing and hope they don't circle back.",feedbackKey:"quiz.sales_q1.feedback_c",feedback:"Avoidance lowers credibility - capability fit must be clarified before pricing makes sense."},{id:"d",text:"Promise a custom build even though delivery is uncertain.",feedbackKey:"quiz.sales_q1.feedback_d",feedback:"Unethical if uncertain: only commit to delivery timelines and scope you can confidently meet."}],explanation:"Trust comes from accuracy and alignment. Clear limits plus outcome focus builds long-term credibility."},{id:"sales_q2",i18n:{promptKey:"quiz.sales_q2.prompt",explanationKey:"quiz.sales_q2.explanation",optionKeys:{a:"quiz.sales_q2.option_a",b:"quiz.sales_q2.option_b",c:"quiz.sales_q2.option_c",d:"quiz.sales_q2.option_d"}},prompt:"Why does the early phase of a sales conversation matter so much, even in B2B?",media:{image:{src:"/images/sales-accelerator/q2.webp",alt:"Early discovery conversation shaping decision direction"}},tags:["psychology","positioning"],difficulty:"easy",glossaryTerms:["decision_framing","loss_aversion"],options:[{id:"a",text:"Because buyers never review data unless it is tattooed."},{id:"b",text:"Because the first vendor always wins by law (apparently)."},{id:"c",text:"Because early emotional preference often guides which facts feel convincing later.",feedbackKey:"quiz.sales_q2.feedback_c",correct:!0,feedback:"Correct: early framing influences what evidence feels relevant and persuasive afterward."},{id:"d",text:"Because it guarantees a short sales cycle for everyone, always."}],explanation:"Early intuition shapes direction; later analysis usually justifies a direction already forming."},{id:"sales_q3",i18n:{promptKey:"quiz.sales_q3.prompt",explanationKey:"quiz.sales_q3.explanation",optionKeys:{a:"quiz.sales_q3.option_a",b:"quiz.sales_q3.option_b",c:"quiz.sales_q3.option_c",d:"quiz.sales_q3.option_d"}},prompt:"Which action best builds genuine goodwill before asking for anything in return?",media:{image:{src:"/images/sales-accelerator/q3.webp",alt:"Sharing tailored insights before requesting a meeting"}},tags:["trust","value_first"],difficulty:"easy",glossaryTerms:["reciprocity","value"],options:[{id:"a",text:"Send multiple follow-ups so they remember your calendar exists."},{id:"b",text:"Share a tailored insight or small fix they can use immediately.",feedbackKey:"quiz.sales_q3.feedback_b",correct:!0,feedback:"Correct: useful value up front builds credibility and reciprocity without pressure."},{id:"c",text:"Push for a quick meeting while interest is still warm."},{id:"d",text:"Offer a discount first and hope value sorts itself out."}],explanation:"Useful value up front creates trust and makes the relationship feel cooperative."},{id:"sales_q4",i18n:{promptKey:"quiz.sales_q4.prompt",explanationKey:"quiz.sales_q4.explanation",optionKeys:{a:"quiz.sales_q4.option_a",b:"quiz.sales_q4.option_b",c:"quiz.sales_q4.option_c",d:"quiz.sales_q4.option_d"}},prompt:"What is the most ethical way to build credibility in a high-stakes sale?",media:{image:{src:"/images/sales-accelerator/q4.webp",alt:"Using proof points and benchmarks in a proposal"}},tags:["credibility","proof"],difficulty:"easy",glossaryTerms:["proof_points","benchmarks"],options:[{id:"a",text:"Talk fast and confident so you sound experienced."},{id:"b",text:"Keep it vague so nobody can fact-check you."},{id:"c",text:"Name-drop competitors and hope it counts as proof."},{id:"d",text:"Use verified outcomes, benchmarks, and proof points from relevant use cases.",feedbackKey:"quiz.sales_q4.feedback_d",correct:!0,feedback:"Correct: credibility must be verifiable - evidence beats performance or hype."}],explanation:"Credibility should come from verifiable evidence, not performance or hype."},{id:"sales_q5",i18n:{promptKey:"quiz.sales_q5.prompt",explanationKey:"quiz.sales_q5.explanation",optionKeys:{a:"quiz.sales_q5.option_a",b:"quiz.sales_q5.option_b",c:"quiz.sales_q5.option_c",d:"quiz.sales_q5.option_d"}},prompt:"Which type of social proof tends to be strongest for a cautious buyer?",media:{image:{src:"/images/sales-accelerator/q5.webp",alt:"A case study summary with measurable results"}},tags:["social_proof","risk_reduction"],difficulty:"easy",glossaryTerms:["social_proof","case_study"],options:[{id:"a",text:"A case study from a similar company with measurable results.",feedbackKey:"quiz.sales_q5.feedback_a",correct:!0,feedback:"Correct: similarity plus measurable outcomes reduce perceived risk and speed consensus."},{id:"b",text:"A very large total number of users (no context)."},{id:"c",text:"A long list of vague testimonials and high-fives."},{id:"d",text:'A slogan like "industry-leading" with no receipts.'}],explanation:"Similarity reduces risk. Buyers trust outcomes from situations that look like theirs."},{id:"sales_q6",i18n:{promptKey:"quiz.sales_q6.prompt",explanationKey:"quiz.sales_q6.explanation",optionKeys:{a:"quiz.sales_q6.option_a",b:"quiz.sales_q6.option_b",c:"quiz.sales_q6.option_c",d:"quiz.sales_q6.option_d"}},prompt:"Why do small early commitments (like sharing requirements or agreeing to a short follow-up) matter?",media:{image:{src:"/images/sales-accelerator/q6.webp",alt:"A buyer agreeing to a small next step"}},tags:["commitment","process"],difficulty:"easy",glossaryTerms:["commitment_consistency"],options:[{id:"a",text:"They legally force the buyer into a contract."},{id:"b",text:"People naturally try to stay aligned with earlier actions and statements.",feedbackKey:"quiz.sales_q6.feedback_b",correct:!0,feedback:"Correct: small commitments build momentum ethically when value and fit are real."},{id:"c",text:"They replace discovery, so you can skip the boring part."},{id:"d",text:"They guarantee an immediate close every time."}],explanation:"Consistency is a real human tendency, but it must be earned ethically, not exploited."},{id:"sales_q7",i18n:{promptKey:"quiz.sales_q7.prompt",explanationKey:"quiz.sales_q7.explanation",optionKeys:{a:"quiz.sales_q7.option_a",b:"quiz.sales_q7.option_b",c:"quiz.sales_q7.option_c",d:"quiz.sales_q7.option_d"}},prompt:"Which example of scarcity is ethical and professional?",media:{image:{src:"/images/sales-accelerator/q7.webp",alt:"A transparent onboarding capacity calendar"}},tags:["ethics","scarcity"],difficulty:"easy",glossaryTerms:["scarcity"],options:[{id:"a",text:"A fake countdown timer that mysteriously resets."},{id:"b",text:"Claiming limited availability with no real constraint."},{id:"c",text:'Pressuring them with "buy now or regret it."'},{id:"d",text:"Explain a real onboarding limit and offer the next available start date.",feedbackKey:"quiz.sales_q7.feedback_d",correct:!0,feedback:"Correct: scarcity must be real, transparent, and tied to operational constraints."}],explanation:"Scarcity must be real and transparent, otherwise it damages trust."},{id:"sales_q8",i18n:{promptKey:"quiz.sales_q8.prompt",explanationKey:"quiz.sales_q8.explanation",optionKeys:{a:"quiz.sales_q8.option_a",b:"quiz.sales_q8.option_b",c:"quiz.sales_q8.option_c",d:"quiz.sales_q8.option_d"}},prompt:"Which statement typically motivates action most effectively in B2B decision-making?",media:{image:{src:"/images/sales-accelerator/q8.webp",alt:"A chart showing cost of inaction increasing over time"}},tags:["loss_aversion","urgency"],difficulty:"easy",glossaryTerms:["cost_of_inaction","loss_aversion"],options:[{id:"a",text:"This adds some great new features."},{id:"b",text:"This is the cheapest option on the spreadsheet."},{id:"c",text:"This prevents ongoing losses caused by the current problem.",feedbackKey:"quiz.sales_q8.feedback_c",correct:!0,feedback:"Correct: avoiding losses is often a stronger driver than optional upside."},{id:"d",text:"This is popular on social media right now."}],explanation:"Decision-makers often move faster to avoid losses than to chase optional gains."},{id:"sales_q9",i18n:{promptKey:"quiz.sales_q9.prompt",explanationKey:"quiz.sales_q9.explanation",optionKeys:{a:"quiz.sales_q9.option_a",b:"quiz.sales_q9.option_b",c:"quiz.sales_q9.option_c",d:"quiz.sales_q9.option_d"}},prompt:"Which behavior best demonstrates real active listening?",media:{image:{src:"/images/sales-accelerator/q9.webp",alt:"Seller summarizing the buyer needs"}},tags:["listening","communication"],difficulty:"easy",glossaryTerms:["active_listening"],options:[{id:"a",text:"Summarize their point in your own words and ask if you understood correctly.",feedbackKey:"quiz.sales_q9.feedback_a",correct:!0,feedback:"Correct: reflection plus confirmation prevents misalignment and builds trust."},{id:"b",text:"Wait silently until they stop talking and then pivot."},{id:"c",text:"Jump in quickly with a solution before they finish."},{id:"d",text:"Agree with everything they say so it feels smooth."}],explanation:"Summarizing plus confirming builds trust and prevents misunderstanding."},{id:"sales_q10",i18n:{promptKey:"quiz.sales_q10.prompt",explanationKey:"quiz.sales_q10.explanation",optionKeys:{a:"quiz.sales_q10.option_a",b:"quiz.sales_q10.option_b",c:"quiz.sales_q10.option_c",d:"quiz.sales_q10.option_d"}},prompt:"Which discovery question most reliably reveals urgency and consequences?",media:{image:{src:"/images/sales-accelerator/q10.webp",alt:"Discovery question about consequences of inaction"}},tags:["discovery","urgency"],difficulty:"easy",glossaryTerms:["cost_of_inaction"],options:[{id:"a",text:"Do you like your current provider?"},{id:"b",text:"Would you like a demo soon?"},{id:"c",text:"What happens over the next 6-12 months if nothing changes?",feedbackKey:"quiz.sales_q10.feedback_c",correct:!0,feedback:"Correct: this exposes consequences, timelines, stakeholders, and true priority."},{id:"d",text:"Is pricing your biggest concern right now?"}],explanation:"The cost of inaction is what makes problems real and priorities clear."},{id:"sales_q11",i18n:{promptKey:"quiz.sales_q11.prompt",explanationKey:"quiz.sales_q11.explanation",optionKeys:{a:"quiz.sales_q11.option_a",b:"quiz.sales_q11.option_b",c:"quiz.sales_q11.option_c",d:"quiz.sales_q11.option_d"}},prompt:'A buyer says: "This feels expensive." What is the most accurate interpretation in many cases?',media:{image:{src:"/images/sales-accelerator/q11.webp",alt:"Buyer raising a price concern"}},tags:["objections","value"],difficulty:"medium",glossaryTerms:["value_clarity","roi"],options:[{id:"a",text:"They are insulting you personally."},{id:"b",text:"They are not fully convinced the outcome is worth the investment yet.",feedbackKey:"quiz.sales_q11.feedback_b",correct:!0,feedback:"Correct: price objections often indicate unclear ROI, not personal hostility."},{id:"c",text:"They will never buy anything, ever."},{id:"d",text:"They are always lying to everyone."}],explanation:"Price objections often signal a value-clarity problem, not a pure budget problem."},{id:"sales_q12",i18n:{promptKey:"quiz.sales_q12.prompt",explanationKey:"quiz.sales_q12.explanation",optionKeys:{a:"quiz.sales_q12.option_a",b:"quiz.sales_q12.option_b",c:"quiz.sales_q12.option_c",d:"quiz.sales_q12.option_d"}},prompt:"What is the best first response to a price objection if you want to stay ethical and effective?",media:{image:{src:"/images/sales-accelerator/q12.webp",alt:"Seller reconnecting price to outcomes"}},tags:["objections","roi"],difficulty:"medium",glossaryTerms:["roi","cost_of_inaction"],options:[{id:"a",text:"Offer a discount immediately to keep momentum."},{id:"b",text:"Argue that competitors are worse and louder."},{id:"c",text:"End the call and follow up when it is awkward."},{id:"d",text:"Reconnect price to outcomes and quantify the cost of the status quo.",feedbackKey:"quiz.sales_q12.feedback_d",correct:!0,feedback:"Correct: the buyer must be able to justify the spend internally using impact."}],explanation:"If you cannot tie price to impact, the buyer cannot defend the spend internally."},{id:"sales_q13",i18n:{promptKey:"quiz.sales_q13.prompt",explanationKey:"quiz.sales_q13.explanation",optionKeys:{a:"quiz.sales_q13.option_a",b:"quiz.sales_q13.option_b",c:"quiz.sales_q13.option_c",d:"quiz.sales_q13.option_d"}},prompt:"When is it appropriate to ask for a decision (close) without being pushy?",media:{image:{src:"/images/sales-accelerator/q13.webp",alt:"Natural close after alignment"}},tags:["closing","integrity"],difficulty:"medium",glossaryTerms:["alignment","mutual_plan"],options:[{id:"a",text:"After you align on fit, outcomes, and they agree the value is real.",feedbackKey:"quiz.sales_q13.feedback_a",correct:!0,feedback:"Correct: closing should be the next logical step after shared agreement on value."},{id:"b",text:"As early as possible before objections appear."},{id:"c",text:"Immediately after the first feature demo."},{id:"d",text:"Only if they ask you to, in writing."}],explanation:"A confident close is a natural next step once alignment is established."},{id:"sales_q14",i18n:{promptKey:"quiz.sales_q14.prompt",explanationKey:"quiz.sales_q14.explanation",optionKeys:{a:"quiz.sales_q14.option_a",b:"quiz.sales_q14.option_b",c:"quiz.sales_q14.option_c",d:"quiz.sales_q14.option_d"}},prompt:"Which is a fair conditional close that maintains integrity?",media:{image:{src:"/images/sales-accelerator/q14.webp",alt:"Conditional close with a clear concession"}},tags:["closing","negotiation"],difficulty:"medium",glossaryTerms:["conditional_close"],options:[{id:"a",text:"If you do not sign today, you lose the deal."},{id:"b",text:"Everyone else is buying, so you should too."},{id:"c",text:"If we include X, are you comfortable moving forward this week?",feedbackKey:"quiz.sales_q14.feedback_c",correct:!0,feedback:"Correct: it ties a concession to a clear next step, not intimidation."},{id:"d",text:"I cannot help you unless you commit now."}],explanation:"It is ethical because the concession is tied to a clear next step, not pressure."},{id:"sales_q15",i18n:{promptKey:"quiz.sales_q15.prompt",explanationKey:"quiz.sales_q15.explanation",optionKeys:{a:"quiz.sales_q15.option_a",b:"quiz.sales_q15.option_b",c:"quiz.sales_q15.option_c",d:"quiz.sales_q15.option_d"}},prompt:"What most consistently drives renewals, referrals, and long-term growth?",media:{image:{src:"/images/sales-accelerator/q15.webp",alt:"Strong onboarding handoff and early check-ins after closing"}},tags:["post_sale","retention","trust"],difficulty:"easy",glossaryTerms:["handoff","renewals"],options:[{id:"a",text:"Aggressive follow-ups after signing."},{id:"b",text:"Deliver what you promised and stay engaged through handoff and early check-ins.",feedbackKey:"quiz.sales_q15.feedback_b",correct:!0,feedback:"Correct: outcomes and follow-through create durable trust and expansion opportunities."},{id:"c",text:"Pushing upgrades immediately after signatures dry."},{id:"d",text:"Keeping contract terms vague for flexibility."}],explanation:"Long-term trust is built after the signature through outcomes and follow-through."}],am=({gameState:t,setGameState:s,formatMoney:l})=>{var A;const{t:i}=Dt(),n=(T,B)=>{if(!T)return B??"";const ue=i(T);return ue===T?B??T:ue},o=et.rules,u=d.useMemo(()=>sm.slice(0,o.questionCount),[o.questionCount]),[h,v]=d.useState("intro"),[b,_]=d.useState(0),[g,r]=d.useState({}),[f,S]=d.useState(!1),[Y,P]=d.useState(null),[E,w]=d.useState(null),[y,C]=d.useState(!1),[M,j]=d.useState(!1),[L,Z]=d.useState(null),[G,D]=d.useState(!1),W=t.salesAcceleratorCourse??{failedAttempts:0,bestScore:0,certified:!1,rewardClaimed:!1},Q=Math.max(0,o.attemptsAllowed-W.failedAttempts),re=W.certified||Q>0,k=T=>Math.max(0,Math.min(100,T)),R=T=>{var B;return((B=T.options.find(ue=>"correct"in ue&&ue.correct))==null?void 0:B.id)||""},H=(T,B,ue)=>{var ze,Fe;const _e=(Fe=(ze=T.i18n)==null?void 0:ze.optionKeys)==null?void 0:Fe[B];return n(_e,ue)},F=T=>{v(T),_(0),r({}),S(!1),P(null),w(null),C(!1),j(!1),Z(null)},V=()=>{D(!1),F("intro")},ie=()=>{D(!0),F("intro")},te=()=>{re&&F("quiz")},se=T=>{const B=u.length,ue=u.reduce((Fe,ye)=>{const fe=R(ye);return Fe+(T[ye.id]===fe?1:0)},0),_e=ue===B;w(ue),C(_e);const ze=_e&&!W.rewardClaimed;j(ze),Z(_e||W.certified?Q:Math.max(0,Q-1)),v("results"),s(Fe=>{var Ae,pt;const ye=Fe.salesAcceleratorCourse??{failedAttempts:0,bestScore:0,certified:!1,rewardClaimed:!1},fe={...ye,bestScore:Math.max(ye.bestScore,ue),certified:ye.certified||_e,rewardClaimed:ye.rewardClaimed||_e&&!ye.rewardClaimed};!_e&&!ye.certified&&(fe.failedAttempts=ye.failedAttempts+1);let Ie={...Fe,salesAcceleratorCourse:fe};if(_e&&!ye.rewardClaimed){const st=et.rewards.onPass;Ie={...Ie,cash:Ie.cash+st.cash,stats:{...Ie.stats,financialIQ:k((((Ae=Ie.stats)==null?void 0:Ae.financialIQ)??0)+st.fiq),happiness:k((((pt=Ie.stats)==null?void 0:pt.happiness)??0)+st.happiness)}}}else if(!_e){const st=et.rules.onFail;Ie={...Ie,cash:Math.max(0,Ie.cash-st.cashPenalty)}}return Ie})},de=T=>{if(f)return;const B=u[b],ue={...g,[B.id]:T};r(ue),P(T);{S(!0);return}},xe=()=>{if(b>=u.length-1){se(g);return}_(T=>T+1),S(!1),P(null)},he=u[b],ge=he?R(he):"",ve=u.reduce((T,B)=>{const ue=R(B);return T+(g[B.id]===ue?1:0)},0),we=!et.ui.coverImage.src.includes("__IMAGE_PLACEHOLDER__"),Ee=he?!he.media.image.src.includes("__IMAGE_PLACEHOLDER__"):!1,pe=n(et.titleKey,et.title),be=n(et.descriptionKey,et.description),$=n(et.ui.entryPointLabelKey,et.ui.entryPointLabel),p=et.ui.quickTips.map((T,B)=>{var ue;return n((ue=et.ui.quickTipsKeys)==null?void 0:ue[B],T)});return e.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4",children:[e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-white mb-1 flex items-center gap-2",children:[e.jsx(Ds,{className:"text-amber-400",size:18}),pe]}),e.jsx("p",{className:"text-slate-400 text-sm max-w-2xl",children:be})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[W.certified?e.jsxs("span",{className:"inline-flex items-center gap-2 text-xs px-3 py-1.5 rounded-full bg-emerald-500/20 text-emerald-300 border border-emerald-500/40",children:[e.jsx(Rs,{size:14})," ",i("salesQuiz.ui.certified")]}):e.jsx("span",{className:"text-xs text-slate-400",children:i("salesQuiz.ui.attemptsLeft",{count:Q})}),e.jsx("button",{onClick:ie,className:"px-4 py-2 rounded-lg bg-amber-600 hover:bg-amber-500 text-white text-sm font-semibold",children:$})]})]}),e.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3 text-xs text-slate-400",children:p.map(T=>e.jsx("div",{className:"bg-slate-900/60 border border-slate-700 rounded-lg p-3",children:T},T))}),e.jsx("div",{className:"mt-3 text-xs text-slate-500",children:i("salesQuiz.ui.bestScore",{score:W.bestScore,total:u.length})}),!re&&e.jsx("p",{className:"mt-2 text-xs text-rose-300",children:i("salesQuiz.ui.attemptsUsed")}),G&&e.jsxs(Re,{isOpen:G,onClose:V,ariaLabel:"Sales Accelerator quiz",closeOnOverlayClick:!0,closeOnEsc:!0,contentClassName:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-3xl w-full",children:[h==="intro"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:i("salesQuiz.ui.certificationLabel")}),e.jsx("h2",{className:"text-xl font-bold text-white",children:pe})]}),W.certified&&e.jsxs("span",{className:"inline-flex items-center gap-2 text-xs px-3 py-1.5 rounded-full bg-emerald-500/20 text-emerald-300 border border-emerald-500/40",children:[e.jsx(Rs,{size:14})," ",i("salesQuiz.ui.certified")]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"bg-slate-900/50 border border-slate-700 rounded-xl p-4",children:[we?e.jsx("img",{src:et.ui.coverImage.src,alt:et.ui.coverImage.alt,className:"w-full h-40 object-cover rounded-lg"}):e.jsx("div",{className:"h-40 rounded-lg bg-slate-900/70 border border-slate-700 flex items-center justify-center text-slate-500 text-sm",children:i("salesQuiz.ui.coverPlaceholder")}),e.jsx("p",{className:"text-sm text-slate-300 mt-3",children:be}),e.jsx("div",{className:"mt-3 text-xs text-slate-400",children:i("salesQuiz.ui.passingAllCorrect")}),!W.certified&&e.jsx("div",{className:"mt-1 text-xs text-slate-500",children:i("salesQuiz.ui.attemptsLeft",{count:Q})})]}),e.jsxs("div",{className:"bg-slate-900/50 border border-slate-700 rounded-xl p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-white mb-2",children:i("salesQuiz.ui.quickTips")}),e.jsx("ul",{className:"text-sm text-slate-300 space-y-2 list-disc list-inside",children:p.map(T=>e.jsx("li",{children:T},T))}),e.jsx("div",{className:"mt-4 text-xs text-slate-400",children:i("salesQuiz.ui.questionCount",{count:o.questionCount})})]})]}),!re&&!W.certified&&e.jsx("div",{className:"rounded-xl border border-rose-500/40 bg-rose-500/10 p-3 text-sm text-rose-200",children:i("salesQuiz.ui.noAttempts")}),e.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[e.jsx("button",{onClick:V,className:"px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-600 text-white text-sm",children:i("salesQuiz.ui.close")}),e.jsx("button",{onClick:te,disabled:!re,className:"px-4 py-2 rounded-lg bg-amber-600 hover:bg-amber-500 disabled:bg-slate-700 disabled:text-slate-500 text-white text-sm font-semibold",children:W.certified?i("salesQuiz.ui.practiceMode"):i("salesQuiz.ui.startCertification")})]})]}),h==="quiz"&&he&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400",children:i("salesQuiz.ui.questionLabel",{index:b+1,total:u.length})}),e.jsx("p",{className:"text-sm text-slate-300",children:i("salesQuiz.ui.scoreLabel",{score:ve,total:u.length})})]}),e.jsx("div",{className:"w-40 bg-slate-900/60 border border-slate-700 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-2 bg-gradient-to-r from-amber-500 to-amber-300",style:{width:`${(b+1)/u.length*100}%`}})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"bg-slate-900/50 border border-slate-700 rounded-xl p-4",children:[Ee?e.jsx("img",{src:he.media.image.src,alt:he.media.image.alt,className:"w-full h-40 object-cover rounded-lg mb-3"}):e.jsx("div",{className:"h-40 rounded-lg bg-slate-900/70 border border-slate-700 flex items-center justify-center text-slate-500 text-sm mb-3",children:i("salesQuiz.ui.questionPlaceholder")}),e.jsx("p",{className:"text-sm text-slate-200 leading-relaxed",children:n((A=he.i18n)==null?void 0:A.promptKey,he.prompt)})]}),e.jsxs("div",{className:"space-y-2",children:[he.options.map(T=>{const B=Y===T.id,ue=f&&T.id===ge,_e=f&&B&&T.id!==ge;return e.jsx("button",{onClick:()=>de(T.id),disabled:f,className:`w-full text-left px-4 py-3 rounded-xl border transition-all ${ue?"bg-emerald-600/15 border-emerald-500/40 text-emerald-100":_e?"bg-rose-600/15 border-rose-500/40 text-rose-100":B?"bg-slate-700/60 border-slate-500 text-white":"bg-slate-900/50 border-slate-700 text-slate-200 hover:bg-slate-800/60"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg flex items-center justify-center text-xs font-bold bg-slate-800 text-slate-300",children:T.id.toUpperCase()}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm leading-relaxed",children:H(he,T.id,T.text)})})]})},T.id)}),f&&e.jsxs("div",{className:`rounded-xl border p-3 ${Y===ge?"bg-emerald-600/10 border-emerald-500/30":"bg-rose-600/10 border-rose-500/30"}`,children:[e.jsx("p",{className:"text-sm font-semibold text-white mb-1",children:i(Y===ge?"salesQuiz.ui.correct":"salesQuiz.ui.incorrect")}),e.jsx("p",{className:"text-xs text-slate-300",children:(()=>{var _e;const T=he.options.find(ze=>ze.id===ge),B=T==null?void 0:T.feedbackKey,ue=T==null?void 0:T.feedback;return n(B,ue||n((_e=he.i18n)==null?void 0:_e.explanationKey,he.explanation))})()})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:V,className:"px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-600 text-white text-sm",children:i("salesQuiz.ui.exit")}),e.jsx("button",{onClick:xe,disabled:!f,className:"px-4 py-2 rounded-lg bg-amber-600 hover:bg-amber-500 disabled:bg-slate-700 disabled:text-slate-500 text-white text-sm font-semibold",children:b>=u.length-1?i("salesQuiz.ui.finish"):i("salesQuiz.ui.next")})]})]}),h==="results"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:i("salesQuiz.ui.resultsLabel")}),e.jsx("h2",{className:"text-xl font-bold text-white",children:i(y?"salesQuiz.ui.resultsPassed":"salesQuiz.ui.resultsFailed")})]}),e.jsxs("div",{className:`inline-flex items-center gap-2 text-xs px-3 py-1.5 rounded-full border ${y?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":"bg-rose-500/20 text-rose-300 border-rose-500/40"}`,children:[y?e.jsx(Rs,{size:14}):e.jsx(yd,{size:14}),i("salesQuiz.ui.scoreLabel",{score:E??0,total:u.length})]})]}),y&&M&&e.jsx("div",{className:"rounded-xl border border-emerald-500/40 bg-emerald-500/10 p-3 text-sm text-emerald-100",children:i("salesQuiz.ui.rewardEarned",{cash:l(et.rewards.onPass.cash),fiq:et.rewards.onPass.fiq,happiness:et.rewards.onPass.happiness})}),!y&&!W.certified&&e.jsx("div",{className:"rounded-xl border border-rose-500/40 bg-rose-500/10 p-3 text-sm text-rose-100",children:i("salesQuiz.ui.attemptsLeft",{count:L??Math.max(0,Q-1)})}),e.jsxs("div",{className:"rounded-xl border border-slate-700 bg-slate-900/50 p-4 max-h-64 overflow-y-auto",children:[e.jsx("p",{className:"text-sm font-semibold text-white mb-2",children:i("salesQuiz.ui.reviewTitle")}),e.jsx("div",{className:"space-y-3",children:u.map(T=>{var Ie;const B=R(T),ue=g[T.id],_e=T.options.find(Ae=>Ae.id===B),ze=_e?H(T,B,_e.text):"",Fe=T.options.find(Ae=>Ae.id===ue),ye=Fe?H(T,Fe.id,Fe.text):i("salesQuiz.ui.noAnswer"),fe=ue===B;return e.jsxs("div",{className:"text-xs text-slate-300",children:[e.jsx("p",{className:"text-slate-200 font-semibold",children:n((Ie=T.i18n)==null?void 0:Ie.promptKey,T.prompt)}),e.jsx("p",{className:fe?"text-emerald-300":"text-rose-300",children:i("salesQuiz.ui.yourAnswer",{answer:ye})}),!fe&&e.jsx("p",{className:"text-slate-400",children:i("salesQuiz.ui.correctAnswer",{answer:ze})})]},T.id)})})]}),e.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[e.jsx("button",{onClick:V,className:"px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-600 text-white text-sm",children:i("salesQuiz.ui.close")}),e.jsx("button",{onClick:te,disabled:!re,className:"px-4 py-2 rounded-lg bg-amber-600 hover:bg-amber-500 disabled:bg-slate-700 disabled:text-slate-500 text-white text-sm font-semibold",children:W.certified?i("salesQuiz.ui.practiceAgain"):i("salesQuiz.ui.retry")})]})]})]})]})},ca=(t,s,l)=>Math.max(s,Math.min(l,t)),un={failedAttempts:0,bestScore:0,certified:!1,rewardClaimed:!1},Wo=[{id:"q1",image:"/eq-images/1_nervous_seller.webp",scenario:"You‚Äôre closing a small business purchase. The seller is nervous and keeps repeating: ‚ÄòI just don‚Äôt want to be taken advantage of.‚Äô",question:"What‚Äôs your best EQ move?",options:["Say: ‚ÄúRelax, I‚Äôm fair. Trust me.‚Äù","Re-explain the offer, louder, with a bonus spreadsheet.","Mirror it: ‚ÄúTotally fair. What would ‚Äòprotected‚Äô look like to you?‚Äù","Tell them: ‚ÄúThat‚Äôs not rational ‚Äî the numbers are the numbers.‚Äù"],correctIndex:2,skill:"Mirror + Clarify",explanation:"When someone repeats a fear, it‚Äôs not a logic problem ‚Äî it‚Äôs a safety problem. Mirror the emotion, then ask a clarifying question so they can define what a ‚Äúwin‚Äù looks like."},{id:"q2",image:"/eq-images/2_tenant_heater_issue.webp",scenario:"A tenant messages: ‚ÄúThe heater is acting up again üôÑ.‚Äù You‚Äôre busy, but you want them calm and cooperative.",question:"Which reply boosts trust fastest?",options:["‚ÄúOk.‚Äù (no emoji, no plan, no mercy).","‚ÄúIt‚Äôs winter. Heaters do that.‚Äù","‚ÄúUgh, that‚Äôs annoying. What‚Äôs it doing now? I‚Äôll book someone today.‚Äù","Ignore it for hours, then send a three-paragraph explanation."],correctIndex:2,skill:"Validate First, Fix Second",explanation:"A tiny bit of validation lowers the temperature instantly. Then you move into action with one simple question and a clear commitment."},{id:"q3",image:"/eq-images/3_networking_monologue.webp",scenario:"At a networking event, someone launches into a 7‚Äëminute monologue about their app, their old app, and their future app‚Äôs app.",question:"What‚Äôs the smooth EQ play?",options:["Interrupt: ‚ÄúCool. Anyway, here‚Äôs what I do‚Ä¶‚Äù","Ask one focused question: ‚ÄúWhat problem are people paying to solve?‚Äù","Nod silently until your face cramps, then flee to the snack table.","Give unsolicited advice: ‚ÄúYou should pivot to AI.‚Äù"],correctIndex:1,skill:"Curiosity With Direction",explanation:"Curiosity builds rapport, but direction builds usefulness. One well‚Äëaimed question makes them feel heard and moves the conversation to substance."},{id:"q4",image:"/eq-images/4_sparkly_kitchen_appreciation.webp",scenario:"Your partner cleaned the house. It looks amazing. They look tired (the classic combo).",question:"Which response gives the biggest relationship ROI?",options:["‚ÄúThanks.‚Äù (said while scrolling).","Say nothing, because breathing is a love language.","‚ÄúThis looks incredible. I see the effort. What can I take tonight so you can switch off?‚Äù","‚ÄúWow. Finally.‚Äù (says every healthy partner, never)."],correctIndex:2,skill:"Specific Appreciation + Offer Relief",explanation:"Specific appreciation lands. Offering relief converts ‚Äúseen‚Äù into ‚Äúsupported.‚Äù That‚Äôs EQ on easy mode."},{id:"q5",image:"/eq-images/5_cant_afford_it.webp",scenario:"A client says: ‚ÄúI‚Äôm not sure I can afford this.‚Äù You suspect they can, but they‚Äôre anxious.",question:"What‚Äôs the best next step?",options:["‚ÄúYou can. Trust me.‚Äù","Ask: ‚ÄúWhen you say ‚Äòafford,‚Äô is it cashflow, risk, or not loving the price?‚Äù","Immediately discount without asking anything.","Say: ‚ÄúLots of people are buying, so‚Ä¶‚Äù"],correctIndex:1,skill:"Name the Real Constraint",explanation:"‚ÄúI can‚Äôt afford it‚Äù can mean cashflow, risk tolerance, priorities, or uncertainty. Clarify before you solve."},{id:"q6",image:"/eq-images/6_angry_customer_email.webp",scenario:"A customer emails: ‚ÄúYour team messed this up. Unacceptable.‚Äù You can fix it, but they‚Äôre heated.",question:"What‚Äôs your best first reply?",options:["‚ÄúActually, you filled out the form wrong.‚Äù","‚ÄúPlease calm down.‚Äù (the universal de-escalator).","‚ÄúYou‚Äôre right to be upset. Here‚Äôs what I‚Äôm doing now and when you‚Äôll get an update.‚Äù","Forward it to someone else and pretend you never saw it."],correctIndex:2,skill:"Take Heat, Add Clarity",explanation:"The fastest de‚Äëescalator is: validate + concrete next steps + a timeline. Don‚Äôt debate blame while the person is in volcano mode."},{id:"q7",image:"/eq-images/7_late_partner_protein_shaker.webp",scenario:"Your business partner keeps arriving late and starts meetings with a protein powder review.",question:"Which approach is firm and relationship‚Äësafe?",options:["Publicly roast them in the group chat.","Say nothing and simmer quietly for six months.","Private + direct: ‚ÄúWhen you‚Äôre late, we lose momentum. Can we agree on a start‚Äëtime rule and backup?‚Äù","Schedule meetings earlier to ‚Äútrick‚Äù them."],correctIndex:2,skill:"Boundary + Agreement",explanation:"EQ isn‚Äôt avoiding hard conversations ‚Äî it‚Äôs being clear without being cruel. Describe impact, then co‚Äëcreate a rule."},{id:"q8",image:"/eq-images/8_barking_dog_complaint.webp",scenario:"A tenant‚Äôs dog is barking all night. The neighbor demands you ‚Äúfix it TODAY.‚Äù",question:"What‚Äôs the best response plan?",options:["Tell the neighbor: ‚ÄúNot my problem.‚Äù","Message the tenant: ‚ÄúStop it or else.‚Äù","Acknowledge the neighbor, then contact the tenant with a request + deadline + policy-based consequences.","Ignore both until someone moves out."],correctIndex:2,skill:"Two‚ÄëSided Calm",explanation:"Manage both emotions and process. Validate the complainant, then use clear steps with the tenant that match your policy."},{id:"q9",image:"/eq-images/9_after_hours_calls.webp",scenario:"A client keeps calling after hours. You want to be helpful‚Ä¶ but you also like sleeping.",question:"What‚Äôs the highest‚ÄëEQ boundary?",options:["Stop answering forever and hope they get the hint.","Reply once: ‚ÄúDo not call me after hours.‚Äù","Set expectations: ‚ÄúMy hours are X‚ÄìY. If it‚Äôs urgent, text ‚ÄòURGENT‚Äô and I‚Äôll respond by ___.‚Äù","Answer every time and slowly become a ghost of yourself."],correctIndex:2,skill:"Warm Boundary",explanation:"A boundary with a path feels respectful: clear hours + what ‚Äúurgent‚Äù means + a predictable response."},{id:"q10",image:"/eq-images/10_supplier_price_increase.webp",scenario:"A supplier says: ‚ÄúPrices went up. Take it or leave it.‚Äù You need them, but you also need margins.",question:"What‚Äôs the best move?",options:["Threaten to ‚Äúgo viral‚Äù on social media.","Say: ‚ÄúFine.‚Äù Then resent them forever.","Stay calm: ‚ÄúWhat‚Äôs driving the increase? If we adjust volume/terms/timing, can we get closer to the prior rate?‚Äù","Send a 2‚Äëpage rant email at 1:13 AM."],correctIndex:2,skill:"Curious Negotiation",explanation:"Ask what‚Äôs driving the change, then explore levers (volume, terms, timing). Curiosity keeps the door open."},{id:"q11",image:"/eq-images/11_great_with_clients_messy_reports.webp",scenario:"Your employee is great with clients but their reports look like they were written during a rollercoaster ride.",question:"What‚Äôs the best way to start feedback?",options:["‚ÄúYour reports are terrible. Fix it.‚Äù","‚ÄúYou‚Äôre great with clients. Let‚Äôs bring that care into reports ‚Äî here‚Äôs a template and we‚Äôll review one together.‚Äù","Send a passive‚Äëaggressive message with a thumbs‚Äëdown emoji.","Rewrite their reports forever and accept your fate."],correctIndex:1,skill:"Strength ‚Üí Bridge ‚Üí Support",explanation:"Start with a real strength, bridge to the gap, then offer tools. Dignity stays intact; outcomes improve."},{id:"q12",image:"/eq-images/12_new_software_resistance.webp",scenario:"You roll out new software. One teammate hates change and declares: ‚ÄúThe old way works.‚Äù",question:"What‚Äôs the most effective approach?",options:["Force it with threats and dramatic speeches.","Ask: ‚ÄúWhat part worries you most?‚Äù Solve that first and give a small win task.","Ignore their resistance and hope culture fixes it.","Publicly point out they‚Äôre the only one complaining."],correctIndex:1,skill:"Find the Fear, Create a Win",explanation:"Resistance usually hides fear (looking incompetent, losing speed, losing control). Address the fear and give a confidence‚Äëbuilding win."},{id:"q13",image:"/eq-images/13_junior_mistake.webp",scenario:"A junior teammate made a mistake that cost you money. You‚Äôre annoyed. They‚Äôre embarrassed.",question:"What‚Äôs the best leadership response?",options:["‚ÄúHow could you do this?‚Äù and let silence do the rest.","‚ÄúIt happens. Don‚Äôt worry.‚Äù with zero follow‚Äëup.","‚ÄúLet‚Äôs review what happened, fix the system, add one safeguard, and move forward. You‚Äôre valued here.‚Äù","Bring it up in a team meeting as a ‚Äúlearning moment.‚Äù"],correctIndex:2,skill:"Blame Less, Learn More",explanation:"Protect psychological safety while improving the process. People grow fastest when coached, not shamed."},{id:"q14",image:"/eq-images/14_nobody_wants_documentation.webp",scenario:"You need someone to own documentation. Nobody volunteers because nobody‚Äôs eyeballs are that brave.",question:"What‚Äôs the best influence move?",options:["Assign it randomly and disappear.","Offer meaning + credit: ‚ÄúThis reduces chaos. If you own it, you set the standard and get credit.‚Äù","Say: ‚ÄúIf nobody does it, I‚Äôm cancelling Friday.‚Äù","Do it yourself at midnight while whisper‚Äëcrying."],correctIndex:1,skill:"Attach Status + Purpose",explanation:"People avoid boring work when it feels invisible. Make it meaningful and visible, with ownership and credit."},{id:"q15",image:"/eq-images/15_strategy_argument.webp",scenario:"Your team is arguing about strategy. Two camps form. Tension rises. Someone says ‚ÄúI‚Äôm just being honest.‚Äù",question:"What‚Äôs the best move as the leader?",options:["Pick a side immediately to end it fast.","Pause: ‚ÄúWhat do we all agree the goal is?‚Äù Then list tradeoffs in neutral language.","Let them fight it out ‚Äî ‚Äúpressure makes diamonds.‚Äù","Change the topic to weekend plans."],correctIndex:1,skill:"Reset to Shared Goal",explanation:"When debates get personal, reset to shared goals and neutral tradeoffs. You turn ‚Äúme vs you‚Äù into ‚Äúus vs the problem.‚Äù"}];function Go(t){for(let s=t.length-1;s>0;s--){const l=Math.floor(Math.random()*(s+1));[t[s],t[l]]=[t[l],t[s]]}return t}function Jo(t){const s=t.map(l=>{const i=l.options.map((u,h)=>({text:u,originalIdx:h}));Go(i);const n=i.map(u=>u.text),o=i.findIndex(u=>u.originalIdx===l.correctIndex);return{...l,options:n,correctIndex:o}});return Go(s),s}function im({gameState:t,setGameState:s}){const l=t.eqCourse??un,i=!!l.certified,[n,o]=d.useState("intro"),[u,h]=d.useState(0),[v,b]=d.useState(0),[_,g]=d.useState(null),[r,f]=d.useState(!1),[S,Y]=d.useState([]),[P,E]=d.useState(null),[w,y]=d.useState(!1),[C,M]=d.useState(()=>Jo(Wo)),j=C.length,L=C[u],Z=d.useMemo(()=>({remaining:i?null:Math.max(0,3-l.failedAttempts)}),[i,l.failedAttempts]),G=()=>{M(Jo(Wo)),h(0),b(0),g(null),f(!1),Y([]),E(null),y(!1),o("quiz")},D=()=>{s(R=>{var de;const H=R.eqCourse??un,F=!!H.rewardClaimed,V={...H,certified:!0,rewardClaimed:!0,failedAttempts:0,bestScore:Math.max(H.bestScore??0,j)},ie={careerXpMultiplier:1.5,careerXpCarry:((de=R.eqPerks)==null?void 0:de.careerXpCarry)??0};let te=R.cash,se={...R.stats};return F||(te=Math.round(te+25e3),se={...se,networking:ca((se.networking??0)+12,0,100),happiness:ca((se.happiness??0)+6,0,100),stress:ca((se.stress??0)-10,0,100),energy:ca((se.energy??0)+4,0,100),fulfillment:ca((se.fulfillment??0)+5,0,100)}),{...R,cash:te,stats:se,eqCourse:V,eqPerks:ie}})},W=R=>{s(H=>{var te;const F=H.eqCourse??un,V=(F.failedAttempts??0)+1,ie=Math.max(F.bestScore??0,R);if(F.certified)return{...H,eqCourse:{...F,bestScore:ie}};if(V>=3){let se={...H};if(se.career){const he=se.career.path,ge=Ce[he];if((te=ge==null?void 0:ge.levels)!=null&&te.length){const ve=ge.levels[0];se={...se,career:{...se.career,level:1,title:ve.title,salary:ve.baseSalary,experience:0}}}else se={...se,career:{...se.career,level:1,experience:0}}}se.playerJob&&(se={...se,playerJob:{...se.playerJob,level:1,experience:0,title:se.playerJob.title||"Employee"}});const xe=se.cash-1e4;if(xe>=0)se={...se,cash:xe};else{const he=Math.abs(xe);se={...se,cash:0,liabilities:[...se.liabilities,{id:`eq-remediation-${Date.now()}`,name:"EQ Remediation Fee",balance:he,monthlyPayment:0,interestRate:0,type:"OTHER"}]}}return{...se,eqCourse:{...F,failedAttempts:0,bestScore:ie,certified:!1,rewardClaimed:!1}}}return{...H,eqCourse:{...F,failedAttempts:V,bestScore:ie}}})},Q=R=>{if(r)return;g(R),f(!0);const H=R===L.correctIndex,F=v+(H?1:0);b(F),Y(V=>[...V,{selected:R,correct:L.correctIndex}])},re=()=>{if(!r)return;if(u<j-1){h(F=>F+1),g(null),f(!1);return}const R=v,H=R===j;if(E(H?"pass":"fail"),o("results"),H)D();else{W(R);const F=(l.failedAttempts??0)+1;y(!i&&F>=3)}},k=Math.round(v/j*100);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-slate-800/60 border border-slate-700 rounded-2xl p-5",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(fi,{className:"text-emerald-300",size:20})," Upgrade your EQ"]}),e.jsx("p",{className:"text-sm text-slate-300 mt-1",children:"Get certified in people-skills. Win more deals. Get promoted faster. Avoid becoming the villain in your own group chat."})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-xl border ${i?"bg-emerald-600/15 border-emerald-500/30 text-emerald-200":"bg-slate-900/40 border-slate-700 text-slate-300"}`,children:[e.jsx(bi,{size:16})," ",i?"Certified":"Not certified"]}),!i&&e.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Attempts remaining before penalty: ",e.jsx("span",{className:"text-white font-semibold",children:Z.remaining})]})]})]})}),e.jsxs(it,{mode:"wait",children:[n==="intro"&&e.jsxs(ne.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},className:"bg-slate-800/60 border border-slate-700 rounded-2xl p-5",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("p",{className:"text-sm text-slate-200",children:[e.jsx("span",{className:"font-semibold text-white",children:"Rule:"})," You must score ",e.jsx("span",{className:"font-semibold text-emerald-200",children:"100% (15/15)"})," to earn the rewards."]}),e.jsxs("div",{className:"bg-slate-900/40 border border-slate-700 rounded-2xl p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:"If you pass (100%)"}),e.jsxs("ul",{className:"text-sm text-slate-300 mt-2 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"+ $25,000 cash reward (once per save)"}),e.jsx("li",{children:"+50% career growth (monthly career XP)"}),e.jsx("li",{children:"Bonus stats: Networking +12, Happiness +6, Stress ‚àí10, Energy +4, Fulfillment +5"})]})]}),e.jsxs("div",{className:"bg-slate-900/40 border border-amber-700/40 rounded-2xl p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-amber-200",children:"If you fail (anything less than 100%)"}),e.jsxs("ul",{className:"text-sm text-slate-300 mt-2 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"You can retry, but you must start from Question 1."}),e.jsx("li",{children:"After 3 failed attempts: demoted to Junior + $10,000 EQ fee."})]})]})]}),e.jsxs("div",{className:"bg-slate-900/40 border border-slate-700 rounded-2xl p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:"Your progress"}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-slate-800/60 border border-slate-700 rounded-2xl p-3",children:[e.jsx("p",{className:"text-xs text-slate-400",children:"Best score"}),e.jsxs("p",{className:"text-lg font-bold text-white",children:[l.bestScore,"/",j]})]}),e.jsxs("div",{className:"bg-slate-800/60 border border-slate-700 rounded-2xl p-3",children:[e.jsx("p",{className:"text-xs text-slate-400",children:"Failed attempts"}),e.jsx("p",{className:"text-lg font-bold text-white",children:i?"‚Äî":l.failedAttempts})]})]}),e.jsx("p",{className:"text-xs text-slate-400 mt-3",children:"Tip: If you‚Äôre already certified, you can still practice ‚Äî no penalties, no extra rewards."})]})]}),e.jsxs("div",{className:"mt-5 flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>G(),className:"px-4 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-white font-semibold",children:"Start EQ Certification"}),i&&e.jsx("button",{onClick:()=>G(),className:"px-4 py-2 rounded-xl bg-slate-700 hover:bg-slate-600 text-white font-semibold",children:"Practice Mode"})]})]},"intro"),n==="quiz"&&e.jsxs(ne.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},className:"bg-slate-800/60 border border-slate-700 rounded-2xl p-5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-slate-400",children:["Question ",u+1," of ",j]}),e.jsxs("p",{className:"text-sm font-semibold text-white",children:["Score: ",v,"/",j]})]}),e.jsx("div",{className:"w-48 bg-slate-900/50 border border-slate-700 rounded-full overflow-hidden h-2",children:e.jsx("div",{className:"h-2 bg-gradient-to-r from-emerald-600 to-emerald-400",style:{width:`${(u+1)/j*100}%`}})})]}),e.jsxs("div",{className:"mt-4 grid lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-900/40 border border-slate-700 rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"aspect-video bg-slate-950/30",children:e.jsx("img",{src:L.image,alt:"EQ question",className:"w-full h-full object-contain",loading:"lazy"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"text-sm text-slate-200 leading-relaxed",children:L.scenario}),e.jsx("p",{className:"text-base font-semibold text-white mt-3",children:L.question})]})]}),e.jsxs("div",{className:"space-y-3",children:[L.options.map((R,H)=>{const F=r&&H===L.correctIndex,V=r&&_===H&&H!==L.correctIndex;return e.jsx("button",{onClick:()=>Q(H),disabled:r,className:`w-full text-left px-4 py-3 rounded-2xl border transition-all ${F?"bg-emerald-600/15 border-emerald-500/40 text-emerald-100":V?"bg-rose-600/15 border-rose-500/40 text-rose-100":"bg-slate-900/40 border-slate-700 text-slate-200 hover:bg-slate-800/60"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-7 h-7 rounded-lg flex items-center justify-center text-xs font-bold ${F?"bg-emerald-500/20 text-emerald-200":V?"bg-rose-500/20 text-rose-200":"bg-slate-800 text-slate-300"}`,children:String.fromCharCode(65+H)}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm leading-relaxed",children:R})})]})},H)}),e.jsx(it,{children:r&&e.jsxs(ne.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:8},className:`rounded-2xl border p-4 ${_===L.correctIndex?"bg-emerald-600/10 border-emerald-500/30":"bg-rose-600/10 border-rose-500/30"}`,children:[e.jsxs("p",{className:"text-sm font-semibold text-white",children:[_===L.correctIndex?"Nice.":"Oof."," ",e.jsx("span",{className:"text-slate-300",children:L.skill})]}),e.jsx("p",{className:"text-sm text-slate-200 mt-2 leading-relaxed",children:L.explanation}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("button",{onClick:re,className:"px-4 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-white font-semibold",children:u===j-1?"Finish":"Next"}),e.jsx("button",{onClick:()=>{o("intro")},className:"px-4 py-2 rounded-xl bg-slate-700 hover:bg-slate-600 text-white font-semibold",children:"Quit"})]})]})})]})]})]},"quiz"),n==="results"&&e.jsxs(ne.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},className:"bg-slate-800/60 border border-slate-700 rounded-2xl p-5",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Result"}),e.jsxs("p",{className:"text-2xl font-bold text-white mt-1",children:[k,"%"]}),e.jsxs("p",{className:"text-sm text-slate-300 mt-1",children:["Score: ",v,"/",j]})]}),e.jsxs("div",{className:`px-4 py-2 rounded-2xl border ${P==="pass"?"bg-emerald-600/15 border-emerald-500/30 text-emerald-100":"bg-rose-600/15 border-rose-500/30 text-rose-100"}`,children:[e.jsx("p",{className:"text-sm font-semibold",children:P==="pass"?"Certified ‚úÖ":"Not certified ‚ùå"}),e.jsx("p",{className:"text-xs opacity-90",children:P==="pass"?"Rewards applied (if eligible)":"You must restart to retry"})]})]}),P==="pass"?e.jsxs("div",{className:"mt-4 bg-slate-900/40 border border-emerald-700/30 rounded-2xl p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:"Rewards"}),e.jsxs("ul",{className:"text-sm text-slate-300 mt-2 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"+$25,000 cash (once per save)"}),e.jsx("li",{children:"Career growth +50% (monthly career XP)"}),e.jsx("li",{children:"Networking +12, Happiness +6, Stress ‚àí10, Energy +4, Fulfillment +5"})]})]}):e.jsx("div",{className:"mt-4 bg-slate-900/40 border border-amber-700/40 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Sn,{className:"text-amber-200 mt-0.5",size:18}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-amber-200",children:"Certification requires 100%"}),e.jsx("p",{className:"text-sm text-slate-300 mt-1",children:"Retakes must start from Question 1."}),!i&&e.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Failed attempts: ",l.failedAttempts+1," / 3"]}),w&&!i&&e.jsx("p",{className:"text-sm text-rose-200 mt-2 font-semibold",children:"Penalty applied: demoted to Junior and charged $10,000."})]})]})}),e.jsxs("div",{className:"mt-5 flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>{o("intro")},className:"px-4 py-2 rounded-xl bg-slate-700 hover:bg-slate-600 text-white font-semibold",children:"Back"}),P==="fail"&&e.jsxs("button",{onClick:()=>G(),className:"px-4 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-white font-semibold flex items-center gap-2",children:[e.jsx(fa,{size:16})," Start over"]}),P==="pass"&&e.jsxs("button",{onClick:()=>G(),className:"px-4 py-2 rounded-xl bg-slate-700 hover:bg-slate-600 text-white font-semibold flex items-center gap-2",children:[e.jsx(fa,{size:16})," Practice again"]})]})]},"results")]})]})}const Wa=5e4,mn=25e3,nm=.05,rm=.03,om=[{title:"1) Prep like a pro (BATNA + walk-away)",bullets:["Define your BATNA (best alternative) before you speak to anyone.","Set a walk-away number and write it down (no ‚Äúvibes-based‚Äù decisions).","Collect objective anchors: comps, quotes, invoices, market rates."],microDrill:"Write your BATNA + walk-away in one sentence. If you can‚Äôt, you‚Äôre not ready."},{title:"2) Anchor & frame (start strong, stay calm)",bullets:["Anchor early with a justified number (never apologize for an anchor).","Frame in packages: price + timeline + terms.","Use neutral language: ‚ÄúBased on comparable deals‚Ä¶‚Äù"],microDrill:"Practice a 10-second anchor: number + 1 justification + pause."},{title:"3) Concessions are trades (never give for free)",bullets:["Concede slowly and label your concessions (‚ÄúIf I do X, can you do Y?‚Äù).","Trade low-cost items for high-value items (timing, deposit, add-ons).","Keep a ‚Äúgive list‚Äù and a ‚Äúget list‚Äù."],microDrill:"Rewrite 3 ‚Äúdiscount‚Äù requests as trades (price ‚Üî terms)."},{title:"4) Emotional control & rapport",bullets:["Listen first: summarize their position before you counter.","Separate people from the problem (respect the person, challenge the terms).","Use questions to move the deal: ‚ÄúHelp me understand‚Ä¶‚Äù"],microDrill:"Use this script once today: ‚ÄúIt sounds like‚Ä¶ Did I get that right?‚Äù"},{title:"5) Close & protect the win",bullets:["Confirm the full agreement (price, timeline, scope, responsibilities).","Get it in writing fast ‚Äî recap email / contract draft.","Create next steps and deadlines so momentum doesn‚Äôt die."],microDrill:"Write a 4-line recap: ‚ÄúWe agreed on‚Ä¶ Next step‚Ä¶ Owner‚Ä¶ Deadline‚Ä¶‚Äù"}],lm=[{id:"mn_q1",image:"/event-images/supplier_price_increase.webp",skill:"Prep & objective criteria",scenario:"A supplier just announced a sudden 12% price increase. You still want to keep the relationship, but your margins can‚Äôt absorb it.",question:"What is your best opening move?",options:["Threaten to cancel on the spot so they panic and fold.","Ask for their rationale, pull benchmarks, and counter with objective data.","Accept the increase and promise yourself you will fix it later.","Complain about fairness and demand they ‚Äúbe reasonable.‚Äù"],correctIndex:1,explanation:"Start by understanding their drivers, then anchor with objective criteria (comparable quotes, volume history, payment terms). This protects the relationship and strengthens your leverage."},{id:"mn_q2",image:"/event-images/salary_negotiation.webp",skill:"Anchoring",scenario:"You‚Äôre buying a property. The seller is nervous and keeps asking what you ‚Äúcan do today.‚Äù You have done your comps and know the fair range.",question:"How should you present your first number?",options:["Open with a justified anchor, then pause and let the silence work.","Ask for their best price and keep repeating ‚ÄúWhat‚Äôs your lowest?‚Äù","Offer your max immediately to ‚Äúwin the deal quickly.‚Äù","Avoid numbers and talk about how the home makes you feel."],correctIndex:0,explanation:"A calm, justified anchor sets the frame. Silence is a tool ‚Äî don‚Äôt negotiate against yourself."},{id:"mn_q3",image:"/event-images/contract_dispute.webp",skill:"Concession trading",scenario:"The other party demands a discount and says, ‚ÄúIf you want this deal, you must drop your price.‚Äù",question:"What‚Äôs the most effective response?",options:["‚ÄúNo. Final.‚Äù","‚ÄúOkay, I‚Äôll drop it‚Ä¶ just sign.‚Äù","‚ÄúIf I reduce price, what can you improve on your side (timeline, volume, payment terms)?‚Äù","Ignore it and continue talking about features."],correctIndex:2,explanation:"Concessions should be traded, not given. You protect value and move toward agreement by swapping variables."},{id:"mn_q4",image:"/event-images/medical_bill_negotiation.webp",skill:"De-escalation & control",scenario:"A client is angry and sends a harsh email threatening to leave. You‚Äôre in the right, but the relationship matters.",question:"What is the best first reply?",options:["Respond immediately with a detailed defense and attach screenshots proving you‚Äôre right.","Acknowledge their frustration, summarize the issue, and propose a short call.","Ignore it for a day so they cool down.","Tell them they are being unreasonable and you won‚Äôt tolerate it."],correctIndex:1,explanation:"Rapport first. Emotional control prevents escalation and creates space to negotiate the solution."},{id:"mn_q5",image:"/event-images/property_dispute.webp",skill:"BATNA & walk-away",scenario:"A deal is close, but the numbers no longer work. You feel pressure because you already invested time and energy.",question:"What should guide your decision?",options:["Your sunk cost ‚Äî you‚Äôve already spent time, so you must finish.","Your walk-away number and BATNA (your best alternative).","The other person‚Äôs emotions ‚Äî keep them happy at all costs.","A coin flip so you don‚Äôt have to decide."],correctIndex:1,explanation:"Sunk costs are irrelevant. Walk-away and BATNA protect you from bad deals and regret."},{id:"mn_q6",image:"/event-images/job_offer_relocation.webp",skill:"Relationship leverage",scenario:"You want better terms, but you‚Äôre negotiating with someone who doesn‚Äôt fully trust you yet.",question:"Which action strengthens your position the most?",options:["Build rapport by asking smart questions, showing reliability, and creating small wins.","Talk about yourself nonstop so they see you‚Äôre impressive.","Push hard immediately so they know you‚Äôre ‚Äúnot to be messed with.‚Äù","Avoid all conversation and only send numbers."],correctIndex:0,explanation:"Trust creates flexibility. Strong relationships expand the deal pie and reduce friction on terms."},{id:"mn_q7",image:"/event-images/business_partner_dispute.webp",skill:"Framing your offer",scenario:"You‚Äôre about to present your offer to a group. You know your number is fair, but you worry they‚Äôll react emotionally.",question:"What‚Äôs the best framing tactic?",options:["Start with your number + objective justification + benefits, then stop talking.","Start by saying ‚ÄúI know this is low, sorry‚Ä¶‚Äù so they don‚Äôt get mad.","Avoid the number until the end so they can‚Äôt judge you.","Use vague language and hope they guess what you want."],correctIndex:0,explanation:"Lead with confident structure: number, justification, value. Apologies weaken your anchor."},{id:"mn_q8",image:"/event-images/rent_increase.webp",skill:"Avoiding urgency traps",scenario:"They say: ‚ÄúThis offer expires today ‚Äî decide now or lose it.‚Äù You feel the pressure.",question:"What is the smartest move?",options:["Say yes immediately so you don‚Äôt miss out.","Slow down, check your BATNA, and ask what changes if you decide tomorrow.","Insult them for using pressure tactics.","Ghost them and hope they come back with a better deal."],correctIndex:1,explanation:"Urgency is often a tactic. You keep control by slowing down, validating alternatives, and negotiating the timeline/terms."},{id:"mn_q9",image:"/event-images/landlord_dispute.webp",skill:"Internal negotiation",scenario:"Your team is overloaded. A stakeholder wants ‚Äújust one more feature‚Äù with no extra time or budget.",question:"What is the best negotiation approach?",options:["Agree, then push the team harder.","Refuse without explanation.","Offer choices: keep scope but extend timeline, or keep timeline but reduce scope.","Complain about the stakeholder to your team."],correctIndex:2,explanation:"Trade-offs are the currency of negotiation. Presenting options keeps collaboration while protecting constraints."},{id:"mn_q10",image:"/event-images/key_client_leaves.webp",skill:"Confidence under comparison",scenario:"You learn your competitor ‚Äúsupposedly‚Äù offered a better price. The other side uses it to pressure you.",question:"What‚Äôs the best response?",options:["Immediately match or beat the price with no questions.","Ask for specifics (scope/terms) and re-anchor to value + objective comparisons.","Call the competitor dishonest.","End the negotiation and walk away forever."],correctIndex:1,explanation:"Clarify the real comparison. Competitor claims are often vague. Re-anchor to terms, value, and objective criteria."}];function Xo(t){const s=[...t];for(let l=s.length-1;l>0;l--){const i=Math.floor(Math.random()*(l+1));[s[l],s[i]]=[s[i],s[l]]}return s}function Zo(){return Xo(lm).map(s=>{const l=s.options.map((o,u)=>({text:o,idx:u})),i=Xo(l),n=i.findIndex(o=>o.idx===s.correctIndex);return{...s,options:i.map(o=>o.text),correctIndex:n}})}const hn={certified:!1,rewardClaimed:!1,failedAttempts:0,bestScore:0};function cm({gameState:t,setGameState:s,saveGame:l,showNotif:i,setFloatingNumbers:n,formatMoneyFull:o,playMoneyGain:u,playMoneyLoss:h}){const[v,b]=d.useState("intro"),[_,g]=d.useState(()=>Zo()),[r,f]=d.useState(0),[S,Y]=d.useState(null),[P,E]=d.useState(!1),[w,y]=d.useState(0),[C,M]=d.useState(null),[j,L]=d.useState(!1),Z=t.negotiationsCourse??hn,G=!!Z.certified,D=_.length,W=_[r],Q=d.useMemo(()=>D===0?0:Math.round(w/D*100),[w,D]);function re(){g(Zo()),f(0),Y(null),E(!1),y(0),M(null),L(!1),b("quiz")}function k(V){if(P)return;Y(V),E(!0),V===W.correctIndex&&y(te=>te+1)}function R(){var te,se;const V=!!((te=t.negotiationsCourse)!=null&&te.rewardClaimed),ie=!!((se=t.negotiationsCourse)!=null&&se.certified);s(de=>{var he,ge,ve,we,Ee,pe,be;const xe={...de,negotiationsCourse:{certified:!0,rewardClaimed:((he=de.negotiationsCourse)==null?void 0:he.rewardClaimed)??!1,failedAttempts:0,bestScore:Math.max(((ge=de.negotiationsCourse)==null?void 0:ge.bestScore)??0,D)},negotiationsPerks:{dealDiscountPct:nm,saleBonusPct:rm},stats:{...de.stats,networking:Math.min(100,(((ve=de.stats)==null?void 0:ve.networking)??50)+10),happiness:Math.min(100,(((we=de.stats)==null?void 0:we.happiness)??50)+4),stress:Math.max(0,(((Ee=de.stats)==null?void 0:Ee.stress)??50)-6),energy:Math.min(100,(((pe=de.stats)==null?void 0:pe.energy)??50)+2),fulfillment:Math.min(100,(((be=de.stats)==null?void 0:be.fulfillment)??50)+4)}};return V?!ie&&i&&i("Master Negotiations ‚Äî Certified ‚úÖ","Certification saved. Bonus was already claimed in this save slot.","info"):(xe.cash=Math.max(0,(de.cash??0)+Wa),xe.negotiationsCourse={...xe.negotiationsCourse,rewardClaimed:!0},u&&u(),n&&n($=>[...$,{id:`mn_bonus_${Date.now()}`,value:Wa}]),i&&i("Master Negotiations ‚Äî Certified ‚úÖ",`Bonus awarded: +${o?o(Wa):"$50,000"} (one-time). Permanent deal perks unlocked.`,"success")),l&&l(xe),xe})}function H(V){if(G){s(ie=>{var se;const te={...ie,negotiationsCourse:{...ie.negotiationsCourse??hn,bestScore:Math.max(((se=ie.negotiationsCourse)==null?void 0:se.bestScore)??0,V)}};return l&&l(te),te});return}s(ie=>{const te=ie.negotiationsCourse??hn,se=(te.failedAttempts??0)+1,de=se>=3,xe={...ie,negotiationsCourse:{certified:!1,rewardClaimed:te.rewardClaimed??!1,failedAttempts:de?0:se,bestScore:Math.max(te.bestScore??0,V)}};return de?(xe.cash=Math.max(0,(ie.cash??0)-mn),L(!0),h&&h(),n&&n(he=>[...he,{id:`mn_penalty_${Date.now()}`,value:-mn}]),i&&i("Master Negotiations ‚Äî Penalty applied",`You failed 3 times. Penalty: -${o?o(mn):"$25,000"}.`,"warning")):i&&i("Master Negotiations ‚Äî Not certified yet",`Attempt ${se}/3. You need 100% to pass.`,"info"),l&&l(xe),xe})}function F(){if(!P)return;if(!(r>=D-1)){f(se=>se+1),Y(null),E(!1);return}const ie=w,te=ie===D;M(te?"pass":"fail"),b("results"),te?R():H(ie)}return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-slate-900/50 border border-slate-700 rounded-2xl p-5",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Master Negotiations"}),e.jsx("p",{className:"text-sm text-slate-300 mt-1",children:"Learn a repeatable deal framework, then pass the certification quiz."})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("div",{className:`px-3 py-2 rounded-xl border ${G?"bg-emerald-600/10 border-emerald-500/30 text-emerald-100":"bg-slate-800/60 border-slate-700 text-slate-200"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bi,{size:16}),e.jsx("span",{className:"text-sm font-semibold",children:G?"Certified":"Not certified"})]})})})]}),e.jsxs("div",{className:"mt-4 grid md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-slate-800/60 border border-slate-700 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-200",children:[e.jsx(vd,{size:18}),e.jsx("p",{className:"text-sm font-semibold",children:"Pass reward"})]}),e.jsxs("p",{className:"text-sm text-slate-300 mt-2",children:["Get 100% and earn ",e.jsx("span",{className:"text-emerald-200 font-semibold",children:"+$50,000"})," (once per save)."]})]}),e.jsxs("div",{className:"bg-slate-800/60 border border-slate-700 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-200",children:[e.jsx(ii,{size:18}),e.jsx("p",{className:"text-sm font-semibold",children:"Permanent perks"})]}),e.jsxs("p",{className:"text-sm text-slate-300 mt-2",children:["After certification: ",e.jsx("span",{className:"text-emerald-200 font-semibold",children:"5% cheaper"})," REAL_ESTATE/BUSINESS buys and ",e.jsx("span",{className:"text-emerald-200 font-semibold",children:"3% higher"})," sale proceeds."]})]}),e.jsxs("div",{className:"bg-slate-800/60 border border-slate-700 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-200",children:[e.jsx(Sn,{size:18}),e.jsx("p",{className:"text-sm font-semibold",children:"Fail rule"})]}),e.jsxs("p",{className:"text-sm text-slate-300 mt-2",children:["If you fail ",e.jsx("span",{className:"text-rose-200 font-semibold",children:"3 times"}),", you lose ",e.jsx("span",{className:"text-rose-200 font-semibold",children:"$25,000"}),"."]})]})]})]}),e.jsxs(it,{mode:"wait",children:[v==="intro"&&e.jsxs(ne.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},className:"bg-slate-800/60 border border-slate-700 rounded-2xl p-5",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-900/40 border border-slate-700 rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"aspect-video bg-slate-950/30",children:e.jsx("img",{src:"/event-images/salary_negotiation.webp",alt:"Negotiation hero",className:"w-full h-full object-contain",loading:"lazy"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"text-sm text-slate-200 leading-relaxed",children:"Negotiation is a money skill. Mastering anchors, trades, and calm communication improves your deals across the entire game."}),e.jsxs("div",{className:"mt-4 bg-slate-950/30 border border-slate-700 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bs,{size:18,className:"text-slate-200"}),e.jsx("p",{className:"text-sm font-semibold text-white",children:"Quick checklist"})]}),e.jsxs("ul",{className:"text-sm text-slate-300 mt-2 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Pass requires 100% correct"}),e.jsx("li",{children:"Questions + answer letters shuffle each run"}),e.jsx("li",{children:"After you‚Äôre certified: practice mode has no penalties"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qt,{size:18,className:"text-slate-200"}),e.jsx("p",{className:"text-sm font-semibold text-white",children:"What you‚Äôll learn"})]}),e.jsx("div",{className:"space-y-2",children:om.map(V=>e.jsxs("div",{className:"bg-slate-900/40 border border-slate-700 rounded-2xl p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:V.title}),e.jsx("ul",{className:"text-sm text-slate-300 mt-2 space-y-1 list-disc list-inside",children:V.bullets.map((ie,te)=>e.jsx("li",{children:ie},te))}),e.jsxs("p",{className:"text-xs text-slate-400 mt-3",children:[e.jsx("span",{className:"text-slate-300 font-semibold",children:"Micro-drill:"})," ",V.microDrill]})]},V.title))}),e.jsx("p",{className:"text-xs text-slate-400",children:"Tip: If you‚Äôre already certified, you can still practice ‚Äî no penalties, no extra rewards."})]})]}),e.jsxs("div",{className:"mt-5 flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>re(),className:"px-4 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-white font-semibold",children:"Start Negotiation Certification"}),G&&e.jsx("button",{onClick:()=>re(),className:"px-4 py-2 rounded-xl bg-slate-700 hover:bg-slate-600 text-white font-semibold",children:"Practice Mode"})]})]},"intro"),v==="quiz"&&e.jsxs(ne.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},className:"bg-slate-800/60 border border-slate-700 rounded-2xl p-5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-slate-400",children:["Question ",r+1," of ",D]}),e.jsxs("p",{className:"text-sm font-semibold text-white",children:["Score: ",w,"/",D]})]}),e.jsx("div",{className:"w-48 bg-slate-900/50 border border-slate-700 rounded-full overflow-hidden h-2",children:e.jsx("div",{className:"h-2 bg-gradient-to-r from-emerald-600 to-emerald-400",style:{width:`${(r+1)/D*100}%`}})})]}),e.jsxs("div",{className:"mt-4 grid lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-900/40 border border-slate-700 rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"aspect-video bg-slate-950/30",children:e.jsx("img",{src:W.image,alt:"Negotiation question",className:"w-full h-full object-contain",loading:"lazy"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"text-sm text-slate-200 leading-relaxed",children:W.scenario}),e.jsx("p",{className:"text-base font-semibold text-white mt-3",children:W.question})]})]}),e.jsxs("div",{className:"space-y-3",children:[W.options.map((V,ie)=>{const te=P&&ie===W.correctIndex,se=P&&S===ie&&ie!==W.correctIndex;return e.jsx("button",{onClick:()=>k(ie),disabled:P,className:`w-full text-left px-4 py-3 rounded-2xl border transition-all ${te?"bg-emerald-600/15 border-emerald-500/40 text-emerald-100":se?"bg-rose-600/15 border-rose-500/40 text-rose-100":"bg-slate-900/40 border-slate-700 text-slate-200 hover:bg-slate-800/60"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-7 h-7 rounded-lg flex items-center justify-center text-xs font-bold ${te?"bg-emerald-500/20 text-emerald-200":se?"bg-rose-500/20 text-rose-200":"bg-slate-800 text-slate-300"}`,children:String.fromCharCode(65+ie)}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm leading-relaxed",children:V})})]})},ie)}),e.jsx(it,{children:P&&e.jsxs(ne.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:8},className:`rounded-2xl border p-4 ${S===W.correctIndex?"bg-emerald-600/10 border-emerald-500/30":"bg-rose-600/10 border-rose-500/30"}`,children:[e.jsxs("p",{className:"text-sm font-semibold text-white",children:[S===W.correctIndex?"Nice.":"Not quite."," ",e.jsx("span",{className:"text-slate-300",children:W.skill})]}),e.jsx("p",{className:"text-sm text-slate-200 mt-2 leading-relaxed",children:W.explanation}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("button",{onClick:F,className:"px-4 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-white font-semibold",children:r===D-1?"Finish":"Next"}),e.jsx("button",{onClick:()=>{b("intro")},className:"px-4 py-2 rounded-xl bg-slate-700 hover:bg-slate-600 text-white font-semibold",children:"Quit"})]})]})})]})]})]},"quiz"),v==="results"&&e.jsxs(ne.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},className:"bg-slate-800/60 border border-slate-700 rounded-2xl p-5",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Result"}),e.jsxs("p",{className:"text-2xl font-bold text-white mt-1",children:[Q,"%"]}),e.jsxs("p",{className:"text-sm text-slate-300 mt-1",children:["Score: ",w,"/",D]})]}),e.jsxs("div",{className:`px-4 py-2 rounded-2xl border ${C==="pass"?"bg-emerald-600/15 border-emerald-500/30 text-emerald-100":"bg-rose-600/15 border-rose-500/30 text-rose-100"}`,children:[e.jsx("p",{className:"text-sm font-semibold",children:C==="pass"?"Certified ‚úÖ":"Not certified ‚ùå"}),e.jsx("p",{className:"text-xs opacity-90",children:C==="pass"?"Rewards applied (if eligible)":"You must restart to retry"})]})]}),C==="pass"?e.jsxs("div",{className:"mt-4 bg-slate-900/40 border border-emerald-700/30 rounded-2xl p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:"Rewards & perks"}),e.jsxs("ul",{className:"text-sm text-slate-300 mt-2 space-y-1 list-disc list-inside",children:[e.jsxs("li",{children:["+$",Wa.toLocaleString()," cash (once per save)"]}),e.jsx("li",{children:"Permanent: 5% cheaper REAL_ESTATE & BUSINESS buys"}),e.jsx("li",{children:"Permanent: 3% higher REAL_ESTATE & BUSINESS sale proceeds"}),e.jsx("li",{children:"Networking +10, Happiness +4, Stress ‚àí6, Energy +2, Fulfillment +4"})]})]}):e.jsx("div",{className:"mt-4 bg-slate-900/40 border border-amber-700/40 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Sn,{className:"text-amber-200 mt-0.5",size:18}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-amber-200",children:"Certification requires 100%"}),e.jsx("p",{className:"text-sm text-slate-300 mt-1",children:"Retakes must start from Question 1."}),!G&&e.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Failed attempts: ",Z.failedAttempts+1," / 3"]}),j&&!G&&e.jsx("p",{className:"text-sm text-rose-200 mt-2 font-semibold",children:"Penalty applied: ‚àí$25,000."})]})]})}),e.jsxs("div",{className:"mt-5 flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>{b("intro")},className:"px-4 py-2 rounded-xl bg-slate-700 hover:bg-slate-600 text-white font-semibold",children:"Back"}),C==="fail"&&e.jsxs("button",{onClick:()=>re(),className:"px-4 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-white font-semibold flex items-center gap-2",children:[e.jsx(fa,{size:16})," Start over"]}),C==="pass"&&e.jsxs("button",{onClick:()=>re(),className:"px-4 py-2 rounded-xl bg-slate-700 hover:bg-slate-600 text-white font-semibold flex items-center gap-2",children:[e.jsx(fa,{size:16})," Practice again"]})]})]},"results")]})]})}const sc=({gameState:t,setGameState:s,formatMoney:l})=>{var _;const{t:i}=Dt(),[n,o]=d.useState("sales"),[u,h]=d.useState(!1),v=[{id:"sales",label:i("selfLearn.salesTraining"),icon:e.jsx(Ds,{size:16})},{id:"eq",label:i("tabs.upgradeEq"),icon:e.jsx(Ln,{size:16})},{id:"negotiations",label:i("tabs.negotiations"),icon:e.jsx(Bs,{size:16})}],b=((_=v.find(g=>g.id===n))==null?void 0:_.label)??"";return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-300 text-xs uppercase tracking-wide",children:[e.jsx(Qt,{size:14}),e.jsx("span",{children:i("tabs.selfLearn")})]})}),e.jsx("div",{className:"flex flex-wrap items-center gap-2 mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>h(g=>!g),className:"px-4 py-2 rounded-xl text-sm font-semibold border bg-slate-900/60 border-slate-700 text-slate-200 flex items-center gap-2","aria-expanded":u,"aria-haspopup":"listbox",children:[b,e.jsx(yl,{size:16,className:`transition-transform ${u?"rotate-180":""}`})]}),u&&e.jsx("div",{role:"listbox",className:"absolute mt-2 w-56 rounded-xl border border-slate-700 bg-slate-900 shadow-xl p-2 z-10",children:v.map(g=>e.jsxs("button",{onClick:()=>{o(g.id),h(!1)},role:"option","aria-selected":n===g.id,className:`w-full text-left px-3 py-2 rounded-lg text-sm font-semibold flex items-center gap-2 transition-all ${n===g.id?"bg-emerald-600/20 text-emerald-100":"text-slate-200 hover:bg-slate-800/60"}`,children:[g.icon,g.label]},g.id))})]})}),n==="sales"&&e.jsx(am,{gameState:t,setGameState:s,formatMoney:l}),n==="eq"&&e.jsx(im,{gameState:t,setGameState:s}),n==="negotiations"&&e.jsx(cm,{gameState:t,setGameState:s})]})},dm={cash:"border-emerald-500/30 bg-emerald-900/40 text-emerald-100",networth:"border-slate-700 bg-slate-900/60 text-white",passive:"border-amber-500/30 bg-amber-900/40 text-amber-100"},pn=({label:t,value:s,tone:l="networth"})=>e.jsxs("div",{className:`rounded-full border px-4 py-3 min-w-[180px] ${dm[l]}`,children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-white/60",children:t}),e.jsx("p",{className:"text-lg font-semibold mt-1",children:s})]}),um=({playerName:t,year:s,month:l,avatarColor:i,avatarImage:n,avatarEmoji:o,isProcessing:u,nextMonthDisabled:h,onNextMonth:v,autoplayEnabled:b,autoplayLabel:_,autoplayTooltip:g,autoplaySpeed:r,autoplaySpeedOptions:f,autoplaySpeedLabels:S,onToggleAutoplay:Y,onSetAutoplaySpeed:P})=>e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`h-12 w-12 rounded-2xl bg-gradient-to-br ${i||"from-slate-500 to-slate-600"} flex items-center justify-center text-2xl overflow-hidden`,children:n?e.jsx("img",{src:n,alt:t,className:"h-full w-full object-cover"}):o||"üë§"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Player"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:t}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Year ",s," ‚Ä¢ Month ",l]})]})]}),e.jsx("div",{className:"flex flex-1 justify-center",children:e.jsx(ne.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs($e,{variant:"primary",size:"lg",onClick:v,disabled:h,className:"px-6",title:"Next Month (N)",children:[u?e.jsx(ha,{size:18,className:"animate-spin"}):e.jsx(Is,{size:18}),e.jsx("span",{children:"Next Month"})]})})}),e.jsxs("div",{className:"flex flex-col items-start gap-2 sm:items-end",children:[e.jsxs($e,{variant:"secondary",size:"sm",onClick:Y,title:`${g} ‚Ä¢ Shortcut: T`,"aria-label":"Autoplay toggle","aria-pressed":b,className:b?"border-amber-500/40 text-amber-200 bg-amber-600/20":"",children:[b?e.jsx(En,{size:16}):e.jsx(ha,{size:16}),e.jsx("span",{className:"text-sm font-semibold",children:"Autoplay"}),e.jsx("span",{className:`text-xs font-semibold ${b?"text-amber-200":"text-slate-400"}`,children:_})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:f.map(E=>{const w=S[E]||"1x",y=r===E;return e.jsx("button",{onClick:()=>P(E),disabled:!b,"aria-pressed":y,className:`px-2 py-1 rounded-lg text-xs font-semibold border transition-all ${b?y?"bg-amber-600/30 border-amber-500/50 text-amber-100":"bg-slate-800 border-slate-700 text-slate-300 hover:text-white":"bg-slate-800 border-slate-700 text-slate-500 cursor-not-allowed"}`,children:w},E)})})]})]}),mm=t=>{switch(t.id){case"OVERTIME":return e.jsx(ni,{size:18,className:"text-emerald-300"});case"NETWORK":return e.jsx(Bs,{size:18,className:"text-blue-300"});case"TRAINING":return e.jsx(Qt,{size:18,className:"text-amber-300"});case"HUSTLE_SPRINT":return e.jsx(Ds,{size:18,className:"text-purple-300"});case"RECOVER":return e.jsx(Ln,{size:18,className:"text-pink-300"});default:return null}},hm=({action:t,onSelectAction:s})=>e.jsxs("button",{type:"button",onClick:()=>s(t.id),disabled:t.disabled,className:`rounded-2xl border p-4 text-left transition-all ${t.disabled?"cursor-not-allowed border-slate-800/60 bg-slate-900/30 text-slate-500":"border-slate-800 bg-slate-900/50 hover:border-emerald-400/40 hover:bg-slate-900/70"}`,children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5",children:mm(t)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:t.title}),e.jsx("p",{className:"mt-1 text-xs text-slate-400",children:t.subtitle})]})]}),e.jsx("p",{className:"mt-3 text-xs text-slate-400",children:t.details}),t.disabledReason&&e.jsx("p",{className:"mt-2 text-xs text-rose-300",children:t.disabledReason})]}),pm=({summary:t,onSelectAction:s,onOpenDrawer:l})=>{const i=t.actions.slice(0,4);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold",children:"Monthly Actions"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Spend actions to boost income, skills, or recovery."})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-slate-400",children:"Actions Remaining"}),e.jsxs("p",{className:"text-lg font-semibold text-white",children:[t.remaining," / ",t.max]}),e.jsx("p",{className:"text-xs text-slate-500",children:t.reason})]})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.map(n=>e.jsx(hm,{action:n,onSelectAction:s},n.id))}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"button",onClick:l,title:"Open actions (A)",className:"inline-flex items-center gap-2 rounded-full border border-slate-700 px-4 py-2 text-xs font-semibold text-slate-200 hover:border-slate-500 hover:text-white",children:["View All Actions",e.jsx(vl,{size:14})]})})]})},gm=t=>{switch(t.id){case"OVERTIME":return e.jsx(ni,{size:18,className:"text-emerald-300"});case"NETWORK":return e.jsx(Bs,{size:18,className:"text-blue-300"});case"TRAINING":return e.jsx(Qt,{size:18,className:"text-amber-300"});case"HUSTLE_SPRINT":return e.jsx(Ds,{size:18,className:"text-purple-300"});case"RECOVER":return e.jsx(Ln,{size:18,className:"text-pink-300"});default:return null}},xm=[{id:"all",label:"All"},{id:"income",label:"Income"},{id:"growth",label:"Growth"},{id:"recovery",label:"Recovery"}],fm=({isOpen:t,onClose:s,summary:l,onSelectAction:i})=>{const[n,o]=d.useState("all"),u=d.useMemo(()=>n==="all"?l.actions:l.actions.filter(h=>h.category===n),[n,l.actions]);return e.jsx(Re,{isOpen:t,onClose:s,ariaLabel:"All Monthly Actions",closeOnOverlayClick:!0,closeOnEsc:!0,contentClassName:"bg-slate-900 border border-slate-800 rounded-3xl p-6 max-w-3xl w-full",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Monthly Actions"}),e.jsxs("p",{className:"text-xs text-slate-400",children:[l.remaining," / ",l.max," remaining ‚Ä¢ ",l.reason]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[e.jsx(wd,{size:14}),e.jsx("span",{children:"Filter"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:xm.map(h=>e.jsx("button",{type:"button",onClick:()=>o(h.id),className:`rounded-full border px-3 py-1 text-xs font-semibold transition ${n===h.id?"border-white bg-white text-slate-900":"border-slate-700 text-slate-200 hover:border-slate-500"}`,children:h.label},h.id))}),e.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:u.map(h=>e.jsxs("button",{type:"button",onClick:()=>{h.disabled||(i(h.id),s())},disabled:h.disabled,className:`rounded-2xl border p-4 text-left transition ${h.disabled?"cursor-not-allowed border-slate-800/60 bg-slate-900/30 text-slate-500":"border-slate-800 bg-slate-900/50 hover:border-emerald-400/40 hover:bg-slate-900/70"}`,children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5",children:gm(h)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:h.title}),e.jsx("p",{className:"mt-1 text-xs text-slate-400",children:h.subtitle})]})]}),e.jsx("p",{className:"mt-3 text-xs text-slate-400",children:h.details}),h.disabledReason&&e.jsx("p",{className:"mt-2 text-xs text-rose-300",children:h.disabledReason})]},h.id))})]})})},bm=({events:t,limit:s=10})=>{const{t:l}=Dt(),i=t.slice(0,s);return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:l("events.recentTitle")}),e.jsxs("span",{className:"text-xs text-slate-500",children:[i.length," shown"]})]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-1",children:i.length===0?e.jsx("p",{className:"text-sm text-slate-400",children:"Advance a month to trigger events."}):i.map(n=>e.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-slate-800/70 bg-slate-900/40 p-3",children:[e.jsxs("span",{className:"text-xs font-mono text-slate-500 whitespace-nowrap",children:["M",n.month]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-white truncate",children:l(n.title)}),e.jsx("p",{className:"text-xs text-slate-400 truncate",children:l(n.description)})]})]},n.id))})]})},el=(t,s)=>{if(!t)return"";const l=[];if(typeof t.cash=="number"&&t.cash!==0){const i=ya(Math.abs(t.cash),{maximumFractionDigits:0});l.push(s("quests.reward.cash",{value:`${t.cash>=0?"+":"-"}${i}`}))}return typeof t.creditRating=="number"&&t.creditRating!==0&&l.push(s("quests.reward.credit",{value:`${t.creditRating>=0?"+":"-"}${di(Math.round(Math.abs(t.creditRating)))}`})),t.stats&&Object.entries(t.stats).forEach(([i,n])=>{typeof n!="number"||n===0||l.push(s("quests.reward.stat",{value:`${n>=0?"+":""}${di(Math.round(n))}`,stat:s(`stats.${i}`)}))}),l.join(" ‚Ä¢ ")},ym=(t,s)=>t?t.unit==="money"?s("quests.progressMoney",{current:ya(t.current,{maximumFractionDigits:0}),target:ya(t.target,{maximumFractionDigits:0})}):t.unit==="months"?s("quests.progressMonths",{current:t.current.toFixed(1),target:t.target.toFixed(1)}):s("quests.progressScore",{current:di(Math.round(t.current)),target:di(Math.round(t.target))}):"",vm=({gameState:t,isProcessing:s,onClaimQuest:l,onOpenGoals:i})=>{var g;const{t:n}=Dt(),o=t.quests||Pt((g=t.character)==null?void 0:g.id),u=o.readyToClaim||[],h=o.active||[],v=u.slice(0,1),b=v.length>0?1:2,_=h.filter(r=>!v.includes(r)).slice(0,b);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:n("quests.sectionTitle")}),e.jsx("p",{className:"text-xs text-slate-400",children:n("quests.sectionSubtitle")})]}),e.jsx("button",{type:"button",onClick:i,className:"text-xs font-semibold text-emerald-200 hover:text-emerald-100",children:"View all goals"})]}),v.length>0&&e.jsx("div",{className:"rounded-2xl border border-emerald-600/30 bg-emerald-900/20 p-4",children:v.map(r=>{const f=Ot(r);return f?e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(Rs,{size:16,className:"text-emerald-400"}),n(f.title)]}),e.jsx("p",{className:"text-xs text-slate-300 mt-1",children:n(f.description)}),e.jsxs("p",{className:"text-xs text-emerald-200 mt-2",children:[n("quests.rewardLabel")," ",el(f.reward,n)]})]}),e.jsx("button",{type:"button",onClick:()=>l(r),disabled:s,className:`self-start rounded-lg border px-3 py-2 text-xs font-semibold transition ${s?"cursor-not-allowed border-slate-700/60 bg-slate-900/30 text-slate-500":"border-emerald-500/40 bg-emerald-600/20 text-emerald-100 hover:border-emerald-400/70 hover:bg-emerald-600/30"}`,children:n("quests.claim")})]},r):null})}),e.jsx("div",{className:"space-y-3",children:_.length===0?e.jsx("p",{className:"text-sm text-slate-400",children:"No active goals yet. Advance time to unlock new quests."}):_.map(r=>{const f=ui(t,r);if(!f)return null;const S=Math.round(f.progress*100);return e.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/40 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(wl,{size:16,className:"text-amber-300"}),n(f.quest.title)]}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:n(f.quest.description)}),e.jsxs("p",{className:"text-xs text-amber-200 mt-2",children:[n("quests.rewardLabel")," ",el(f.quest.reward,n)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-slate-400",children:n("quests.progress")}),e.jsxs("p",{className:"text-sm font-semibold text-white",children:[S,"%"]}),e.jsx("p",{className:"text-xs text-slate-500",children:ym(f,n)})]})]}),e.jsx("div",{className:"mt-3 h-2 rounded-full bg-slate-800",children:e.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-amber-500 to-emerald-400",style:{width:`${S}%`}})})]},r)})})]})},wm=(t,s)=>s||t==="BEAR"||t==="CRASH"?"Volatile":"Stable",Nm=({gameState:t,creditScore:s,creditTier:l,getCreditTierColor:i,aiImpact:n,careerPath:o,getAIRiskColor:u})=>{var w,y,C,M;const{t:h,formatPercent:v}=Dt(),[b,_]=d.useState(null),g=t.economy,r=wm(g==null?void 0:g.marketTrend,g==null?void 0:g.recession),f=d.useMemo(()=>(t.creditHistory||[]).slice(-12),[t.creditHistory]),S=f[f.length-1],Y=f[f.length-2],P=S&&Y?S.score-Y.score:0,E=t.creditLastChangeReasons||(S==null?void 0:S.reasons)||[];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Signals"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{type:"button",onClick:()=>_("credit"),className:"w-full rounded-2xl border border-slate-800 bg-slate-900/50 p-4 text-left transition hover:border-emerald-400/40",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400",children:"Credit Score"}),e.jsxs("p",{className:`text-lg font-semibold ${i(l)}`,children:[s," ",e.jsx("span",{className:"text-xs font-semibold",children:l})]})]}),e.jsx(Eo,{size:18,className:"text-emerald-300"})]}),e.jsx("p",{className:"mt-2 text-xs text-slate-400",children:"Tap for credit detail and history."})]}),e.jsxs("button",{type:"button",onClick:()=>_("ai"),className:"w-full rounded-2xl border border-slate-800 bg-slate-900/50 p-4 text-left transition hover:border-purple-400/40",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400",children:"AI Disruption"}),e.jsxs("p",{className:"text-lg font-semibold text-white",children:[(((w=t.aiDisruption)==null?void 0:w.disruptionLevel)||0).toFixed(0),"%"]}),e.jsxs("p",{className:`text-xs ${u((n==null?void 0:n.automationRisk)||"LOW")}`,children:["Risk: ",(n==null?void 0:n.automationRisk)||"LOW"]})]}),e.jsx(Ms,{size:18,className:"text-purple-300"})]}),e.jsx("p",{className:"mt-2 text-xs text-slate-400",children:"Tap for AI impact breakdown."})]}),e.jsxs("button",{type:"button",onClick:()=>_("economy"),className:"w-full rounded-2xl border border-slate-800 bg-slate-900/50 p-4 text-left transition hover:border-blue-400/40",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400",children:"Economy"}),e.jsx("p",{className:"text-lg font-semibold text-white",children:r}),e.jsxs("p",{className:"text-xs text-slate-400",children:["Rate: ",v((g==null?void 0:g.interestRate)||.065)]})]}),e.jsx(ii,{size:18,className:"text-blue-300"})]}),e.jsx("p",{className:"mt-2 text-xs text-slate-400",children:"Tap for market detail."})]})]})]}),e.jsx(Re,{isOpen:b==="credit",onClose:()=>_(null),ariaLabel:"Credit details",overlayClassName:"items-stretch justify-end",contentClassName:"h-full max-w-xl rounded-none rounded-l-3xl p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[e.jsx(Eo,{className:"text-emerald-300",size:20}),"Credit Score"]}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Drivers: on-time payments, utilization, debt-to-income, delinquencies."})]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400",children:"Current score"}),e.jsxs("p",{className:`text-2xl font-bold ${i(l)}`,children:[s," ",e.jsx("span",{className:"text-sm font-semibold",children:l})]})]}),e.jsxs("p",{className:`text-xs ${P>=0?"text-emerald-300":"text-red-400"}`,children:[P>=0?"+":"",P," this month"]})]}),e.jsx("div",{className:"h-40 w-full",children:e.jsx(yt,{width:"100%",height:"100%",children:e.jsxs(pa,{data:f.map(j=>({month:j.month,score:j.score})),children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"creditGradientV2",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#34d399",stopOpacity:.5}),e.jsx("stop",{offset:"95%",stopColor:"#34d399",stopOpacity:0})]})}),e.jsx(qt,{dataKey:"month",hide:!0}),e.jsx(Lt,{domain:[300,850],hide:!0}),e.jsx(mt,{formatter:j=>[j,"Score"]}),e.jsx(ga,{type:"monotone",dataKey:"score",stroke:"#34d399",fill:"url(#creditGradientV2)",strokeWidth:2})]})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-300 text-sm font-semibold mb-2",children:h("credit.whyChanged")}),E.length===0?e.jsx("p",{className:"text-slate-500 text-sm",children:h("credit.noChange")}):e.jsx("div",{className:"flex flex-wrap gap-2",children:E.map((j,L)=>e.jsx("span",{className:"px-2 py-1 rounded-lg bg-slate-900/40 text-slate-300 text-xs border border-slate-700/60",children:j},`${j}-${L}`))})]})]})}),e.jsx(Re,{isOpen:b==="ai",onClose:()=>_(null),ariaLabel:"AI disruption details",overlayClassName:"items-stretch justify-end",contentClassName:"h-full max-w-xl rounded-none rounded-l-3xl p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[e.jsx(Ms,{className:"text-purple-300",size:20}),"AI Disruption"]}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Your career exposure to automation and future-proofing progress."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-slate-400",children:"Disruption Level"}),e.jsxs("span",{className:"text-white",children:[(((y=t.aiDisruption)==null?void 0:y.disruptionLevel)||0).toFixed(0),"%"]})]}),e.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-purple-500 transition-all",style:{width:`${((C=t.aiDisruption)==null?void 0:C.disruptionLevel)||0}%`}})})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-400",children:"Your Career Risk"}),e.jsx("span",{className:u((n==null?void 0:n.automationRisk)||"LOW"),children:(n==null?void 0:n.automationRisk)||"LOW"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-400",children:"Future-Proof Score"}),e.jsxs("span",{className:"text-white",children:[((M=Ce[o])==null?void 0:M.futureProofScore)||50,"%"]})]})]})]})}),e.jsx(Re,{isOpen:b==="economy",onClose:()=>_(null),ariaLabel:"Economy details",overlayClassName:"items-stretch justify-end",contentClassName:"h-full max-w-xl rounded-none rounded-l-3xl p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[e.jsx(ii,{className:g!=null&&g.recession?"text-red-400":"text-blue-300",size:20}),"Economy"]}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Macro conditions that affect asset prices and rates."})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Market"}),e.jsx("span",{className:(g==null?void 0:g.marketTrend)==="BULL"||(g==null?void 0:g.marketTrend)==="BOOM"?"text-emerald-400":(g==null?void 0:g.marketTrend)==="BEAR"||(g==null?void 0:g.marketTrend)==="CRASH"?"text-red-400":"text-slate-300",children:(g==null?void 0:g.marketTrend)||"STABLE"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Interest Rate"}),e.jsx("span",{className:"text-white",children:v((g==null?void 0:g.interestRate)||.065)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Inflation"}),e.jsx("span",{className:"text-amber-300",children:v((g==null?void 0:g.inflationRate)||.03)})]}),(g==null?void 0:g.recession)&&e.jsxs("div",{className:"bg-red-500/20 rounded-lg p-2 text-center mt-2",children:[e.jsx("span",{className:"text-red-400 font-medium",children:"‚ö†Ô∏è RECESSION"}),e.jsxs("p",{className:"text-xs text-slate-400",children:[g.recessionMonths," months remaining"]})]})]})]})})]})},_m=({playerName:t,year:s,month:l,avatarColor:i,avatarImage:n,avatarEmoji:o,cashLabel:u,netWorthLabel:h,passiveLabel:v,isProcessing:b,nextMonthDisabled:_,onNextMonth:g,autoplayEnabled:r,autoplayLabel:f,autoplayTooltip:S,autoplaySpeed:Y,autoplaySpeedOptions:P,autoplaySpeedLabels:E,onToggleAutoplay:w,onSetAutoplaySpeed:y,monthlyActions:C,onUseMonthlyAction:M,openActionsSignal:j,events:L,gameState:Z,onClaimQuest:G,onOpenGoals:D,creditScore:W,creditTier:Q,getCreditTierColor:re,aiImpact:k,careerPath:R,getAIRiskColor:H})=>{const[F,V]=d.useState(!1),ie=d.useRef(j??0);return d.useEffect(()=>{!j||j===ie.current||(ie.current=j,V(!0))},[j]),e.jsxs("div",{className:"space-y-8",children:[e.jsx("section",{className:"rounded-3xl border border-slate-800 bg-slate-900/50 p-6",children:e.jsx(um,{playerName:t,year:s,month:l,avatarColor:i,avatarImage:n,avatarEmoji:o,isProcessing:b,nextMonthDisabled:_,onNextMonth:g,autoplayEnabled:r,autoplayLabel:f,autoplayTooltip:S,autoplaySpeed:Y,autoplaySpeedOptions:P,autoplaySpeedLabels:E,onToggleAutoplay:w,onSetAutoplaySpeed:y})}),e.jsxs("section",{className:"flex flex-wrap gap-3",children:[e.jsx(pn,{label:"Cash",value:u,tone:"cash"}),e.jsx(pn,{label:"Net Worth",value:h,tone:"networth"}),e.jsx(pn,{label:"Passive / mo",value:v,tone:"passive"})]}),e.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 rounded-3xl border border-slate-800 bg-slate-900/40 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"This Month"}),e.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Pick a few actions to shape the month ahead."}),e.jsx("div",{className:"mt-6",children:e.jsx(pm,{summary:C,onSelectAction:M,onOpenDrawer:()=>V(!0)})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"rounded-3xl border border-slate-800 bg-slate-900/40 p-6",children:e.jsx(bm,{events:L})}),e.jsx("div",{className:"rounded-3xl border border-slate-800 bg-slate-900/40 p-6",children:e.jsx(vm,{gameState:Z,isProcessing:b,onClaimQuest:G,onOpenGoals:D})}),e.jsx("div",{className:"rounded-3xl border border-slate-800 bg-slate-900/40 p-6",children:e.jsx(Nm,{gameState:Z,creditScore:W,creditTier:Q,getCreditTierColor:re,aiImpact:k,careerPath:R,getAIRiskColor:H})})]})]}),e.jsx(fm,{isOpen:F,onClose:()=>V(!1),summary:C,onSelectAction:M})]})},Cm=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("section",{className:"rounded-3xl border border-slate-800 bg-slate-900/60 p-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Play"}),e.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Start or continue a game. The new Play layout appears once you enter the simulation."})]}),e.jsx("section",{className:"rounded-3xl border border-slate-800 bg-slate-900/40 p-6",children:e.jsx(mc,{})})]}),ac=t=>{var be,$;const{formatMoney:s,formatMoneyFull:l,formatPercent:i,gameState:n,investmentFilter:o,setInvestmentFilter:u,investmentTierFilter:h,setInvestmentTierFilter:v,investmentSearch:b,setInvestmentSearch:_,filteredInvestments:g,batchBuyMode:r,toggleBatchBuyMode:f,clearBatchBuyCart:S,batchBuyQuantities:Y,setBatchBuyQuantities:P,batchBuyCart:E,handleBuyAsset:w,hasRequiredEducationForInvestment:y,getAssetIcon:C,getItemTier:M,getRiskRating:j,isProcessing:L,playClick:Z,setShowMortgageModal:G,setSelectedMortgage:D,isBatchBuyEligible:W,setBatchQty:Q,showQuiz:re,quizTitle:k,quizIntro:R,quizQuestions:H,quizAnswers:F,onSelectQuizAnswer:V,onSubmitQuiz:ie,onSkipQuiz:te}=t,se=((be=Fo("Yield"))==null?void 0:be.short)||"Expected annual return as a percent of price.",de=(($=Fo("Risk"))==null?void 0:$.short)||"Higher risk means bigger swings in value.",[xe,he]=d.useState(!1),[ge,ve]=d.useState([]),we=d.useMemo(()=>ge.map(p=>g.find(A=>A.id===p)).filter(p=>!!p),[ge,g]),Ee=p=>p.type===z.SAVINGS&&/locked/i.test(p.description)?"12 mo":p.type===z.BOND?"6-12 mo":p.type===z.REAL_ESTATE||p.type===z.BUSINESS?"Long-term":"Liquid",pe=(p,A)=>{const T=Math.round(A*p.expectedYield/12);return`${l(T)}/mo`};return e.jsxs("div",{children:[re&&H.length>0&&e.jsxs("div",{className:"mb-4 rounded-2xl border border-slate-700 bg-slate-900/60 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:k||"Quick investing quiz"}),e.jsx("p",{className:"text-xs text-slate-400",children:R||"Answer a few questions to earn small bonuses."})]}),e.jsx("button",{onClick:te,className:"text-xs text-slate-400 hover:text-white",children:"Skip"})]}),e.jsx("div",{className:"space-y-3",children:H.map((p,A)=>e.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950/40 p-3",children:[e.jsxs("p",{className:"text-sm text-slate-200 mb-2",children:[A+1,". ",p.question]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.options.map(T=>{const B=F[p.id]===T;return e.jsx("button",{onClick:()=>V(p.id,T),className:`px-3 py-1.5 rounded-lg text-xs border transition-all ${B?"bg-emerald-600/30 border-emerald-500/60 text-emerald-100":"bg-slate-900/40 border-slate-700 text-slate-300 hover:text-white hover:border-slate-500"}`,children:T},`${p.id}-${T}`)})})]},p.id))}),e.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[e.jsx("button",{onClick:ie,className:"px-4 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-500 text-white text-sm font-semibold",children:"Submit quiz"}),e.jsx("span",{className:"text-xs text-slate-500",children:"Rewards are small and optional."})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:[{id:"ALL",label:"All"},{id:z.SAVINGS,label:"Savings"},{id:z.BOND,label:"Bonds"},{id:z.INDEX_FUND,label:"Index Funds"},{id:z.STOCK,label:"Stocks"},{id:z.REAL_ESTATE,label:"Real Estate"},{id:z.BUSINESS,label:"Business"},{id:z.CRYPTO,label:"Crypto"}].map(p=>e.jsx($e,{size:"sm",variant:o===p.id?"primary":"secondary",onClick:()=>u(p.id),className:"whitespace-nowrap",children:p.label},p.id))}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:[{id:"ALL",label:"All tiers"},{id:"STARTER",label:"Starter"},{id:"MID",label:"Mid"},{id:"ADVANCED",label:"Advanced"}].map(p=>e.jsx($e,{size:"sm",variant:h===p.id?"secondary":"ghost",onClick:()=>v(p.id),className:"whitespace-nowrap",children:p.label},p.id))}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:b,onChange:p=>_(p.target.value),placeholder:"Search investments",className:"flex-1 rounded-lg bg-slate-900/60 border border-slate-700 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500"}),b&&e.jsx("button",{onClick:()=>_(""),className:"px-3 py-2 rounded-lg bg-slate-800 text-slate-300 text-sm hover:bg-slate-700",children:"Clear"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4",children:[e.jsxs("p",{className:"text-slate-400 text-sm",children:["Available: ",s(n.cash)," ‚Ä¢ ",g.length," investments"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{onClick:f,variant:r?"primary":"secondary",size:"md",children:r?"Batch Buy: ON":"Batch Buy"}),e.jsx($e,{onClick:()=>{he(p=>!p),xe&&ve([])},variant:xe?"primary":"secondary",size:"md",children:xe?"Compare: ON":"Compare"}),r&&e.jsx($e,{onClick:S,variant:"secondary",size:"md",children:"Clear"})]})]}),r&&e.jsx("div",{className:"mb-4 p-3 rounded-xl bg-slate-800/40 border border-slate-700 text-slate-300 text-sm",children:"Set quantities on stocks, index funds, bonds, crypto, and commodities ‚Äî then confirm once."}),xe&&e.jsxs("div",{className:"mb-4 rounded-2xl border border-slate-700 bg-slate-900/60 p-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:"Compare investments"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Select up to three options to compare key metrics."})]}),e.jsxs("div",{className:"text-xs text-slate-400",children:["Selected: ",ge.length,"/3"]})]}),we.length===0?e.jsx("p",{className:"text-xs text-slate-500 mt-3",children:"Pick investments below to see the comparison table."}):e.jsx("div",{className:"mt-3 overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-slate-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-xs uppercase text-slate-500",children:[e.jsx("th",{className:"text-left py-2 pr-3",children:"Metric"}),we.map(p=>e.jsx("th",{className:"text-left py-2 pr-3",children:p.name},`compare-${p.id}`))]})}),e.jsx("tbody",{children:(()=>{const p=Math.pow(1+n.economy.inflationRate,n.month/12);return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"border-t border-slate-800",children:[e.jsx("td",{className:"py-2 pr-3 text-slate-400",children:"Cost"}),we.map(A=>{const T=Math.round(A.price*p);return e.jsx("td",{className:"py-2 pr-3 text-white",children:s(T)},`cost-${A.id}`)})]}),e.jsxs("tr",{className:"border-t border-slate-800",children:[e.jsx("td",{className:"py-2 pr-3 text-slate-400",children:"Expected return"}),we.map(A=>e.jsxs("td",{className:"py-2 pr-3 text-emerald-300",children:[i(A.expectedYield),"/yr"]},`return-${A.id}`))]}),e.jsxs("tr",{className:"border-t border-slate-800",children:[e.jsx("td",{className:"py-2 pr-3 text-slate-400",children:"Risk rating"}),we.map(A=>e.jsx("td",{className:"py-2 pr-3",children:j(A)},`risk-${A.id}`))]}),e.jsxs("tr",{className:"border-t border-slate-800",children:[e.jsx("td",{className:"py-2 pr-3 text-slate-400",children:"Lock-up period"}),we.map(A=>e.jsx("td",{className:"py-2 pr-3",children:Ee(A)},`lockup-${A.id}`))]}),e.jsxs("tr",{className:"border-t border-slate-800",children:[e.jsx("td",{className:"py-2 pr-3 text-slate-400",children:"Dividends / passive"}),we.map(A=>{const T=Math.round(A.price*p);return e.jsx("td",{className:"py-2 pr-3",children:pe(A,T)},`income-${A.id}`)})]})]})})()})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map((p,A)=>{const T=Math.pow(1+n.economy.inflationRate,n.month/12),B=Math.round(p.price*T),ue=n.cash>=B,_e=p.canMortgage&&n.cash>=B*.035,ze=M(p),Fe=j(p),ye=ge.includes(p.id),fe=ge.length<3||ye,Ae=!y(p,n.education.degrees),pt=p.requiredEducationCategory?p.requiredEducationCategory.join(" or "):"Education",st=p.requiredEducationLevel?p.requiredEducationLevel.replace("_"," "):null;return e.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.02},className:"ds-card p-4 hover:border-slate-600 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:C(p.type)}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold text-sm",children:p.name}),e.jsx("p",{className:"text-slate-500 text-xs",children:p.type.replace("_"," ")})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[xe&&e.jsxs("label",{className:`flex items-center gap-1 text-xs ${fe?"text-slate-300":"text-slate-600"}`,children:[e.jsx("input",{type:"checkbox",className:"rounded border-slate-600 bg-slate-900",checked:ye,disabled:!fe,onChange:Ue=>{if(!fe)return;const Kt=Ue.target.checked;ve(kt=>Kt?[...kt,p.id].slice(0,3):kt.filter(ps=>ps!==p.id))}}),"Compare"]}),e.jsx(Vo,{variant:"neutral",children:ze.toLowerCase()}),e.jsx(xi,{content:de,children:e.jsxs(Vo,{variant:Fe==="LOW"?"low":Fe==="MEDIUM"?"med":"high",children:[Fe.toLowerCase()," risk"]})})]})]}),e.jsx("p",{className:"text-slate-400 text-xs mb-2 line-clamp-2",children:p.description}),p.educationalNote&&e.jsxs("p",{className:"text-blue-400/70 text-xs mb-2 italic",children:["üí° ",p.educationalNote]}),Ae&&e.jsxs("p",{className:"text-amber-400 text-xs mb-2",children:["üîí Requires ",pt,st?` (${st})`:""]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-2",children:[e.jsx("p",{className:"text-slate-500",children:"Price"}),e.jsx("p",{className:"text-white font-bold",children:s(B)})]}),e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-2",children:[e.jsxs("p",{className:"text-slate-500 inline-flex items-center gap-1",children:["Yield",e.jsx(xi,{content:se,children:e.jsx("span",{className:"text-slate-400",children:"?"})})]}),e.jsxs("p",{className:"text-emerald-400 font-bold",children:[i(p.expectedYield),"/yr"]})]})]}),p.canMortgage?e.jsxs("div",{className:"flex gap-2",children:[e.jsx($e,{onClick:()=>{Z(),G(p),D("")},disabled:!_e||Ae,variant:_e&&!Ae?"secondary":"ghost",fullWidth:!0,children:"üè¶ Finance"}),e.jsx($e,{onClick:()=>w(p),disabled:!ue||Ae,variant:ue&&!Ae?"primary":"ghost",fullWidth:!0,children:"üíµ Cash"})]}):r&&W(p)?Ae?e.jsx("div",{className:"w-full py-2.5 rounded-lg text-sm font-medium bg-slate-800 text-slate-500 border border-slate-700 text-center",children:"Education Required"}):(()=>{const Ue=Y[p.id]||0,Kt=Ue*B,ps=E.totalCost-Kt+(Ue+1)*B<=n.cash;return e.jsxs("div",{className:"w-full flex items-center justify-between gap-3 py-2 px-3 rounded-lg border border-slate-700 bg-slate-900/40",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-slate-400 text-xs",children:"Cart"}),e.jsxs("div",{className:"text-white font-bold text-sm",children:[Ue,"x",e.jsx("span",{className:"text-slate-400 font-medium ml-2",children:Ue>0?l(Kt):"‚Äî"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>Q(p.id,Ue-1),disabled:Ue<=0,className:`w-9 h-9 rounded-lg font-bold transition-all ${Ue>0?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-800 text-slate-600 cursor-not-allowed"}`,children:"‚àí"}),e.jsx("div",{className:"min-w-[2.5rem] text-center text-white font-bold",children:Ue}),e.jsx("button",{onClick:()=>Q(p.id,Ue+1),disabled:!ps,className:`w-9 h-9 rounded-lg font-bold transition-all ${ps?"bg-emerald-600 hover:bg-emerald-500 text-white":"bg-slate-800 text-slate-600 cursor-not-allowed"}`,children:"+"})]})]})})():e.jsx($e,{onClick:()=>w(p),disabled:!ue||Ae,variant:ue&&!Ae?"primary":"ghost",fullWidth:!0,children:Ae?"Education Required":ue?`Buy ${s(B)}`:"Insufficient Funds"})]},p.id)})})]})},jm=Object.freeze(Object.defineProperty({__proto__:null,default:ac},Symbol.toStringTag,{value:"Module"})),ic=t=>{const{gameState:s,cashFlow:l,formatMoney:i,formatPercent:n,getAssetIcon:o,getBusinessIncomeRange:u,getOpsUpgradeCost:h,handleRefinanceMortgage:v,handleSellAsset:b,handleBusinessOpsUpgrade:_,handlePayDebt:g,creditScore:r,activeTab:f,coachHint:S,setActiveTab:Y}=t,P=d.useMemo(()=>{const w={cash:s.cash||0,stocks:0,indexFunds:0,bonds:0,realEstate:0,business:0,crypto:0,savings:0};return s.assets.forEach(y=>{const C=y.value*y.quantity;switch(y.type){case z.STOCK:w.stocks+=C;break;case z.INDEX_FUND:w.indexFunds+=C;break;case z.BOND:w.bonds+=C;break;case z.REAL_ESTATE:w.realEstate+=C;break;case z.BUSINESS:w.business+=C;break;case z.CRYPTO:w.crypto+=C;break;case z.SAVINGS:w.savings+=C;break}}),[{name:"Cash",value:w.cash,color:"#94a3b8"},{name:"Stocks",value:w.stocks,color:"#34d399"},{name:"Index Funds",value:w.indexFunds,color:"#38bdf8"},{name:"Bonds",value:w.bonds,color:"#60a5fa"},{name:"Real Estate",value:w.realEstate,color:"#f59e0b"},{name:"Business",value:w.business,color:"#f97316"},{name:"Crypto",value:w.crypto,color:"#a855f7"},{name:"Savings",value:w.savings,color:"#22c55e"}].filter(y=>y.value>0)},[s.assets,s.cash]),E=d.useMemo(()=>P.reduce((w,y)=>w+y.value,0),[P]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs(bt,{className:"p-4",children:[e.jsx("p",{className:"text-slate-400 text-xs",children:"Total Assets"}),e.jsx("p",{className:"text-xl font-bold text-white",children:i(s.assets.reduce((w,y)=>w+y.value*y.quantity,0))})]}),e.jsxs(bt,{className:"p-4",children:[e.jsx("p",{className:"text-slate-400 text-xs",children:"Passive Income"}),e.jsxs("p",{className:"text-xl font-bold text-emerald-400",children:[i(l.passive),"/mo"]})]}),e.jsxs(bt,{className:"p-4",children:[e.jsx("p",{className:"text-slate-400 text-xs",children:"Total Debt"}),e.jsx("p",{className:"text-xl font-bold text-red-400",children:i(s.liabilities.reduce((w,y)=>w+y.balance,0))})]}),e.jsxs(bt,{className:"p-4",children:[e.jsx("p",{className:"text-slate-400 text-xs",children:"Positions"}),e.jsx("p",{className:"text-xl font-bold text-white",children:s.assets.length})]})]}),P.length>0&&e.jsxs(bt,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:"Net Worth Mix"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Allocation by asset category"}),e.jsxs("p",{className:"text-sm text-slate-300 mt-2",children:["Total tracked: ",e.jsx("span",{className:"text-white font-semibold",children:i(E)})]})]}),e.jsx("div",{className:"h-40 w-full md:w-56",children:e.jsx(yt,{width:"100%",height:"100%",children:e.jsxs(kl,{children:[e.jsx(Il,{data:P,dataKey:"value",nameKey:"name",innerRadius:45,outerRadius:70,paddingAngle:2,children:P.map(w=>e.jsx(Tl,{fill:w.color},w.name))}),e.jsx(mt,{formatter:(w,y)=>[i(w),y],contentStyle:{background:"#0f172a",border:"1px solid #1e293b",borderRadius:8,fontSize:12}})]})})})]}),e.jsx("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-2 text-xs text-slate-400",children:P.map(w=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-2 w-2 rounded-full",style:{backgroundColor:w.color}}),e.jsx("span",{className:"text-slate-300",children:w.name}),e.jsx("span",{className:"text-slate-500",children:i(w.value)})]},w.name))})]}),s.assets.length===0?e.jsxs("div",{className:"text-center py-16 bg-slate-800/30 rounded-2xl",children:[e.jsx(qs,{size:48,className:"mx-auto text-slate-600 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Assets Yet"}),e.jsx("p",{className:"text-slate-400 mb-4",children:"Start building your portfolio!"}),e.jsx("button",{onClick:()=>Y(ce.INVEST),className:"px-6 py-3 bg-emerald-600 hover:bg-emerald-500 rounded-lg font-medium transition-all",children:"Browse Investments"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Your Assets"}),s.assets.map(w=>{const y=w.value*w.quantity,C=w.costBasis*w.quantity,M=y-C,j=C>0?(y/C-1)*100:0,L=w.type===z.BUSINESS,Z=L&&typeof w.currentMonthIncome=="number"?w.currentMonthIncome:w.cashFlow*w.quantity,G=L?typeof w.lastMonthIncome=="number"?w.lastMonthIncome:Math.round(Z):null,D=L?u(w):null,W=L?w.maintenanceStatus:void 0,Q=L?h(w):null,re=w.mortgageId?s.mortgages.find(R=>R.id===w.mortgageId)||s.mortgages.find(R=>R.assetId===w.id):s.mortgages.find(R=>R.assetId===w.id),k=re?y-re.balance:y;return e.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4 hover:border-slate-600 transition-all",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-700 rounded-lg flex items-center justify-center text-2xl",children:o(w.type)}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold",children:w.name}),e.jsxs("p",{className:"text-slate-400 text-sm",children:[w.quantity,"x @ ",i(w.value)]}),re&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("p",{className:"text-blue-400 text-xs",children:["Mortgage: ",i(re.balance)," ‚Ä¢ Equity: ",i(k)]}),e.jsx("button",{onClick:()=>v(re.id),disabled:r<680,className:`text-xs px-2 py-1 rounded-md border transition-all ${r<680?"border-slate-700 text-slate-500 cursor-not-allowed":"border-blue-500/40 text-blue-300 hover:bg-blue-500/10"}`,children:"Refinance"})]}),L&&e.jsxs("div",{className:"mt-2 space-y-1 text-xs text-slate-400",children:[e.jsxs("p",{children:["Expected range: ",i((D==null?void 0:D.min)||0),"‚Äì",i((D==null?void 0:D.max)||0),"/mo"]}),e.jsxs("p",{children:["Last month: ",i(G||0),"/mo"]}),W&&e.jsxs("p",{className:"text-amber-300",children:["Maintenance: ",W.label," ‚Ä¢ ",W.impact]})]})]})]}),e.jsxs("div",{className:"text-right flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-bold text-lg",children:i(y)}),e.jsxs("p",{className:`text-sm ${M>=0?"text-emerald-400":"text-red-400"}`,children:[M>=0?"+":"",i(M)," (",j.toFixed(1),"%)"]}),e.jsxs("p",{className:"text-emerald-400/70 text-xs",children:["+",i(Z),"/mo"]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx("button",{onClick:()=>b(w.id),className:`px-5 py-2.5 bg-red-600/20 hover:bg-red-600/30 text-red-400 rounded-lg text-sm border border-red-600/30 transition-all touch-target ${S&&S.tabId===ce.ASSETS&&S.target==="assets-sell"&&f===ce.ASSETS?"ring-2 ring-amber-400/70 animate-pulse":""}`,children:"Sell"}),L&&e.jsx("button",{onClick:()=>_(w.id),disabled:w.opsUpgrade,className:`px-4 py-2 text-xs rounded-lg border transition-all touch-target ${w.opsUpgrade?"bg-slate-700/40 text-slate-400 border-slate-600/60 cursor-not-allowed":"bg-slate-700 hover:bg-slate-600 text-slate-100 border-slate-600"}`,children:w.opsUpgrade?"Ops Upgraded":`Ops Upgrade (${i(Q||0)})`})]})]})]})},w.id)})]}),s.liabilities.length>0&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"üí≥ Liabilities"}),e.jsx("div",{className:"space-y-3",children:s.liabilities.map(w=>{const y=(w.originalBalance-w.balance)/w.originalBalance*100;return e.jsxs("div",{className:"bg-slate-800/50 border border-red-900/30 rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold",children:w.name}),e.jsxs("p",{className:"text-slate-400 text-sm",children:[n(w.interestRate)," APR ‚Ä¢ ",i(w.monthlyPayment),"/mo"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-red-400 font-bold",children:i(w.balance)}),e.jsxs("p",{className:"text-slate-500 text-xs",children:["of ",i(w.originalBalance)]})]})]}),e.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden mb-3",children:e.jsx("div",{className:"h-full bg-emerald-500 transition-all",style:{width:`${y}%`}})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>g(w.id,w.monthlyPayment),disabled:s.cash<w.monthlyPayment,className:"flex-1 py-2 bg-slate-700 hover:bg-slate-600 disabled:opacity-50 rounded-lg text-sm transition-all",children:["Pay ",i(w.monthlyPayment)]}),e.jsxs("button",{onClick:()=>g(w.id,w.balance),disabled:s.cash<w.balance,className:"flex-1 py-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 rounded-lg text-sm border border-red-600/30 disabled:opacity-50 transition-all",children:["Pay Off (",i(w.balance),")"]})]})]},w.id)})})]})]})},Sm=Object.freeze(Object.defineProperty({__proto__:null,default:ic},Symbol.toStringTag,{value:"Module"})),nc=t=>{const{gameState:s,creditTier:l,creditScore:i,formatMoney:n,formatPercent:o,getCreditTierColor:u,coachBankLoansRef:h,coachHighlight:v,adjustedLoanOptions:b,calculateLoanPayment:_,handleTakeLoan:g,handlePayDebt:r}=t;return e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-900/30 to-blue-800/20 border border-blue-700/30 rounded-2xl p-6 mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-2",children:[e.jsx(ri,{className:"text-blue-400"}),"First National Bank"]}),e.jsx("p",{className:"text-slate-400",children:"Get the funds you need. All loans have fixed rates and terms."}),e.jsxs("div",{className:"mt-4 flex gap-4 text-sm",children:[e.jsxs("div",{className:"bg-black/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-slate-400",children:"Base Rate"}),e.jsx("p",{className:"text-xl font-bold text-white",children:o(s.economy.interestRate)})]}),e.jsxs("div",{className:"bg-black/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-slate-400",children:"Your Credit"}),e.jsx("p",{className:`text-xl font-bold ${u(l)}`,children:l}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:i})]})]})]}),e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Available Loans"}),e.jsx("div",{ref:h,className:`grid gap-4 ${v("bank-loans")}`,children:b.map(f=>{const S=_(f.amount,f.rate,f.term),P=S*f.term-f.amount;return e.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4 hover:border-slate-600 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold text-lg",children:f.name}),e.jsx("p",{className:"text-slate-400 text-sm",children:f.description}),f.perkLabel&&e.jsx("p",{className:"text-emerald-300 text-xs mt-1",children:f.perkLabel})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:n(f.amount)})})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm mb-4",children:[e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-2 text-center",children:[e.jsx("p",{className:"text-slate-500 text-xs",children:"Rate"}),e.jsx("p",{className:"text-white font-medium",children:o(f.rate)})]}),e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-2 text-center",children:[e.jsx("p",{className:"text-slate-500 text-xs",children:"Term"}),e.jsxs("p",{className:"text-white font-medium",children:[f.term," mo"]})]}),e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-2 text-center",children:[e.jsx("p",{className:"text-slate-500 text-xs",children:"Payment"}),e.jsxs("p",{className:"text-white font-medium",children:[n(S),"/mo"]})]}),e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-2 text-center",children:[e.jsx("p",{className:"text-slate-500 text-xs",children:"Total Interest"}),e.jsx("p",{className:"text-red-400 font-medium",children:n(P)})]})]}),e.jsxs("button",{onClick:()=>g(f),className:"w-full py-3 bg-blue-600 hover:bg-blue-500 rounded-lg font-medium transition-all flex items-center justify-center gap-2",children:[e.jsx(Pn,{size:18}),"Get This Loan"]})]},f.id)})}),s.liabilities.length>0&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Your Current Debts"}),e.jsx("div",{className:"space-y-3",children:s.liabilities.map(f=>e.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:f.name}),e.jsxs("p",{className:"text-slate-400 text-sm",children:[o(f.interestRate)," ‚Ä¢ ",n(f.monthlyPayment),"/mo"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-red-400 font-bold",children:n(f.balance)}),e.jsx("button",{onClick:()=>r(f.id,f.balance),disabled:s.cash<f.balance,className:"text-xs text-blue-400 hover:text-blue-300 disabled:text-slate-500 disabled:cursor-not-allowed",children:"Pay in full"})]})]})},f.id))})]})]})},Em=Object.freeze(Object.defineProperty({__proto__:null,default:nc},Symbol.toStringTag,{value:"Module"})),km={[z.STOCK]:"Stocks",[z.INDEX_FUND]:"Index Funds",[z.BOND]:"Bonds",[z.REAL_ESTATE]:"Real Estate",[z.BUSINESS]:"Business",[z.CRYPTO]:"Crypto",[z.COMMODITY]:"Commodities",[z.SAVINGS]:"Savings"},tl=["#22d3ee","#34d399","#a78bfa","#fbbf24","#f87171","#60a5fa","#f472b6","#94a3b8"],Im=({gameState:t,netWorth:s,cashFlow:l,formatMoney:i,formatMoneyFull:n,formatPercent:o,investTabProps:u,portfolioTabProps:h,bankTabProps:v,showQuiz:b,forcedTab:_})=>{var y;const[g,r]=d.useState("invest");d.useEffect(()=>{_&&r(_)},[_]);const f=d.useMemo(()=>{const C=t.netWorthHistory||[];return C.length>0?C:[{month:t.month,value:s}]},[t.month,t.netWorthHistory,s]),S=d.useMemo(()=>{const C={};return t.assets.forEach(M=>{const j=km[M.type]||M.type;C[j]=(C[j]||0)+M.value*M.quantity}),t.cash>0&&(C.Cash=(C.Cash||0)+t.cash),Object.entries(C).map(([M,j])=>({name:M,value:j}))},[t.assets,t.cash]),Y=d.useMemo(()=>{const C=t.liabilities.reduce((j,L)=>j+L.balance,0),M=t.mortgages.reduce((j,L)=>j+L.balance,0);return C+M},[t.liabilities,t.mortgages]),P=d.useMemo(()=>t.assets.reduce((C,M)=>C+M.value*M.quantity,0),[t.assets]),E=C=>{C===ce.INVEST&&r("invest"),C===ce.ASSETS&&r("portfolio"),C===ce.BANK&&r("bank")},w=C=>`rounded-full px-4 py-2 text-xs font-semibold border transition ${g===C?"border-white bg-white text-slate-900":"border-slate-800 text-slate-200 hover:border-slate-600 hover:text-white"}`;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 rounded-3xl border border-slate-800 bg-slate-900/50 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx(Nl,{size:18,className:"text-emerald-300"})," Net Worth Over Time"]}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Track progress toward financial freedom."})]}),e.jsx("p",{className:"text-lg font-semibold text-white",children:i(s)})]}),e.jsx("div",{className:"h-40 mt-4",children:e.jsx(yt,{width:"100%",height:"100%",children:e.jsxs(pa,{data:f.map(C=>({month:C.month,value:C.value})),children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"netWorthGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#34d399",stopOpacity:.5}),e.jsx("stop",{offset:"95%",stopColor:"#34d399",stopOpacity:0})]})}),e.jsx(qt,{dataKey:"month",hide:!0}),e.jsx(Lt,{hide:!0}),e.jsx(mt,{formatter:C=>[n(C),"Net Worth"]}),e.jsx(ga,{type:"monotone",dataKey:"value",stroke:"#34d399",fill:"url(#netWorthGradient)",strokeWidth:2})]})})})]}),e.jsxs("div",{className:"rounded-3xl border border-slate-800 bg-slate-900/50 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Nd,{size:18,className:"text-blue-300"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Asset Allocation"})]}),e.jsx("div",{className:"h-40 mt-4",children:S.length===0?e.jsx("div",{className:"h-full flex items-center justify-center text-sm text-slate-500",children:"No assets yet."}):e.jsx(yt,{width:"100%",height:"100%",children:e.jsxs(kl,{children:[e.jsx(Il,{data:S,dataKey:"value",nameKey:"name",innerRadius:40,outerRadius:70,paddingAngle:2,children:S.map((C,M)=>e.jsx(Tl,{fill:tl[M%tl.length]},`slice-${C.name}`))}),e.jsx(mt,{formatter:C=>[n(C),"Value"]})]})})})]})]}),e.jsxs("section",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/40 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-xs",children:[e.jsx(qs,{size:14})," Net Cash Flow"]}),e.jsxs("p",{className:`mt-2 text-lg font-semibold ${l.income-l.expenses>=0?"text-emerald-300":"text-red-400"}`,children:[l.income-l.expenses>=0?"+":"",i(l.income-l.expenses),"/mo"]})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/40 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-xs",children:[e.jsx(ri,{size:14})," Total Liabilities"]}),e.jsx("p",{className:"mt-2 text-lg font-semibold text-red-400",children:i(Y)})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/40 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-xs",children:[e.jsx(qs,{size:14})," Portfolio Value"]}),e.jsx("p",{className:"mt-2 text-lg font-semibold text-white",children:i(P)})]})]}),e.jsxs("section",{className:"rounded-3xl border border-slate-800 bg-slate-900/40 p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-6",children:[e.jsx("button",{type:"button",className:w("invest"),onClick:()=>r("invest"),children:"Invest"}),e.jsx("button",{type:"button",className:w("portfolio"),onClick:()=>r("portfolio"),children:"Portfolio"}),e.jsx("button",{type:"button",className:w("bank"),onClick:()=>r("bank"),children:"Bank"}),e.jsx("button",{type:"button",className:w("reports"),onClick:()=>r("reports"),children:"Reports"})]}),g==="invest"&&e.jsx(ac,{...u,showQuiz:b}),g==="portfolio"&&e.jsx(ic,{...h,activeTab:ce.ASSETS,setActiveTab:E}),g==="bank"&&e.jsx(nc,{...v}),g==="reports"&&e.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/40 p-6 text-sm text-slate-400",children:["Reports coming soon. Your investment performance and cashflow summaries will live here.",e.jsxs("div",{className:"mt-4 text-xs",children:["Current interest rate: ",e.jsx("span",{className:"text-white",children:o(((y=t.economy)==null?void 0:y.interestRate)||.065)})]})]})]})]})},Tm=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("section",{className:"rounded-3xl border border-slate-800 bg-slate-900/60 p-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Money"}),e.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Budgeting, cash flow, investments, and assets will live here in the new layout. Coming soon."})]})}),rc=t=>{var C,M,j,L,Z,G,D,W,Q,re,k,R,H;const{gameState:s,careerPath:l,cashFlow:i,formatMoney:n,aiImpact:o,isProcessing:u,onPromote:h}=t,v=Ce[l],b=(v==null?void 0:v.levels)||[],_=Math.max(0,(((C=s.career)==null?void 0:C.level)??1)-1),g=((M=s.career)==null?void 0:M.experience)??0,r=((j=s.stats)==null?void 0:j.networking)??0,f=((L=s.education)==null?void 0:L.degrees)||[],[S,Y]=d.useState(!0),P=d.useMemo(()=>["HIGH_SCHOOL","CERTIFICATE","ASSOCIATE","BACHELOR","MASTER","MBA","PHD","LAW","MEDICAL"],[]),E=F=>!F.educationRequired||!F.educationCategory?!0:f.some(V=>{const ie=Xe.find(de=>de.id===V);if(!ie)return!1;const te=P.indexOf(F.educationRequired);return P.indexOf(ie.level)>=te&&ie.category===F.educationCategory}),w=F=>!F.educationRequired||!F.educationCategory?"None":`${F.educationRequired.replace("_"," ")} ‚Ä¢ ${F.educationCategory}`;d.useEffect(()=>{var ie;if(typeof window>"u")return;const F=window.matchMedia("(max-width: 640px)");Y(!F.matches);const V=te=>Y(!te.matches);return(ie=F.addEventListener)==null||ie.call(F,"change",V),()=>{var te;return(te=F.removeEventListener)==null?void 0:te.call(F,"change",V)}},[]);const y=d.useMemo(()=>S?b:b.filter((F,V)=>V===_||V===_+1),[_,b,S]);return e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:`w-20 h-20 rounded-xl bg-gradient-to-br ${((Z=s.character)==null?void 0:Z.avatarColor)||"from-slate-500 to-slate-600"} flex items-center justify-center text-4xl`,children:((G=Ce[l])==null?void 0:G.icon)||"üíº"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:((D=s.career)==null?void 0:D.title)||"Unemployed"}),e.jsx("p",{className:"text-emerald-400",children:((W=Ce[l])==null?void 0:W.name)||"Unknown"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Monthly Salary"}),e.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:n(i.salary)}),Rn(s)>1&&e.jsxs("p",{className:"text-blue-400 text-xs",children:["+",((Rn(s)-1)*100).toFixed(0),"% from education"]})]}),e.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Experience"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:[((Q=s.career)==null?void 0:Q.experience)||0,e.jsx("span",{className:"text-lg text-slate-400",children:" mo"})]})]})]}),(s.jobLossMonthsRemaining??0)>0&&e.jsxs("div",{className:"p-4 rounded-xl mb-4 bg-amber-900/20 border border-amber-700/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ts,{size:16,className:"text-amber-400"}),e.jsx("span",{className:"font-medium text-amber-300",children:"Job loss shock"})]}),e.jsxs("p",{className:"text-sm text-slate-200",children:["Your salary is paused for ",e.jsx("span",{className:"font-semibold text-white",children:s.jobLossMonthsRemaining})," ","more month",s.jobLossMonthsRemaining===1?"":"s",". Use your emergency fund, reduce expenses, and avoid taking on new debt."]})]}),e.jsxs("div",{className:`p-4 rounded-xl mb-4 ${(((re=Ce[l])==null?void 0:re.futureProofScore)||50)>=80?"bg-emerald-900/20 border border-emerald-700/50":(((k=Ce[l])==null?void 0:k.futureProofScore)||50)>=50?"bg-amber-900/20 border border-amber-700/50":"bg-red-900/20 border border-red-700/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ms,{size:16}),e.jsxs("span",{className:"font-medium",children:["AI Future-Proof Score: ",((R=Ce[l])==null?void 0:R.futureProofScore)||50,"%"]})]}),e.jsx("p",{className:"text-sm text-slate-300",children:((H=Ce[l])==null?void 0:H.specialMechanic)||"Work hard and advance!"}),o&&o.salaryImpact!==1&&e.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["AI impact on salary: ",o.salaryImpact>1?"+":"",((o.salaryImpact-1)*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"bg-slate-900/30 rounded-xl p-4",children:[e.jsx("h4",{className:"text-white font-medium mb-3",children:"üìà Career Timeline"}),e.jsxs("div",{className:"relative pl-6",children:[e.jsx("div",{className:"absolute left-2 top-2 bottom-2 w-px bg-slate-700"}),y.map((F,V)=>{const ie=_===V,te=_+1===V,se=V<_,de=F.experienceRequired||0,xe=de>0?Math.min(g/de*100,100):100,he=E(F),ge=te&&he&&g>=de,ve=u||s.pendingScenario||s.isBankrupt;return e.jsxs("div",{className:"relative flex items-start gap-3 pb-4",children:[e.jsx("div",{className:`mt-1 h-3 w-3 rounded-full ${se?"bg-emerald-500":te?"bg-amber-400":ie?"bg-emerald-400":"bg-slate-600"}`}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx(xi,{content:e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsx("p",{className:"font-semibold text-white",children:F.title}),e.jsxs("p",{children:["Salary: ",n(F.baseSalary),"/mo"]}),e.jsxs("p",{children:["Experience: ",F.experienceRequired," months"]}),e.jsxs("p",{children:["Education: ",w(F)]}),e.jsx("p",{children:"Networking: higher boosts promotion odds."}),e.jsxs("p",{children:["Career perk: ",(v==null?void 0:v.specialMechanic)||"Career growth benefits"]})]}),className:"w-full",children:e.jsxs("div",{className:`rounded-xl border p-3 transition-all ${ie?"border-emerald-500/60 bg-emerald-900/20":te?"border-amber-500/50 bg-amber-900/10":"border-slate-700 bg-slate-900/40"}`,children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${ie?"text-white font-semibold":"text-slate-300"}`,children:F.title}),e.jsxs("p",{className:"text-xs text-slate-400",children:[n(F.baseSalary),"/mo ‚Ä¢ Perk: ",(v==null?void 0:v.futureProofScore)||0,"% future-proof"]})]}),ie&&e.jsx("span",{className:"text-[10px] uppercase tracking-wide text-emerald-300 bg-emerald-500/10 border border-emerald-500/30 px-2 py-1 rounded-full",children:"Current"}),te&&e.jsx("span",{className:"text-[10px] uppercase tracking-wide text-amber-300 bg-amber-500/10 border border-amber-500/30 px-2 py-1 rounded-full",children:"Next"})]}),ie||te?e.jsxs("div",{className:"mt-3 space-y-2 text-xs",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-slate-400",children:[e.jsx("span",{children:"Experience"}),e.jsxs("span",{children:[g,"/",de," mo"]})]}),e.jsx("div",{className:"h-1.5 bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${xe}%`}})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:`px-2 py-1 rounded-full border text-[11px] ${he?"border-emerald-500/40 text-emerald-300 bg-emerald-500/10":"border-amber-500/40 text-amber-300 bg-amber-500/10"}`,children:["Education: ",w(F)]}),e.jsxs("div",{className:"flex-1 min-w-[140px]",children:[e.jsxs("div",{className:"flex items-center justify-between text-slate-400",children:[e.jsx("span",{children:"Networking"}),e.jsxs("span",{children:[Math.round(r),"/100"]})]}),e.jsx("div",{className:"h-1.5 bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500",style:{width:`${Math.min(r/100*100,100)}%`}})})]})]})]}):e.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Requires ",F.experienceRequired," months experience."]})]})})}),te&&e.jsx("button",{onClick:h,disabled:!ge||ve,className:`ml-2 px-3 py-2 rounded-lg text-xs font-semibold transition-all ${!ge||ve?"bg-slate-800 text-slate-500 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-500 text-white"}`,children:"Promote"})]},F.title)})]}),b.length>2&&e.jsx("div",{className:"mt-3 sm:hidden",children:e.jsx("button",{type:"button",onClick:()=>Y(F=>!F),className:"text-xs text-emerald-300 hover:text-emerald-200",children:S?"Show fewer levels":"Show full timeline"})})]})]})})},Rm=Object.freeze(Object.defineProperty({__proto__:null,default:rc},Symbol.toStringTag,{value:"Module"})),gn=(t,s)=>{const l=!!(s!=null&&s.certified),i=(s==null?void 0:s.bestScore)??0,n=(s==null?void 0:s.failedAttempts)??0;return{label:t,certified:l,score:i,attempts:n}},Am=({gameState:t,careerPath:s,cashFlow:l,formatMoney:i,aiImpact:n,isProcessing:o,onPromote:u})=>{var S,Y,P,E,w;const[h,v]=d.useState(!1),b=t.career,_=((S=Ce[s])==null?void 0:S.levels)||[],g=(b==null?void 0:b.level)||1,r=_[g]||null,f=d.useMemo(()=>[gn("EQ",t.eqCourse),gn("Negotiation",t.negotiationsCourse),gn("Sales",t.salesAcceleratorCourse)],[t.eqCourse,t.negotiationsCourse,t.salesAcceleratorCourse]);return e.jsxs("div",{className:"space-y-8",children:[e.jsx("section",{className:"rounded-3xl border border-slate-800 bg-slate-900/50 p-6",children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`h-14 w-14 rounded-2xl bg-gradient-to-br ${((Y=t.character)==null?void 0:Y.avatarColor)||"from-slate-500 to-slate-600"} flex items-center justify-center text-2xl`,children:((P=Ce[s])==null?void 0:P.icon)||"üíº"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:(b==null?void 0:b.title)||"Unemployed"}),e.jsx("p",{className:"text-sm text-emerald-300",children:((E=Ce[s])==null?void 0:E.name)||"Unknown Path"}),e.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Monthly salary: ",i(l.salary)]})]})]}),e.jsxs("button",{type:"button",onClick:()=>v(!0),className:"inline-flex items-center gap-2 rounded-full border border-slate-700 px-4 py-2 text-xs font-semibold text-slate-200 hover:border-slate-500 hover:text-white",children:["View full career details",e.jsx(_d,{size:14})]})]})}),e.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"rounded-3xl border border-slate-800 bg-slate-900/40 p-6 lg:col-span-2",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(On,{size:18,className:"text-emerald-300"})," Career Summary"]}),e.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-4",children:[e.jsx("p",{className:"text-xs text-slate-400",children:"Current Level"}),e.jsx("p",{className:"text-lg font-semibold text-white",children:(b==null?void 0:b.level)||1}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Experience: ",(b==null?void 0:b.experience)||0," mo"]})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-4",children:[e.jsx("p",{className:"text-xs text-slate-400",children:"Next Growth Option"}),r?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:r.title}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[i(r.baseSalary),"/mo ‚Ä¢ ",r.experienceRequired," mo exp"]})]}):e.jsx("p",{className:"text-sm text-slate-300",children:"Max level reached."})]})]}),e.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-800 bg-slate-900/60 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ms,{size:16,className:"text-purple-300"}),e.jsx("p",{className:"text-sm font-semibold text-white",children:"AI Disruption Impact"})]}),e.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Disruption level: ",(((w=t.aiDisruption)==null?void 0:w.disruptionLevel)||0).toFixed(0),"% ‚Ä¢ Risk:"," ",(n==null?void 0:n.automationRisk)||"LOW"]})]})]}),e.jsxs("div",{className:"rounded-3xl border border-slate-800 bg-slate-900/40 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Ut,{size:18,className:"text-amber-300"})," Skills"]}),e.jsx("div",{className:"mt-4 space-y-3",children:f.map(y=>e.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:y.label}),e.jsxs("div",{className:`inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-[11px] ${y.certified?"border-emerald-500/40 bg-emerald-600/20 text-emerald-200":"border-slate-700 text-slate-400"}`,children:[e.jsx(bi,{size:12}),y.certified?"Certified":"Not certified"]})]}),e.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Best score: ",y.score]}),!y.certified&&e.jsxs("p",{className:"text-[11px] text-slate-500 mt-1",children:["Attempts: ",y.attempts]})]},y.label))})]})]}),e.jsxs("section",{className:"rounded-3xl border border-slate-800 bg-slate-900/40 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Progression"}),e.jsx("div",{className:"mt-4 space-y-2",children:_.map((y,C)=>{const M=g===C+1,j=g>C+1;return e.jsxs("div",{className:`flex items-center gap-3 rounded-2xl border p-3 ${M?"border-emerald-500/40 bg-emerald-600/10":"border-slate-800 bg-slate-900/40"}`,children:[e.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center text-xs font-semibold ${j?"bg-emerald-500 text-white":M?"bg-emerald-600 text-white":"bg-slate-700 text-slate-300"}`,children:j?"‚úì":C+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-sm ${M?"text-white font-semibold":"text-slate-300"}`,children:y.title}),e.jsxs("p",{className:"text-xs text-slate-500",children:[i(y.baseSalary),"/mo ‚Ä¢ ",y.experienceRequired," mo exp"]})]})]},y.title)})})]}),e.jsx(Re,{isOpen:h,onClose:()=>v(!1),ariaLabel:"Career details",overlayClassName:"items-stretch justify-end",contentClassName:"h-full max-w-2xl rounded-none rounded-l-3xl p-6 overflow-y-auto",children:e.jsx(rc,{gameState:t,careerPath:s,cashFlow:l,formatMoney:i,aiImpact:n,isProcessing:o,onPromote:u})})]})},Mm=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("section",{className:"rounded-3xl border border-slate-800 bg-slate-900/60 p-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Career"}),e.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Career progression, salary growth, and AI disruption insights will be organized here."})]})}),oc=t=>{var h,v,b,_,g;const{gameState:s,careerPath:l,formatMoney:i,handleEnrollEducation:n,coachLifestyleGridRef:o,coachHighlight:u}=t;return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded-xl p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ts,{className:"text-amber-400",size:18}),e.jsx("span",{className:"font-bold text-amber-400",children:"Education Relevance Warning"})]}),e.jsxs("p",{className:"text-slate-300 text-sm",children:["Only education relevant to your career path (",e.jsx("strong",{children:(h=Ce[l])==null?void 0:h.name}),") will boost your salary. Irrelevant degrees are a waste of time and money!"]})]}),((v=s.education.currentlyEnrolled)==null?void 0:v.educationId)&&e.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-xl p-4 mb-6",children:[e.jsx("h4",{className:"font-bold text-blue-400 mb-2",children:"üìö Currently Enrolled"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:(b=Xe.find(r=>{var f;return r.id===((f=s.education.currentlyEnrolled)==null?void 0:f.educationId)}))==null?void 0:b.name}),e.jsxs("p",{className:"text-slate-400 text-sm",children:[s.education.currentlyEnrolled.monthsRemaining," months remaining"]})]}),e.jsx("div",{className:"text-right",children:s.liabilities.find(r=>{var f,S,Y;return((f=r.name)==null?void 0:f.includes("Student Loan"))&&((Y=r.name)==null?void 0:Y.includes(((S=Xe.find(P=>{var E;return P.id===((E=s.education.currentlyEnrolled)==null?void 0:E.educationId)}))==null?void 0:S.name)||""))})&&e.jsxs("p",{className:"text-amber-400 text-sm",children:["Loan: ",i(((_=s.liabilities.find(r=>{var f;return(f=r.name)==null?void 0:f.includes("Student Loan")}))==null?void 0:_.monthlyPayment)||0),"/mo"]})})]}),e.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden mt-3",children:e.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${100-s.education.currentlyEnrolled.monthsRemaining/(((g=Xe.find(r=>{var f;return r.id===((f=s.education.currentlyEnrolled)==null?void 0:f.educationId)}))==null?void 0:g.duration)||1)*100}%`}})})]}),s.education.degrees.length>0&&e.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-700/50 rounded-xl p-4 mb-6",children:[e.jsx("h4",{className:"font-bold text-emerald-400 mb-2",children:"üéì Completed Degrees"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.education.degrees.map(r=>{const f=Xe.find(Y=>Y.id===r),S=f==null?void 0:f.relevantCareers.includes(l);return e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm ${S?"bg-emerald-600/30 text-emerald-400":"bg-slate-700 text-slate-400"}`,children:[f==null?void 0:f.icon," ",f==null?void 0:f.name," ",S?"‚úì":"(not relevant)"]},r)})})]}),e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Available Programs"}),e.jsx("div",{ref:o,className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${u("lifestyle-grid")}`,children:Xe.map(r=>{var L,Z,G,D;const f=r.relevantCareers.includes(l),S=s.education.degrees.includes(r.id),Y=!!((L=s.education.currentlyEnrolled)!=null&&L.educationId),E=r.cost>2e4?Math.round(r.cost*.1):r.cost,w=s.cash>=E,y=((Z=s.career)==null?void 0:Z.salary)||((G=s.playerJob)==null?void 0:G.salary)||0,C=f?Math.round(y*(r.salaryBoost-1)):0,M=C>0?Math.ceil(r.cost/C):null,j=!r.requirements||r.requirements.some(W=>s.education.degrees.some(Q=>{const re=Xe.find(k=>k.id===Q);return re&&re.level===W}));return e.jsxs("div",{className:`rounded-xl p-4 border transition-all ${S?"bg-slate-800/30 border-slate-700 opacity-60":j?f?"bg-emerald-900/10 border-emerald-700/50 hover:border-emerald-600/50":"bg-slate-800/50 border-slate-700 hover:border-slate-600":"bg-slate-800/30 border-slate-700 opacity-60"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:r.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold",children:r.name}),e.jsxs("p",{className:"text-slate-400 text-xs",children:[r.category," ‚Ä¢ ",r.duration," months"]})]})]}),S?e.jsx("span",{className:"px-2 py-0.5 bg-emerald-500/20 text-emerald-400 rounded text-xs",children:"‚úì Completed"}):f?e.jsx("span",{className:"px-2 py-0.5 bg-emerald-500/20 text-emerald-400 rounded text-xs",children:"‚úì Relevant"}):e.jsx("span",{className:"px-2 py-0.5 bg-red-500/20 text-red-400 rounded text-xs",children:"‚úó Not Relevant"})]}),e.jsx("p",{className:"text-slate-400 text-xs mb-2",children:r.description}),r.requirements&&e.jsxs("p",{className:`text-xs mb-2 ${j?"text-emerald-400":"text-red-400"}`,children:["Requires: ",r.requirements.join(" or ")," degree ",j?"‚úì":"‚úó"]}),e.jsxs("div",{className:"flex justify-between text-xs mb-3",children:[e.jsxs("span",{className:"text-slate-500",children:["Cost: ",i(r.cost)," (",i(E)," deposit)"]}),e.jsxs("span",{className:f?"text-emerald-400":"text-slate-500",children:["Salary Boost: ",f?`+${((r.salaryBoost-1)*100).toFixed(0)}%`:"None"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[e.jsxs("div",{className:"bg-slate-900/40 rounded-lg p-2",children:[e.jsx("p",{className:"text-slate-500",children:"Time"}),e.jsxs("p",{className:"text-white font-semibold",children:[r.duration," mo"]})]}),e.jsxs("div",{className:"bg-slate-900/40 rounded-lg p-2",children:[e.jsx("p",{className:"text-slate-500",children:"Salary delta"}),e.jsx("p",{className:f?"text-emerald-400 font-semibold":"text-slate-500 font-semibold",children:f?`+${i(C)}/mo`:"‚Äî"})]}),e.jsxs("div",{className:"bg-slate-900/40 rounded-lg p-2 col-span-2",children:[e.jsx("p",{className:"text-slate-500",children:"Est. payback"}),e.jsx("p",{className:f&&M?"text-emerald-300 font-semibold":"text-slate-500 font-semibold",children:f&&M?`${M} months`:"N/A"})]})]}),e.jsx("button",{onClick:()=>n(r),disabled:S||Y||!w||!j,className:`w-full py-2 rounded-lg text-sm font-medium transition-all ${S?"bg-slate-700 text-slate-500 cursor-not-allowed":j?Y?"bg-slate-700 text-slate-500 cursor-not-allowed":w?f?"bg-emerald-600 hover:bg-emerald-500 text-white":"bg-amber-600/20 hover:bg-amber-600/30 text-amber-400 border border-amber-600/50":"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-slate-700 text-slate-500 cursor-not-allowed"}`,children:S?"‚úì Completed":j?Y?"Already Enrolled":w?f?"Enroll Now":"‚ö†Ô∏è Enroll (Not Recommended)":`Need ${i(E)} deposit`:`Need ${(D=r.requirements)==null?void 0:D.join(" or ")} first`})]},r.id)})})]})},qm=Object.freeze(Object.defineProperty({__proto__:null,default:oc},Symbol.toStringTag,{value:"Module"})),Lm=({gameState:t,careerPath:s,formatMoney:l,handleEnrollEducation:i,coachLifestyleGridRef:n,coachHighlight:o,setGameState:u})=>{var S,Y,P,E,w,y,C;const[h,v]=d.useState("courses"),[b,_]=d.useState(null),g=d.useMemo(()=>{var j,L,Z;const M=[{label:"Sales Training",certified:!!((j=t.salesAcceleratorCourse)!=null&&j.certified)},{label:"Upgrade EQ",certified:!!((L=t.eqCourse)!=null&&L.certified)},{label:"Master Negotiations",certified:!!((Z=t.negotiationsCourse)!=null&&Z.certified)}];return M.find(G=>!G.certified)||M[0]},[(S=t.eqCourse)==null?void 0:S.certified,(Y=t.negotiationsCourse)==null?void 0:Y.certified,(P=t.salesAcceleratorCourse)==null?void 0:P.certified]),r=d.useMemo(()=>Xe.find(M=>M.relevantCareers.includes(s))||Xe[0],[s]),f=M=>`rounded-full px-4 py-2 text-xs font-semibold border transition ${h===M?"border-white bg-white text-slate-900":"border-slate-800 text-slate-200 hover:border-slate-600 hover:text-white"}`;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{className:"rounded-3xl border border-slate-800 bg-slate-900/50 p-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Learn"}),e.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Build certifications and education perks to accelerate your career path."})]}),e.jsxs("section",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-3xl border border-slate-800 bg-slate-900/40 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[e.jsx(Ut,{size:16,className:"text-amber-300"}),"Featured Course"]}),e.jsx("p",{className:"mt-3 text-lg font-semibold text-white",children:g.label}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:g.certified?"Certified":"Certification available"}),e.jsx("button",{type:"button",onClick:()=>{v("courses"),_("courses")},className:"mt-4 rounded-full border border-slate-700 px-4 py-2 text-xs font-semibold text-slate-200 hover:border-slate-500 hover:text-white",children:"Open course"})]}),e.jsxs("div",{className:"rounded-3xl border border-slate-800 bg-slate-900/40 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[e.jsx(Dn,{size:16,className:"text-emerald-300"}),"Featured Program"]}),e.jsx("p",{className:"mt-3 text-lg font-semibold text-white",children:r==null?void 0:r.name}),e.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[l((r==null?void 0:r.cost)||0)," ‚Ä¢ ",(E=Ce[s])==null?void 0:E.name]}),e.jsx("button",{type:"button",onClick:()=>{v("library"),_("library")},className:"mt-4 rounded-full border border-slate-700 px-4 py-2 text-xs font-semibold text-slate-200 hover:border-slate-500 hover:text-white",children:"View programs"})]})]}),e.jsxs("section",{className:"rounded-3xl border border-slate-800 bg-slate-900/40 p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-6",children:[e.jsx("button",{type:"button",className:f("courses"),onClick:()=>v("courses"),children:"Courses"}),e.jsx("button",{type:"button",className:f("quizzes"),onClick:()=>v("quizzes"),children:"Quizzes"}),e.jsx("button",{type:"button",className:f("library"),onClick:()=>v("library"),children:"Library"}),e.jsx("button",{type:"button",className:f("rewards"),onClick:()=>v("rewards"),children:"Rewards"})]}),h==="courses"&&e.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/50 p-4 text-sm text-slate-300 flex items-center justify-between",children:[e.jsx("span",{children:"Certifications, practice, and course progression."}),e.jsx("button",{type:"button",onClick:()=>_("courses"),className:"rounded-full border border-slate-700 px-3 py-1 text-xs font-semibold text-slate-200 hover:border-slate-500 hover:text-white",children:"Open"})]}),h==="quizzes"&&e.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/50 p-4 text-sm text-slate-300 flex items-center justify-between",children:[e.jsx("span",{children:"Quick tests live inside your certification courses."}),e.jsx("button",{type:"button",onClick:()=>_("courses"),className:"rounded-full border border-slate-700 px-3 py-1 text-xs font-semibold text-slate-200 hover:border-slate-500 hover:text-white",children:"Open courses"})]}),h==="library"&&e.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/50 p-4 text-sm text-slate-300 flex items-center justify-between",children:[e.jsx("span",{children:"Formal education programs and degrees."}),e.jsx("button",{type:"button",onClick:()=>_("library"),className:"rounded-full border border-slate-700 px-3 py-1 text-xs font-semibold text-slate-200 hover:border-slate-500 hover:text-white",children:"Open library"})]}),h==="rewards"&&e.jsx("div",{className:"grid gap-3 md:grid-cols-3",children:[{label:"Sales Training",certified:!!((w=t.salesAcceleratorCourse)!=null&&w.certified)},{label:"Upgrade EQ",certified:!!((y=t.eqCourse)!=null&&y.certified)},{label:"Master Negotiations",certified:!!((C=t.negotiationsCourse)!=null&&C.certified)}].map(M=>e.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/50 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[e.jsx(bi,{size:14,className:"text-emerald-300"}),M.label]}),e.jsx("p",{className:`mt-2 text-xs ${M.certified?"text-emerald-300":"text-slate-500"}`,children:M.certified?"Certified":"Not certified"})]},M.label))})]}),e.jsx(Re,{isOpen:b==="courses",onClose:()=>_(null),ariaLabel:"Courses",overlayClassName:"items-stretch justify-end",contentClassName:"h-full max-w-4xl rounded-none rounded-l-3xl p-6 overflow-y-auto",children:e.jsx(sc,{gameState:t,setGameState:u,formatMoney:l})}),e.jsx(Re,{isOpen:b==="library",onClose:()=>_(null),ariaLabel:"Education library",overlayClassName:"items-stretch justify-end",contentClassName:"h-full max-w-4xl rounded-none rounded-l-3xl p-6 overflow-y-auto",children:e.jsx(oc,{gameState:t,careerPath:s,formatMoney:l,handleEnrollEducation:i,coachLifestyleGridRef:n,coachHighlight:o})})]})},Pm=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("section",{className:"rounded-3xl border border-slate-800 bg-slate-900/60 p-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Learn"}),e.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Certifications, quizzes, and coaching content will live here."})]})}),lc=t=>{const{gameState:s,formatMoney:l,handleChangeLifestyle:i,coachLifestyleGridRef:n,coachHighlight:o,coachHint:u,activeTab:h,InfoTip:v}=t,b=d.useMemo(()=>Object.entries(vt).map(([E,w])=>({key:E,name:E.toLowerCase(),cost:w.cost,happiness:w.happiness,icon:w.icon})),[]),_=b.find(E=>E.key===s.lifestyle),g=b.filter(E=>E.key!==s.lifestyle),r=b.map(E=>E.cost),f=Math.min(...r),S=Math.max(...r),[Y,P]=d.useState(vt[s.lifestyle].cost);return e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Choose Your Lifestyle"}),e.jsx("p",{className:"text-slate-400 mb-6",children:"Your lifestyle determines your monthly expenses and happiness."}),e.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:"Lifestyle trade-offs"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Cost vs happiness (tap a point to choose)"})]}),e.jsxs("div",{className:"text-xs text-slate-400",children:["Budget target: ",e.jsx("span",{className:"text-white font-semibold",children:l(Y)})]})]}),e.jsx("div",{className:"h-56",children:e.jsx(yt,{width:"100%",height:"100%",children:e.jsxs(Md,{margin:{top:10,right:12,left:0,bottom:10},children:[e.jsx(qd,{stroke:"#1f2937",strokeDasharray:"3 3"}),e.jsx(qt,{type:"number",dataKey:"cost",tick:{fill:"#94a3b8",fontSize:11},tickFormatter:E=>l(E),domain:[f*.9,S*1.05]}),e.jsx(Lt,{type:"number",dataKey:"happiness",tick:{fill:"#94a3b8",fontSize:11},domain:[-20,40]}),e.jsx(mt,{cursor:{stroke:"#334155"},contentStyle:{background:"#0f172a",border:"1px solid #1e293b",borderRadius:8,fontSize:12},formatter:(E,w)=>w==="cost"?[l(E),"Monthly cost"]:[E,"Happiness"],labelFormatter:(E,w)=>{var C;const y=(C=w==null?void 0:w[0])==null?void 0:C.payload;return y!=null&&y.name?y.name:""}}),e.jsx(Ld,{x:Y,stroke:"#22d3ee",strokeDasharray:"4 4"}),e.jsx(ko,{data:g,fill:"#94a3b8",onClick:E=>{const w=E==null?void 0:E.payload;w!=null&&w.key&&i(w.key)}}),_&&e.jsx(ko,{data:[_],fill:"#34d399",onClick:E=>{const w=E==null?void 0:E.payload;w!=null&&w.key&&i(w.key)}})]})})}),e.jsx("input",{type:"range",min:f,max:S,value:Y,onChange:E=>P(Number(E.target.value)),className:"mt-4 w-full accent-emerald-500"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(vt).map(([E,w])=>e.jsxs(ne.div,{whileHover:{scale:1.02},onClick:()=>i(E),className:`p-4 rounded-xl cursor-pointer transition-all ${s.lifestyle===E?"bg-emerald-600/20 border-2 border-emerald-500":"bg-slate-800/50 border border-slate-700 hover:border-slate-600"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-3xl",children:w.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-bold capitalize",children:E.toLowerCase()}),e.jsx("p",{className:"text-slate-400 text-sm",children:w.description})]})]}),e.jsxs("div",{className:"flex justify-between mt-3 text-sm",children:[e.jsx("span",{className:"text-slate-400",children:"Monthly Cost:"}),e.jsx("span",{className:"text-white font-medium",children:l(w.cost)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-400",children:"Happiness:"}),e.jsxs("span",{className:w.happiness>=0?"text-emerald-400":"text-red-400",children:[w.happiness>=0?"+":"",w.happiness]})]}),s.lifestyle===E&&e.jsx("div",{className:"mt-3 text-center",children:e.jsx("span",{className:"px-3 py-1 bg-emerald-600/30 text-emerald-400 rounded-full text-sm",children:"Current Lifestyle"})})]},E))}),e.jsxs("div",{className:"mt-8 bg-slate-800/50 border border-slate-700 rounded-xl p-4",children:[e.jsx("h3",{className:"font-bold text-white mb-4",children:"Your Stats"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{label:"Happiness",value:s.stats.happiness,color:"emerald",tipId:"stat-happiness",tipText:"Happiness affects promotions: above ~50 increases promotion chance, below ~50 reduces it."},{label:"Health",value:s.stats.health,color:"red",tipId:"stat-health",tipText:"Health affects productivity: Health < 30 reduces Monthly Actions by 1. Low health also increases the chance of costly medical events."},{label:"Energy",value:s.stats.energy,color:"amber",tipId:"stat-energy",tipText:"Energy drives productivity: Energy < 35 reduces Monthly Actions by 1. Energy ‚â• 70 and Stress ‚â§ 60 gives +1 Monthly Action."},{label:"Stress",value:s.stats.stress,color:"purple",invert:!0,tipId:"stat-stress",tipText:"Stress reduces promotions and productivity: above ~30 lowers promotion chance; Stress ‚â• 85 reduces Monthly Actions by 1. High stress drains health over time."},{label:"Networking",value:s.stats.networking,color:"blue",tipId:"stat-networking",tipText:"Networking improves promotion odds. Networking actions raise this stat, helping you grow salary faster."},{label:"Financial IQ",value:s.stats.financialIQ,color:"cyan",tipId:"stat-financialiq",tipText:"Financial IQ boosts passive income (up to ~5%) and helps you make better investment decisions over time."}].map(E=>e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[e.jsxs("p",{className:"text-slate-400 text-xs mb-1 flex items-center gap-1",children:[e.jsx("span",{children:E.label}),e.jsx(v,{id:E.tipId,text:E.tipText})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-2 bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full bg-${E.color}-500 transition-all`,style:{width:`${E.value}%`}})}),e.jsx("span",{className:"text-white text-sm font-medium w-8",children:E.value})]})]},E.label))}),e.jsxs("div",{className:"mt-4 bg-slate-900/40 border border-slate-700/60 rounded-lg p-3",children:[e.jsx("p",{className:"text-white text-sm font-semibold mb-1",children:"How this impacts you"}),e.jsxs("ul",{className:"text-slate-400 text-xs space-y-1",children:[e.jsxs("li",{children:["‚Ä¢ Monthly Actions: ",e.jsx("span",{className:"text-white font-medium",children:s.monthlyActionsMax})," (energy/health/stress thresholds apply)"]}),e.jsx("li",{children:"‚Ä¢ Promotion odds are driven by Networking + Happiness ‚àí Stress (higher stats = faster salary growth)"}),e.jsx("li",{children:"‚Ä¢ Low Health / high Stress increases the chance of expensive medical events"})]})]})]})]})},Om=Object.freeze(Object.defineProperty({__proto__:null,default:lc},Symbol.toStringTag,{value:"Module"})),cc=t=>{var W,Q,re;const{gameState:s,cashFlow:l,formatMoney:i,getHustleUpgradeLabel:n,getNextHustleMilestone:o,handleStartSideHustle:u,handleStopSideHustle:h,setShowSideHustleUpgradeModal:v,coachSideHustlesRef:b,coachHighlight:_}=t,[g,r]=d.useState("ALL"),[f,S]=d.useState("income"),[Y,P]=d.useState("desc"),[E,w]=d.useState(!1),[y,C]=d.useState([]),M=d.useMemo(()=>Rl.map(k=>{var ge,ve,we;const R=(k.incomeRange.min+k.incomeRange.max)/2,H=R>0?k.startupCost/R:1/0,F=k.aiVulnerability>.6?"HIGH":k.aiVulnerability>.3?"MEDIUM":"LOW",V=!!s.activeSideHustles.find(Ee=>Ee.id===k.id),ie=s.cash>=k.startupCost,te=((ge=s.career)==null?void 0:ge.level)??((ve=s.playerJob)==null?void 0:ve.level)??0,se=!k.requiredCareerLevel||te>=k.requiredCareerLevel,de=!k.requiredCareerPath||((we=s.career)==null?void 0:we.path)&&k.requiredCareerPath.includes(s.career.path),he=(!k.requiredEducation||k.requiredEducation.length===0||k.requiredEducation.some(Ee=>s.education.degrees.some(pe=>{var be;return((be=Xe.find($=>$.id===pe))==null?void 0:be.category)===Ee})))&&se&&de;return{hustle:k,avgIncome:R,payback:H,aiRisk:F,isActive:V,canAfford:ie,isUnlocked:he}}),[s.activeSideHustles,s.cash,(W=s.career)==null?void 0:W.level,(Q=s.career)==null?void 0:Q.path,s.education.degrees,(re=s.playerJob)==null?void 0:re.level]),j=d.useMemo(()=>M.filter(k=>g==="ALL"||k.aiRisk===g),[M,g]),L=d.useMemo(()=>[...j].sort((R,H)=>{const F=Y==="asc"?1:-1;switch(f){case"name":return F*R.hustle.name.localeCompare(H.hustle.name);case"income":return F*(R.avgIncome-H.avgIncome);case"energy":return F*(R.hustle.energyCost-H.hustle.energyCost);case"stress":return F*(R.hustle.stressIncrease-H.hustle.stressIncrease);case"ai":return F*(R.hustle.aiVulnerability-H.hustle.aiVulnerability);case"payback":return F*(R.payback-H.payback);default:return 0}}),[j,Y,f]),Z=d.useMemo(()=>y.map(k=>M.find(R=>R.hustle.id===k)).filter(k=>!!k),[y,M]),G=d.useMemo(()=>{if(Z.length!==2)return[];const[k,R]=Z,H=Math.max(k.avgIncome,R.avgIncome,1),F=Math.max(k.hustle.energyCost,R.hustle.energyCost,1),V=Math.max(k.hustle.stressIncrease,R.hustle.stressIncrease,1),ie=Math.max(k.hustle.aiVulnerability,R.hustle.aiVulnerability,.1),te=Math.max(k.payback,R.payback,1),se=de=>Math.max(0,100-de/te*100);return[{metric:"Income",[k.hustle.id]:k.avgIncome/H*100,[R.hustle.id]:R.avgIncome/H*100},{metric:"Energy Cost",[k.hustle.id]:k.hustle.energyCost/F*100,[R.hustle.id]:R.hustle.energyCost/F*100},{metric:"Stress Cost",[k.hustle.id]:k.hustle.stressIncrease/V*100,[R.hustle.id]:R.hustle.stressIncrease/V*100},{metric:"AI Risk",[k.hustle.id]:k.hustle.aiVulnerability/ie*100,[R.hustle.id]:R.hustle.aiVulnerability/ie*100},{metric:"Payback",[k.hustle.id]:se(k.payback),[R.hustle.id]:se(R.payback)}]},[Z]),D=k=>{if(f===k){P(R=>R==="asc"?"desc":"asc");return}S(k),P(k==="name"?"asc":"desc")};return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4 mb-6",children:[e.jsxs("h3",{className:"font-bold text-white mb-3 flex items-center gap-2",children:[e.jsx(oi,{className:"text-amber-400",size:20}),"Your Active Side Hustles"]}),s.activeSideHustles.length===0?e.jsx("p",{className:"text-slate-400 text-sm",children:"No active side hustles. Start one below to earn extra income!"}):e.jsxs("div",{className:"space-y-3",children:[s.activeSideHustles.map(k=>{var ge,ve;const R=k.aiVulnerability*(((ge=s.aiDisruption)==null?void 0:ge.disruptionLevel)||0)/100,H=Math.round(k.incomeRange.min*(1-R*.5)),F=Math.round(k.incomeRange.max*(1-R*.5)),V=k.monthsActive??0,ie=k.upgrades||[],te=ie.map((we,Ee)=>n(k,Ee,we)).filter(we=>!!we),se=o(k),de=se==null?void 0:se.milestone,xe=de?Math.max(0,de.monthsRequired-V):null,he=((ve=s.pendingSideHustleUpgrade)==null?void 0:ve.hustleId)===k.id;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-emerald-900/20 border border-emerald-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:k.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:k.name}),e.jsxs("p",{className:"text-emerald-400 text-sm",children:[i(H),"-",i(F),"/mo",R>.1&&e.jsxs("span",{className:"text-amber-400 ml-1",children:["(AI impact: -",Math.round(R*50),"%)"]})]}),e.jsxs("p",{className:"text-slate-400 text-xs",children:["Level ",ie.length+1," ‚Ä¢ ",V," months active",de&&e.jsxs("span",{className:"text-slate-500",children:[" ‚Ä¢ Next milestone: ",de.monthsRequired," mo (",xe," mo)"]})]}),te.length>0&&e.jsxs("p",{className:"text-slate-500 text-xs",children:["Upgrades: ",te.join(", ")]}),he&&e.jsx("button",{onClick:()=>v(!0),className:"mt-2 inline-flex items-center gap-2 text-xs px-3 py-1.5 rounded-md border border-amber-500/40 text-amber-300 bg-amber-500/10 hover:bg-amber-500/20 transition-all",children:"Choose upgrade"})]})]}),e.jsx("button",{onClick:()=>h(k.id),className:"px-4 py-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 rounded-lg text-sm border border-red-600/30 transition-all",children:e.jsx(Cd,{size:16})})]},k.id)}),e.jsx("div",{className:"mt-4 p-3 bg-slate-700/30 rounded-lg",children:e.jsxs("p",{className:"text-sm text-slate-400",children:["Estimated active side hustle income: ",e.jsx("span",{className:"text-emerald-400 font-bold",children:i(l.sideHustleIncome)})]})})]})]}),e.jsxs("div",{ref:b,className:`${_("sidehustles-list")}`,children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Available Side Hustles"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Sort and compare trade-offs before starting."})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[["ALL","LOW","MEDIUM","HIGH"].map(k=>e.jsx("button",{onClick:()=>r(k),className:`px-3 py-1.5 rounded-full text-xs border ${g===k?"bg-emerald-600/30 border-emerald-500/50 text-emerald-200":"bg-slate-800 border-slate-700 text-slate-400 hover:text-white"}`,children:k==="ALL"?"All risk":`${k} risk`},k)),e.jsx("button",{onClick:()=>{w(k=>!k),E&&C([])},className:`px-3 py-1.5 rounded-full text-xs border ${E?"bg-emerald-600/30 border-emerald-500/50 text-emerald-200":"bg-slate-800 border-slate-700 text-slate-400 hover:text-white"}`,children:E?"Compare: ON":"Compare"})]})]}),e.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-700 bg-slate-900/40",children:e.jsxs("table",{className:"min-w-full text-sm text-slate-300",children:[e.jsx("thead",{className:"text-xs uppercase text-slate-500",children:e.jsxs("tr",{children:[E&&e.jsx("th",{className:"px-3 py-2 text-left",children:"Compare"}),e.jsx("th",{className:"px-3 py-2 text-left cursor-pointer",onClick:()=>D("name"),children:"Name"}),e.jsx("th",{className:"px-3 py-2 text-right cursor-pointer",onClick:()=>D("income"),children:"Monthly Income"}),e.jsx("th",{className:"px-3 py-2 text-right cursor-pointer",onClick:()=>D("energy"),children:"Energy"}),e.jsx("th",{className:"px-3 py-2 text-right cursor-pointer",onClick:()=>D("stress"),children:"Stress"}),e.jsx("th",{className:"px-3 py-2 text-center cursor-pointer",onClick:()=>D("ai"),children:"AI Risk"}),e.jsx("th",{className:"px-3 py-2 text-right cursor-pointer",onClick:()=>D("payback"),children:"Payback"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"Action"})]})}),e.jsx("tbody",{children:L.map(k=>{const{hustle:R,avgIncome:H,payback:F,aiRisk:V,isActive:ie,canAfford:te,isUnlocked:se}=k,de=y.length<2||y.includes(R.id),xe=Number.isFinite(F)?`${F.toFixed(1)} mo`:"‚Äî";return e.jsxs("tr",{className:"border-t border-slate-800",children:[E&&e.jsx("td",{className:"px-3 py-3",children:e.jsx("input",{type:"checkbox",className:"rounded border-slate-600 bg-slate-900",checked:y.includes(R.id),disabled:!de,onChange:he=>{const ge=he.target.checked;C(ve=>ge?[...ve,R.id].slice(0,2):ve.filter(we=>we!==R.id))}})}),e.jsx("td",{className:"px-3 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:R.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-semibold",children:R.name}),e.jsxs("p",{className:"text-xs text-slate-500",children:[R.hoursPerWeek," hrs/week"]})]})]})}),e.jsx("td",{className:"px-3 py-3 text-right",children:e.jsxs("span",{className:"text-emerald-300",children:[i(R.incomeRange.min),"-",i(R.incomeRange.max)]})}),e.jsxs("td",{className:"px-3 py-3 text-right text-amber-300",children:["-",R.energyCost]}),e.jsxs("td",{className:"px-3 py-3 text-right text-red-300",children:["+",R.stressIncrease]}),e.jsx("td",{className:"px-3 py-3 text-center",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${V==="LOW"?"bg-emerald-500/20 text-emerald-300":V==="MEDIUM"?"bg-amber-500/20 text-amber-300":"bg-red-500/20 text-red-300"}`,children:V})}),e.jsx("td",{className:"px-3 py-3 text-right text-slate-300",children:xe}),e.jsx("td",{className:"px-3 py-3 text-right",children:e.jsx("button",{onClick:()=>u(R),disabled:ie||!te||!se,className:`px-3 py-2 rounded-lg text-xs font-semibold transition-all ${ie?"bg-emerald-600/20 text-emerald-300 cursor-not-allowed":!te||!se?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-500 text-white"}`,children:ie?"Active":e.jsxs(e.Fragment,{children:[e.jsx(Pn,{size:14})," Start"]})})})]},R.id)})})]})}),E&&Z.length===2&&e.jsxs("div",{className:"mt-4 rounded-xl border border-slate-700 bg-slate-900/50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:"Hustle comparison"}),e.jsxs("p",{className:"text-xs text-slate-400",children:[Z[0].hustle.name," vs ",Z[1].hustle.name]})]}),e.jsx("div",{className:"h-64 mt-3",children:e.jsx(yt,{width:"100%",height:"100%",children:e.jsxs(Pd,{data:G,children:[e.jsx(Od,{stroke:"#1f2937"}),e.jsx(Dd,{dataKey:"metric",tick:{fill:"#94a3b8",fontSize:11}}),e.jsx(Bd,{angle:90,domain:[0,100],tick:!1}),e.jsx(Io,{name:Z[0].hustle.name,dataKey:Z[0].hustle.id,stroke:"#34d399",fill:"#34d399",fillOpacity:.2}),e.jsx(Io,{name:Z[1].hustle.name,dataKey:Z[1].hustle.id,stroke:"#60a5fa",fill:"#60a5fa",fillOpacity:.2}),e.jsx(mt,{})]})})})]})]})]})},Dm=Object.freeze(Object.defineProperty({__proto__:null,default:cc},Symbol.toStringTag,{value:"Module"})),Bm=({gameState:t,cashFlow:s,formatMoney:l,handleChangeLifestyle:i,coachLifestyleGridRef:n,coachHighlight:o,coachHint:u,InfoTip:h,getHustleUpgradeLabel:v,getNextHustleMilestone:b,handleStartSideHustle:_,handleStopSideHustle:g,setShowSideHustleUpgradeModal:r,coachSideHustlesRef:f,forcedTab:S})=>{var j,L,Z,G,D,W,Q,re,k,R,H,F,V,ie;const[Y,P]=d.useState("lifestyle"),[E,w]=d.useState(null);d.useEffect(()=>{S&&P(S)},[S]);const y=vt[t.lifestyle],C=d.useMemo(()=>{var se,de,xe,he,ge,ve,we;const te=(se=t.family)==null?void 0:se.spouse;return(xe=(de=t.family)==null?void 0:de.children)!=null&&xe.length,!te&&!((he=t.family)!=null&&he.isEngaged)&&!((ge=t.family)!=null&&ge.inRelationship)?"Single":(ve=t.family)!=null&&ve.isEngaged?"Engaged":te?`Married to ${te.name}`:(we=t.family)!=null&&we.inRelationship?"In a relationship":"Family"},[t.family]),M=te=>`rounded-full px-4 py-2 text-xs font-semibold border transition ${Y===te?"border-white bg-white text-slate-900":"border-slate-800 text-slate-200 hover:border-slate-600 hover:text-white"}`;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{className:"rounded-3xl border border-slate-800 bg-slate-900/50 p-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Life"}),e.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Balance lifestyle, side hustles, and family decisions."})]}),e.jsxs("section",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"rounded-3xl border border-slate-800 bg-slate-900/40 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[e.jsx(_l,{size:16,className:"text-emerald-300"})," Lifestyle"]}),e.jsx("p",{className:"mt-2 text-lg font-semibold text-white capitalize",children:t.lifestyle.toLowerCase()}),e.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[l(y.cost),"/mo"]}),e.jsx("button",{type:"button",onClick:()=>{P("lifestyle"),w("lifestyle")},className:"mt-4 rounded-full border border-slate-700 px-4 py-2 text-xs font-semibold text-slate-200 hover:border-slate-500 hover:text-white",children:"View details"})]}),e.jsxs("div",{className:"rounded-3xl border border-slate-800 bg-slate-900/40 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[e.jsx(Bs,{size:16,className:"text-amber-300"})," Side Hustles"]}),e.jsxs("p",{className:"mt-2 text-lg font-semibold text-white",children:[t.activeSideHustles.length," active"]}),e.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[l(s.sideHustleIncome),"/mo income"]}),e.jsx("button",{type:"button",onClick:()=>{P("sidehustles"),w("sidehustles")},className:"mt-4 rounded-full border border-slate-700 px-4 py-2 text-xs font-semibold text-slate-200 hover:border-slate-500 hover:text-white",children:"View details"})]}),e.jsxs("div",{className:"rounded-3xl border border-slate-800 bg-slate-900/40 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[e.jsx(ba,{size:16,className:"text-pink-300"})," Family"]}),e.jsx("p",{className:"mt-2 text-lg font-semibold text-white",children:C}),e.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Children: ",((L=(j=t.family)==null?void 0:j.children)==null?void 0:L.length)||0]}),e.jsx("button",{type:"button",onClick:()=>{P("family"),w("family")},className:"mt-4 rounded-full border border-slate-700 px-4 py-2 text-xs font-semibold text-slate-200 hover:border-slate-500 hover:text-white",children:"View details"})]})]}),e.jsxs("section",{className:"rounded-3xl border border-slate-800 bg-slate-900/40 p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-6",children:[e.jsx("button",{type:"button",className:M("lifestyle"),onClick:()=>P("lifestyle"),children:"Lifestyle"}),e.jsx("button",{type:"button",className:M("sidehustles"),onClick:()=>P("sidehustles"),children:"Side Hustles"}),e.jsx("button",{type:"button",className:M("family"),onClick:()=>P("family"),children:"Family"})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/50 p-4 text-sm text-slate-300 flex items-center justify-between",children:[e.jsxs("span",{children:[Y==="lifestyle"&&"Lifestyle choices affect expenses, happiness, and stats.",Y==="sidehustles"&&"Manage side hustles, upgrades, and income.",Y==="family"&&"Family events and relationships live here."]}),e.jsx("button",{type:"button",onClick:()=>w(Y),className:"rounded-full border border-slate-700 px-3 py-1 text-xs font-semibold text-slate-200 hover:border-slate-500 hover:text-white",children:"Open details"})]})]}),e.jsx(Re,{isOpen:E==="lifestyle",onClose:()=>w(null),ariaLabel:"Lifestyle",overlayClassName:"items-stretch justify-end",contentClassName:"h-full max-w-4xl rounded-none rounded-l-3xl p-6 overflow-y-auto",children:e.jsx(lc,{gameState:t,formatMoney:l,handleChangeLifestyle:i,coachLifestyleGridRef:n,coachHighlight:o,coachHint:u,activeTab:ce.LIFESTYLE,InfoTip:h})}),e.jsx(Re,{isOpen:E==="sidehustles",onClose:()=>w(null),ariaLabel:"Side Hustles",overlayClassName:"items-stretch justify-end",contentClassName:"h-full max-w-4xl rounded-none rounded-l-3xl p-6 overflow-y-auto",children:e.jsx(cc,{gameState:t,cashFlow:s,formatMoney:l,getHustleUpgradeLabel:v,getNextHustleMilestone:b,handleStartSideHustle:_,handleStopSideHustle:g,setShowSideHustleUpgradeModal:r,coachSideHustlesRef:f,coachHighlight:o})}),e.jsx(Re,{isOpen:E==="family",onClose:()=>w(null),ariaLabel:"Family",overlayClassName:"items-stretch justify-end",contentClassName:"h-full max-w-3xl rounded-none rounded-l-3xl p-6 overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Family"}),!((Z=t.family)!=null&&Z.spouse)&&!((G=t.family)!=null&&G.isEngaged)&&!((D=t.family)!=null&&D.inRelationship)?e.jsx("p",{className:"text-slate-400 text-sm",children:"Single - romance may come your way! üíï"}):e.jsxs("div",{className:"space-y-3",children:[((W=t.family)==null?void 0:W.inRelationship)&&!((Q=t.family)!=null&&Q.isEngaged)&&!((re=t.family)!=null&&re.spouse)&&e.jsx("div",{className:"bg-pink-500/20 rounded-lg p-2 text-center",children:e.jsx("span",{className:"text-pink-400 font-medium",children:"üíï In a Relationship"})}),((k=t.family)==null?void 0:k.isEngaged)&&!((R=t.family)!=null&&R.spouse)&&e.jsx("div",{className:"bg-pink-500/20 rounded-lg p-2 text-center",children:e.jsx("span",{className:"text-pink-400 font-medium",children:"üíç Engaged!"})}),((H=t.family)==null?void 0:H.spouse)&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-white font-medium",children:["üë´ Married to ",t.family.spouse.name]}),e.jsxs("p",{className:"text-slate-400 text-xs",children:[(F=Ce[t.family.spouse.careerPath])==null?void 0:F.icon," ",(V=Ce[t.family.spouse.careerPath])==null?void 0:V.name," ‚Ä¢ ",l(t.family.spouse.income),"/mo"]})]}),((ie=t.family)==null?void 0:ie.children)&&t.family.children.length>0&&e.jsxs("div",{className:"border-t border-slate-700 pt-2",children:[e.jsxs("p",{className:"text-slate-400 text-xs mb-2",children:["Children (",t.family.children.length,"):"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.family.children.map(te=>{const de=t.month-te.birthMonth<0;return e.jsx("span",{className:"px-2 py-1 bg-slate-700 rounded-full text-xs text-white",children:de?"ü§∞ Due soon":`üë∂ ${te.name}, ${te.age}y`},te.id)})})]})]})]})})]})},zm=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("section",{className:"rounded-3xl border border-slate-800 bg-slate-900/60 p-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Life"}),e.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Lifestyle choices, goals, and life events will be surfaced here."})]})}),Ym=(t,s)=>t?"Resolve the current event before taking actions.":s<=0?"No Monthly Actions remaining.":"",Hm=(t,s)=>{var E,w,y,C,M;const l=t.monthlyActionsMax??2,i=typeof t.monthlyActionsRemaining=="number"?t.monthlyActionsRemaining:l,n=((E=t.stats)==null?void 0:E.energy)??0,o=((w=t.stats)==null?void 0:w.stress)??0,u=((y=t.stats)==null?void 0:y.health)??0,h=n>=70&&o<=60,v=(((C=t.career)==null?void 0:C.level)??((M=t.playerJob)==null?void 0:M.level)??0)>=3,b=n<35||o>=85||u<30,_=h?"Bonus: +1 action (high energy, manageable stress)":b?"Penalty: -1 action (low energy / high stress / low health)":v?"Bonus: +1 action (career momentum)":"Tip: keep energy high and stress low for more actions",g=`Monthly Actions start at 2. +1 if Energy ‚â• 70 AND Stress ‚â§ 60. +1 if Career level ‚â• 3. -1 if Energy < 35 OR Stress ‚â• 85 OR Health < 30. Range: 1‚Äì4. This month: Energy ${Math.round(n)}, Stress ${Math.round(o)}, Health ${Math.round(u)} ‚Üí Max ${l}.`,r=s||!!t.pendingScenario||!!t.hasWon||!!t.isBankrupt,f=n<20,S=(t.activeSideHustles||[]).length>0,Y=Ym(r,i),P=[{id:"OVERTIME",title:"Work Overtime",subtitle:"+10% salary bonus (next month)",details:"-15 energy ‚Ä¢ +12 stress",category:"income",disabled:r||i<=0||f,disabledReason:Y||(f?"Too drained (need 20+ energy).":void 0)},{id:"NETWORK",title:"Networking",subtitle:"+$0‚Äì$500 chance ‚Ä¢ +networking",details:"Cost: $100 ‚Ä¢ +12 networking",category:"income",disabled:r||i<=0||t.cash<100,disabledReason:Y||(t.cash<100?"Need $100 cash.":void 0)},{id:"TRAINING",title:"Skill Training",subtitle:"+12 Financial IQ (stronger investing)",details:"Cost: $300 ‚Ä¢ -8 energy ‚Ä¢ +4 stress",category:"growth",disabled:r||i<=0||f||t.cash<300,disabledReason:Y||(t.cash<300?"Need $300 cash.":void 0)||(f?"Too drained (need 20+ energy).":void 0)},{id:"HUSTLE_SPRINT",title:"Hustle Sprint",subtitle:"+25% side hustle income (next month)",details:"Requires active hustle ‚Ä¢ -12 energy ‚Ä¢ +10 stress",category:"income",disabled:r||i<=0||f||!S,disabledReason:Y||(S?void 0:"Start a hustle first.")||(f?"Too drained (need 20+ energy).":void 0)},{id:"RECOVER",title:"Recover",subtitle:"Restore energy & reduce stress",details:"+18 energy ‚Ä¢ -15 stress ‚Ä¢ +4 health",category:"recovery",disabled:r||i<=0,disabledReason:Y||void 0}];return{max:l,remaining:i,reason:_,tooltip:g,locked:r,actions:P}},$m=d.lazy(()=>Vt(()=>import("./OverviewTab-Bo407P8U.js"),__vite__mapDeps([0,1,2,3,4,5]))),Fm=d.lazy(()=>Vt(()=>Promise.resolve().then(()=>jm),void 0)),Um=d.lazy(()=>Vt(()=>Promise.resolve().then(()=>Sm),void 0)),Qm=d.lazy(()=>Vt(()=>Promise.resolve().then(()=>Em),void 0)),Vm=d.lazy(()=>Vt(()=>Promise.resolve().then(()=>Rm),void 0)),Km=d.lazy(()=>Vt(()=>Promise.resolve().then(()=>qm),void 0)),Wm=d.lazy(()=>Vt(()=>Promise.resolve().then(()=>Dm),void 0)),Gm=d.lazy(()=>Vt(()=>Promise.resolve().then(()=>Om),void 0)),me=t=>au(t),K=t=>ya(t,{maximumFractionDigits:0}),rt=t=>iu(t,1),sl=(t,s,l)=>Math.max(s,Math.min(l,t)),Jm={[ce.INVEST]:"I",[ce.ASSETS]:"P",[ce.BANK]:"B",[ce.CAREER]:"C",[ce.EDUCATION]:"E",[ce.SIDEHUSTLE]:"S",[ce.LIFESTYLE]:"L"},Ga=t=>({[z.STOCK]:"üìà",[z.INDEX_FUND]:"üìä",[z.BOND]:"üìú",[z.REAL_ESTATE]:"üè†",[z.BUSINESS]:"üè™",[z.CRYPTO]:"‚Çø",[z.COMMODITY]:"ü•á",[z.SAVINGS]:"üè¶"})[t]||"üí∞",xn=t=>{const s=t.quantity||1;return Math.max(750,Math.round(t.value*s*.06))},al=t=>{const s=t.quantity||1,l=Math.max(0,t.cashFlow||0)*s,i=t.volatility??0,n=t.opsUpgrade?.6:1,o=i*.6*n,u=sl(1-o,.55,1.45),h=sl(1+o,.55,1.45);return{min:Math.round(l*u),max:Math.round(l*h)}},il=t=>{const s=t.milestones||[],l=(t.upgrades||[]).length,i=s[l];return i?{milestone:i,index:l}:null},nl=(t,s,l)=>{var o;if(!l)return null;const i=(o=t.milestones)==null?void 0:o[s],n=i==null?void 0:i.options.find(u=>u.id===l);return(n==null?void 0:n.label)||l},Xm=t=>{const s=t.effects||{},l=[];if(typeof s.incomeMultiplier=="number"){const i=Math.round((s.incomeMultiplier-1)*100);i!==0&&l.push(`Income ${i>0?"+":""}${i}%`)}if(typeof s.passiveIncomeShare=="number"&&s.passiveIncomeShare>0&&l.push(`Passive ${Math.round(s.passiveIncomeShare*100)}%`),typeof s.energyMultiplier=="number"){const i=Math.round((s.energyMultiplier-1)*100);i!==0&&l.push(`Energy ${i}%`)}if(typeof s.stressMultiplier=="number"){const i=Math.round((s.stressMultiplier-1)*100);i!==0&&l.push(`Stress ${i}%`)}return l.length>0?l.join(" ‚Ä¢ "):"No change"},rl=t=>t.riskRating?t.riskRating:t.risk==="VERY_LOW"||t.risk==="LOW"?"LOW":t.risk==="MEDIUM"?"MEDIUM":"HIGH",fn=t=>t.tier?t.tier:t.price<=5e3?"STARTER":t.price<=25e3?"MID":"ADVANCED",ol=["HIGH_SCHOOL","CERTIFICATE","ASSOCIATE","BACHELOR","MASTER","MBA","PHD","LAW","MEDICAL"],Ja=(t,s)=>{if(!t.requiredEducationCategory&&!t.requiredEducationLevel)return!0;const l=t.requiredEducationLevel?ol.indexOf(t.requiredEducationLevel):-1;return s.some(i=>{const n=Xe.find(h=>h.id===i);if(!n)return!1;const o=t.requiredEducationCategory?t.requiredEducationCategory.includes(n.category):!0,u=l>=0?ol.indexOf(n.level)>=l:!0;return o&&u})},bn=t=>({LOW:"text-emerald-400",MEDIUM:"text-amber-400",HIGH:"text-orange-400",CRITICAL:"text-red-400"})[t]||"text-slate-400",yn=t=>Math.max(0,Math.min(100,t)),da=t=>({EXCELLENT:"text-emerald-400",GOOD:"text-emerald-300",FAIR:"text-amber-400",POOR:"text-red-400"})[t]||"text-slate-400",Zm=[{id:"emergency",name:"Emergency Loan",amount:2e3,rate:.15,term:12,description:"Quick cash for emergencies"},{id:"personal_small",name:"Small Personal Loan",amount:5e3,rate:.12,term:24,description:"For minor expenses"},{id:"personal_medium",name:"Medium Personal Loan",amount:1e4,rate:.1,term:36,description:"For larger purchases"},{id:"personal_large",name:"Large Personal Loan",amount:25e3,rate:.09,term:48,description:"Major life expenses"},{id:"business",name:"Business Loan",amount:5e4,rate:.08,term:60,description:"Start or expand a business"}],Un=t=>{const s=wa(t);return s==="EXCELLENT"?-.015:s==="GOOD"?-.0075:s==="FAIR"?0:.02},eh=t=>{const s=wa(t);return s==="EXCELLENT"?-2:s==="GOOD"?0:s==="FAIR"?2:5},th=(t,s)=>{const l=wa(t);let i=l==="EXCELLENT"?.95:l==="GOOD"?.9:l==="FAIR"?.75:.6;return s>=.6&&(i-=.2),s>=.4&&s<.6&&(i-=.1),Math.max(.2,Math.min(.98,i))},sh=(t,s)=>{const l=wa(t);let i=l==="EXCELLENT"?.92:l==="GOOD"?.85:l==="FAIR"?.65:.5;return s>=.6&&(i-=.25),s>=.4&&s<.6&&(i-=.12),Math.max(.15,Math.min(.95,i))},dc=(t,s,l)=>{const i=eh(t),n=Un(t)*.6,o=s.includes("investment")?680:s.includes("conventional")?620:580,u=sh(t,l);return{downPaymentPercentDelta:i,rateAdjustment:n,minScore:o,approvalChance:u}},ah=t=>Math.max(0,Math.round(t*.01/12)),ih=({item:t,optId:s,price:l,creditScore:i,dti:n,cashFlow:o,netWorth:u,baseRate:h,cash:v})=>{var L,Z,G,D;const b=zn.find(W=>W.id===s);if(!b)return null;const _=dc(i,s,n),g=Math.max(3.5,Math.min(40,b.downPaymentPercent+_.downPaymentPercentDelta)),r=Math.round(l*g/100),f=Math.max(0,l-r),S=h+b.interestRateSpread+_.rateAdjustment,Y=os(f,S,b.termYears*12),P=Math.round(t.expectedYield*l/12),E=ah(l),w=Math.round(P-Y-E),y=!((L=b.requirements)!=null&&L.income)||o.income>=b.requirements.income,C=!((Z=b.requirements)!=null&&Z.netWorth)||u>=b.requirements.netWorth,M=i>=_.minScore,j=v>=r&&y&&C&&M;return{id:s,name:b.name,description:b.description,minScore:_.minScore,incomeRequirement:(G=b.requirements)==null?void 0:G.income,netWorthRequirement:(D=b.requirements)==null?void 0:D.netWorth,down:r,loanAmount:f,rate:S,payment:Y,rentIncome:P,maintenance:E,cashflowImpact:w,approvalChance:_.approvalChance,canAfford:j,meetsIncomeReq:y,meetsNetWorthReq:C,meetsCreditReq:M}},nh=(t,s,l,i)=>{let n=0,o=1,u;return s>=4?(n=.015,o=1.15,u="Promotion perk: lower APR + higher limit"):s>=2&&(n=.0075,o=1.05,u="Promotion perk: lower APR"),{...t,baseRate:t.rate,baseAmount:t.amount,rate:Math.max(.02,t.rate-n+Un(l)),amount:Math.round(t.amount*o),perkLabel:u}},rh="tycoon_seen_invest_intro_video_v2",oh="/videos/investment-types-explained.mp4",lh="tycoon_seen_overview_intro_video_v1",ch="/videos/master-your-game-portfolio.mp4",dh="/images/financial-planner-poster-16x9.jpg",uh="tycoon_seen_career_intro_video_v1",mh="/videos/climb-your-career.mp4",hh="tycoon_seen_bank_intro_video_v1",ph="/videos/bank-tab-guide-tycoon.mp4",gh="tycoon_seen_side_hustle_intro_video_v1",xh="/videos/side-hustle-updated-tycoon.mp4",fh="tycoon_seen_education_intro_video_v4",bh="/videos/education-tab-updated-tycoon.mp4",yh="tycoon_seen_negotiations_intro_video_v1",vh="/videos/tycoon-master-negotiations.mp4",ll="tycoon_auto_tutorial_popups_v1",vn="tycoon_onboarding_seen_v1",cl="tycoon_hide_tips_v1",dl="tycoon_cash_flow_history_v1_",ul="tycoon_ai_disruption_history_v1_",uc="tycoon_autoplay_pref_v1_",wh="tycoon_ui_v2",ml=t=>t?["1","true","yes","on"].includes(t.toLowerCase()):!1,Nh=()=>{try{const t=localStorage.getItem(wh);if(t!==null)return ml(t)}catch{}return ml(void 0)},hl="tycoon_last_save_slot_v1",pl="tycoon_self_learn_hint_v1",Mt=[1e3,500,250],wn={1e3:"1x",500:"2x",250:"4x"},_h=t=>t==="autosave"||t==="slot1"||t==="slot2"||t==="slot3"?t:"autosave",gl=t=>{try{const s=localStorage.getItem(`${uc}${t}`);if(!s||s==="off")return null;const l=Number(s);return Number.isFinite(l)?Mt.includes(l)?l:Mt[0]:null}catch(s){return console.warn("Failed to read autoplay preference:",s),null}},Xa={[ce.INVEST]:{storageKey:rh,src:oh,captionsSrc:"/videos/investment-types-explained.vtt",title:"Investment Types Explained",duration:"3:12",description:"A quick explainer to help you pick smarter investments in the game.",quickTips:["Index funds are low risk and steady; use them to stabilize cashflow.","Businesses and real estate can boost passive income, but watch debt.","Diversify so one sector crash does not wreck your month.","Watch inflation: asset prices rise over time."],transcript:["Welcome to investing: savings, bonds, index funds, stocks, real estate, and businesses.","Start with stable cashflow before chasing high-risk returns.","Diversification protects you from sector shocks and AI disruption.","Inflation pushes prices up over time, so plan your timing."],icon:e.jsx(Qt,{size:18,className:"text-emerald-300"}),continueLabel:"Continue to Invest"},[ce.ASSETS]:{storageKey:lh,src:ch,captionsSrc:"/videos/master-your-game-portfolio.vtt",poster:dh,title:"Master Your Game: Portfolio",duration:"2:48",description:"A quick walkthrough so you know exactly what to track ‚Äî and what to do next.",quickTips:["Sort by cashflow first if you need monthly stability.","Check equity before selling mortgaged assets.","Review price history to spot trends, not just spikes.","Look for AI disruption risk flags."],transcript:["Your portfolio shows value, cashflow, equity, and risk signals.","Use cashflow to stabilize monthly expenses before expanding.","Check equity and mortgages before selling assets.","Price history helps you see long-term direction, not just noise."],icon:e.jsx(qs,{size:18,className:"text-emerald-300"}),continueLabel:"Continue to Overview",continueToTab:ce.OVERVIEW},[ce.CAREER]:{storageKey:uh,src:mh,captionsSrc:"/videos/climb-your-career.vtt",title:"Climb Your Career",duration:"2:40",description:"A quick walkthrough to help you choose a career path and grow your income.",quickTips:["Salary grows with promotions and relevant education.","Manage stress and happiness to improve promotion odds.","Use networking actions for faster growth."],transcript:["Career growth comes from experience, promotions, and education.","Lower stress and higher happiness improve promotion odds.","Networking builds long-term leverage and faster raises."],icon:e.jsx(On,{size:18,className:"text-emerald-300"}),continueLabel:"Continue to Career"},[ce.BANK]:{storageKey:hh,src:ph,captionsSrc:"/videos/bank-tab-guide-tycoon.vtt",title:"Bank Tab Guide",duration:"2:25",description:"A quick walkthrough of loans, repayments, and how to keep your cashflow healthy.",quickTips:["Loans add cash now but increase monthly expenses.","Check total interest before you accept.","Keep an emergency buffer to avoid forced sales."],transcript:["Loans add cash today but reduce monthly flexibility.","Compare APR, term length, and total interest before accepting.","Keep a buffer so you never miss payments."],icon:e.jsx(Sl,{size:18,className:"text-emerald-300"}),continueLabel:"Continue to Bank"},[ce.EDUCATION]:{storageKey:fh,src:bh,captionsSrc:"/videos/education-tab-updated-tycoon.vtt",title:"Education Tab Guide",duration:"3:05",description:"A quick walkthrough to help you upgrade your skills, increase income potential, and plan your next steps.",quickTips:["Only relevant degrees boost salary for your path.","Check prerequisites before enrolling.","Big programs may require a student loan."],transcript:["Education raises salary when aligned to your career path.","Check prerequisites and total cost before enrolling.","Use loans carefully; payback depends on your salary delta."],icon:e.jsx(Dn,{size:18,className:"text-emerald-300"}),continueLabel:"Continue to Education"},[ce.SIDEHUSTLE]:{storageKey:gh,src:xh,captionsSrc:"/videos/side-hustle-updated-tycoon.vtt",title:"Side Hustles Tab Guide",duration:"2:15",description:"A quick walkthrough to help you start side hustles and boost your monthly cashflow.",quickTips:["Side hustles trade energy for cashflow.","AI risk reduces earnings as disruption rises.","Stack 1-2 low-risk hustles early."],transcript:["Side hustles add income but cost energy and stress.","Choose low-risk options early for stability.","Watch AI disruption levels over time."],icon:e.jsx(oi,{size:18,className:"text-emerald-300"}),continueLabel:"Continue to Side Hustles"},[ce.NEGOTIATIONS]:{storageKey:yh,src:vh,captionsSrc:"/videos/tycoon-master-negotiations.vtt",title:"Master Negotiations",duration:"2:05",description:"Unlock deal-making perks and a $50,000 bonus (100% required).",quickTips:["Complete every module to unlock the bonus.","Negotiation boosts help across multiple tabs.","Track progress so you do not miss the reward."],transcript:["Negotiation mastery improves deals and raises success odds.","Complete every module to unlock the bonus.","Use negotiation perks across loans, assets, and careers."],icon:e.jsx(Bs,{size:18,className:"text-emerald-300"}),continueLabel:"Continue to Master Negotiations"}},os=(t,s,l)=>{const i=s/12;return i===0?t/l:Math.round(t*(i*Math.pow(1+i,l))/(Math.pow(1+i,l)-1))},Ch=({value:t,onComplete:s})=>(d.useEffect(()=>{const l=setTimeout(s,1500);return()=>clearTimeout(l)},[s]),e.jsxs(ne.div,{initial:{opacity:1,y:0},animate:{opacity:0,y:-80},transition:{duration:1.5},className:`fixed z-50 font-bold text-3xl pointer-events-none left-1/2 top-1/4 -translate-x-1/2 gpu-hint ${t>=0?"text-emerald-400":"text-red-400"}`,children:[t>=0?"+":"",me(t)]})),At=({label:t})=>e.jsxs("div",{className:"flex items-center justify-center py-12 text-slate-400 text-sm",children:["Loading ",t,"..."]}),jh=()=>Object.values(ce).reduce((t,s)=>(t[s]={...gi},t),{}),xl=({onBackToMenu:t,initialGameState:s,playerConfig:l,isMultiplayer:i,onTurnComplete:n})=>{var so,ao,io,no,ro,oo,lo,co,uo,mo,ho,po,go,xo,fo,bo,yo,vo,wo,No,_o,Co;const{t:o,locale:u,setLocale:h,formatNumber:v}=Dt(),b=!i&&!!s&&!!s.character,[_,g]=d.useState(i?!0:b),[r,f]=d.useState(()=>{const a=s||ma;return{...a,assets:a.assets??[],liabilities:a.liabilities??[],mortgages:a.mortgages??[],events:a.events??[],activeSideHustles:a.activeSideHustles??[],netWorthHistory:a.netWorthHistory??[],vehicles:a.vehicles??[]}}),[S,Y]=d.useState(0),P=3,[E,w]=d.useState(!1),y=(()=>{try{return _h(localStorage.getItem(hl))}catch(a){return console.warn("Failed to read save slot preference:",a),"autosave"}})(),[C,M]=d.useState(y),[j,L]=d.useState(()=>gl(y)),Z=`${dl}${C}`,G=`${ul}${C}`,[D,W]=d.useState(()=>{try{const a=localStorage.getItem(`${dl}${y}`);return a?JSON.parse(a):[]}catch(a){return console.warn("Failed to read cash flow history:",a),[]}}),[Q,re]=d.useState(()=>{try{const a=localStorage.getItem(`${ul}${y}`);return a?JSON.parse(a):[]}catch(a){return console.warn("Failed to read AI disruption history:",a),[]}}),[k,R]=d.useState(ce.OVERVIEW),[H,F]=d.useState("ALL"),[V,ie]=d.useState("ALL"),[te,se]=d.useState(""),[de,xe]=d.useState(null),[he,ge]=d.useState({}),[ve,we]=d.useState(()=>{try{const a=localStorage.getItem("tycoon_quiz_seen_v1");return a?JSON.parse(a):{}}catch(a){return console.warn("Failed to read quiz preference:",a),{}}}),[Ee,pe]=d.useState(!1),[be,$]=d.useState(!1),p=d.useRef(jh()),A=d.useRef(null),T=d.useRef(k),[B,ue]=d.useState(!1),[_e,ze]=d.useState({}),[Fe,ye]=d.useState([]),[fe,Ie]=d.useState(null),[Ae,pt]=d.useState(null),[st,Ue]=d.useState(null),[Kt,kt]=d.useState(!1),[ps,Ci]=d.useState(!1),[zs,gc]=d.useState("NORMAL"),[Bt,Qn]=d.useState((s==null?void 0:s.soundEnabled)??!0),[dt,Ys]=d.useState(null),[Na,Hs]=d.useState(""),[ji,xc]=d.useState(null),Vn=d.useRef(r.lifestyle),Kn=d.useRef(r.month),[Wn,fc]=d.useState(0),[bc,yc]=d.useState(null),[vc,wc]=d.useState(null),[gt,Si]=d.useState(!1),[De,Ei]=d.useState(null),[Wt,Gn]=d.useState(()=>{if(i)return!1;try{const a=localStorage.getItem("tycoon_show_turn_preview");return a==="1"||a==="0"?a==="1":localStorage.getItem("tycoon_skip_turn_preview")!=="1"}catch(a){return console.warn("Failed to read turn preview preference:",a),!0}}),[at,Jn]=d.useState(null),[Nc,ki]=d.useState(null),[Pe,Ii]=d.useState(null),[_a,Ti]=d.useState(null),[gs,xs]=d.useState(1),[Ca,$s]=d.useState({}),[Fs,Ri]=d.useState(!1),[Ai,Mi]=d.useState(!1),[Xn,Zn]=d.useState(!1),[ja,fs]=d.useState(!1),[_c,er]=d.useState(!1),[tr,Cc]=d.useState(((so=cs[0])==null?void 0:so.id)||""),[qi,jc]=d.useState(0),[Sc,sr]=d.useState(null),[Ze,bs]=d.useState(()=>{try{const a=localStorage.getItem("tycoon_accessibility_v1");if(a)return{largeText:!1,highContrast:!1,reduceMotion:!1,disableConfetti:!1,disableVideoPreload:!1,...JSON.parse(a)}}catch(a){console.warn("Failed to load accessibility preferences:",a)}return{largeText:!1,highContrast:!1,reduceMotion:!1,disableConfetti:!1,disableVideoPreload:!1}}),[Me,Li]=d.useState(null),ys=d.useRef(null),[Ec,Us]=d.useState(!1),vs=d.useRef(null),ar=d.useRef(null),Qs=d.useRef(null),ir=d.useRef(null),Pi=d.useRef(null),Oi=d.useRef(null),[nt,nr]=d.useState(null),[rr,Sa]=d.useState(!0),[or,Gt]=d.useState(!1),[kc,Ea]=d.useState(!1),[lr,ws]=d.useState(null),[cr,Di]=d.useState(!1),[Bi,dr]=d.useState(!1),[Ic,zi]=d.useState({}),zt=d.useRef(null),Tc=pd(),ot=Ze.reduceMotion||Tc,ur=d.useRef(null),Jt=jo(0),Xt=jo(0);So(Jt,{stiffness:160,damping:22,mass:.3}),So(Xt,{stiffness:160,damping:22,mass:.3});const[It,Yi]=d.useState(null);d.useEffect(()=>{sn(!Bt)},[Bt]),d.useEffect(()=>{try{localStorage.setItem("tycoon_accessibility_v1",JSON.stringify(Ze))}catch(a){console.warn("Failed to save accessibility preferences:",a)}},[Ze]),d.useEffect(()=>{const a=document.documentElement;a.classList.toggle("tycoon-text-lg",!!Ze.largeText),a.classList.toggle("tycoon-high-contrast",!!Ze.highContrast),a.classList.toggle("tycoon-reduce-motion",!!Ze.reduceMotion)},[Ze.largeText,Ze.highContrast,Ze.reduceMotion]),d.useEffect(()=>{}),d.useEffect(()=>{if(!i)try{localStorage.setItem("tycoon_show_turn_preview",Wt?"1":"0")}catch(a){console.warn("Failed to save turn preview preference:",a)}},[Wt,i]),d.useEffect(()=>{r.month!==Kn.current&&(xc(Vn.current),Vn.current=r.lifestyle,Kn.current=r.month)},[r.lifestyle,r.month]);const mr=d.useCallback(()=>{Us(!0),vs.current&&window.clearTimeout(vs.current),vs.current=window.setTimeout(()=>{Us(!1),vs.current=null},25e3)},[]),ka=d.useCallback(a=>{const c=`${Date.now()}-${Math.random().toString(16).slice(2)}`;Li({id:c,...a}),ys.current&&window.clearTimeout(ys.current),ys.current=window.setTimeout(()=>{Li(null),ys.current=null},5e3),a.allowReopenPreview&&mr()},[mr]),Nt=d.useCallback(a=>!!Me&&Me.tabId===k&&Me.target===a?"ring-2 ring-emerald-400 ring-offset-2 ring-offset-slate-900 shadow-[0_0_0_4px_rgba(16,185,129,0.12)] animate-pulse":"",[k,Me]);d.useEffect(()=>{if(!(Me!=null&&Me.target)||Me.tabId!==k)return;const c={behavior:ot?"auto":"smooth",block:"center"},x=(()=>{switch(Me.target){case"monthly-actions":return ar;case"lifestyle-grid":return Qs;case"assets-sell":return ir;case"sidehustles-list":return Pi;case"bank-loans":return Oi;case"self-learn-tab":return null;default:return null}})();if(x!=null&&x.current)try{x.current.scrollIntoView(c)}catch(N){console.debug("scrollIntoView failed:",N)}},[k,Me==null?void 0:Me.id,Me==null?void 0:Me.tabId,Me==null?void 0:Me.target,ot]),d.useEffect(()=>{if(!(!_||i))try{if(localStorage.getItem(pl)==="1")return;const a=window.setTimeout(()=>{ka({tabId:k,title:"New Self Learn tab",message:"Sales Certification, Upgrade EQ, and Master Negotiations now live under Self Learn.",target:"self-learn-tab"}),localStorage.setItem(pl,"1")},1200);return()=>window.clearTimeout(a)}catch(a){console.warn("Failed to show Self Learn hint:",a)}},[k,_,i,ka]),d.useEffect(()=>()=>{ys.current&&window.clearTimeout(ys.current),vs.current&&window.clearTimeout(vs.current)},[]),d.useEffect(()=>{gt&&Us(!1)},[gt]);const Be=d.useMemo(()=>nt&&Xa[nt]||null,[nt]),hr=d.useCallback(a=>{const c=Xa[a];if(c)try{localStorage.setItem(c.storageKey,"1")}catch(m){console.warn("Failed to save intro video preference:",m)}},[]),pr=d.useCallback((a,c)=>{Xa[a]&&(Sa(!0),Gt(!1),Ea(!1),ws(null),Di(!!(c!=null&&c.autoplay)),dr(!1),zi(x=>({...x,[a]:!1})),nr(a))},[]),Vs=d.useCallback(a=>{const c=nt;if(!c)return;(((a==null?void 0:a.remember)!==void 0?a.remember:!0)||Bi)&&hr(c),Di(!1),nr(null);const x=zt.current;if(x)try{x.pause(),x.currentTime=0}catch(N){console.debug("Video pause/reset failed:",N)}Gt(!1),Ea(!1),ws(null)},[nt,hr,Bi]),Ks=d.useCallback(async()=>{const a=zt.current;if(a){ws(null),Ea(!0);try{const c=Number.isFinite(a.duration)&&a.duration>0?a.currentTime>=Math.max(0,a.duration-.05):!1;if(a.ended||c)try{a.currentTime=0}catch(x){console.debug("Video currentTime reset failed:",x)}try{a.muted=!1}catch(x){console.debug("Video unmute failed:",x)}Sa(!1);const m=a.play();m&&typeof m.then=="function"&&await m}catch(c){const m=c!=null&&c.name?String(c.name):"",x=c!=null&&c.message?String(c.message):"",N=m&&x?`${m}: ${x}`:m||x||"Unable to start playback.";ws(N),Gt(!1)}}},[]),Hi=d.useCallback(a=>{if(a)try{if(!(typeof window<"u"&&typeof window.matchMedia=="function"&&window.matchMedia("(max-width: 768px)").matches)||typeof document<"u"&&document.fullscreenElement)return;const m=a;if(typeof m.webkitEnterFullscreen=="function"){m.webkitEnterFullscreen();return}if(typeof a.requestFullscreen=="function"){const x=a.requestFullscreen();x&&typeof x.catch=="function"&&x.catch(()=>{});return}typeof m.webkitRequestFullscreen=="function"&&m.webkitRequestFullscreen()}catch(c){console.debug("Fullscreen request failed:",c)}},[]);d.useEffect(()=>{if(!nt||!cr)return;const a=zt.current;if(!a)return;let c=!1;const m=()=>{c||(Ks(),Di(!1))};if(a.readyState>=2){const x=window.setTimeout(m,0);return()=>{c=!0,window.clearTimeout(x)}}return a.addEventListener("canplay",m,{once:!0}),()=>{c=!0,a.removeEventListener("canplay",m)}},[cr,nt,Ks]);const Rc=d.useCallback(()=>{const a=zt.current;if(a)try{a.paused?(Hi(a),Ks()):a.pause()}catch(c){console.debug("Video playback state toggle failed:",c)}},[Ks,Hi]);d.useEffect(()=>{!r.pendingScenario&&It&&(Yi(null),Jt.set(0),Xt.set(0))},[r.pendingScenario,It,Jt,Xt]),d.useEffect(()=>{r.pendingSideHustleUpgrade?fs(!0):fs(!1)},[r.pendingSideHustleUpgrade]);const gr=d.useCallback((a,c)=>{Yi({src:a,alt:c})},[]),Ac=d.useCallback(()=>{Yi(null)},[]);d.useCallback(a=>{if(ot||a.pointerType&&a.pointerType!=="mouse")return;const c=ur.current;if(!c)return;const m=c.getBoundingClientRect(),x=(a.clientX-m.left)/m.width,N=(a.clientY-m.top)/m.height,I=Math.max(-.5,Math.min(.5,x-.5))*18,q=Math.max(-.5,Math.min(.5,N-.5))*12;Jt.set(I),Xt.set(q)},[ot,Jt,Xt]),d.useCallback(()=>{Jt.set(0),Xt.set(0)},[Jt,Xt]);const Ia=["autosave","slot1","slot2","slot3"],[Ws,Ta]=d.useState(!1),[Mc,xr]=d.useState([]),[Ra,Aa]=d.useState({autosave:"",slot1:"",slot2:"",slot3:""}),[Gs,Ma]=d.useState(()=>{var a;return i?null:((a=pi("adult","autosave"))==null?void 0:a.updatedAt)??null}),[fr,qa]=d.useState(()=>Date.now()),[$i,br]=d.useState("autosave"),[Js,yr]=d.useState("autosave"),[vr,wr]=d.useState(""),[Nr,Xs]=d.useState(null);d.useEffect(()=>{if(i||!Gs)return;const a=window.setInterval(()=>qa(Date.now()),6e4);return()=>window.clearInterval(a)},[i,Gs]);const[Zt,qc]=d.useState(()=>{try{const a=localStorage.getItem(ll);return a===null?!0:a==="1"}catch(a){return console.warn("Failed to read tutorial popup preference:",a),!0}}),[Zs,Lc]=d.useState(()=>{try{return localStorage.getItem(cl)==="1"}catch(a){return console.warn("Failed to read tips preference:",a),!1}}),[es,Ns]=d.useState(()=>{try{return localStorage.getItem(vn)!=="1"}catch(a){return console.warn("Failed to read onboarding preference:",a),!0}}),[_t,Fi]=d.useState(0),[La,_s]=d.useState(!1);d.useEffect(()=>{const a=T.current;if(a===k)return;const c=p.current[a]??gi,m=a===ce.INVEST?{investmentFilter:H,investmentTierFilter:V,investmentSearch:te}:{};p.current[a]=$o({...c,...m,scrollY:window.scrollY||0}),T.current=k;const x=p.current[k];k===ce.INVEST&&x&&(F(x.investmentFilter),ie(x.investmentTierFilter),se(x.investmentSearch)),A.current=k},[k,H,te,V]),d.useEffect(()=>{if(k!==ce.INVEST)return;const a=p.current[k]??gi;p.current[k]=$o({...a,investmentFilter:H,investmentTierFilter:V,investmentSearch:te})},[k,H,te,V]),d.useEffect(()=>{if(k!==ce.INVEST||H==="ALL"||de)return;const a=[z.STOCK,z.INDEX_FUND,z.BOND,z.CRYPTO];let c=null;H===z.REAL_ESTATE&&!ve[rs.realEstate.id]?c=rs.realEstate:a.includes(H)&&!ve[rs.risk.id]?c=rs.risk:ve[rs.investBasics.id]||(c=rs.investBasics),c&&(xe(c.id),ge({}))},[k,H,ve,de]);const Tt=[{title:"üëã Welcome to Tycoon!",message:`Your goal: Build enough passive income to cover ${Math.round(Tn*100)}% of your expenses. Click "Next Month" to advance time and watch your finances grow!`,highlight:"next-month"},{title:"üí∞ Track Your Progress",message:"The Overview tab shows your net worth, cash flow, and important stats. Watch your passive income grow!",highlight:"overview"},{title:"üìà Invest to Build Wealth",message:"Go to the Invest tab to buy stocks, real estate, and businesses. These generate passive income!",highlight:"invest"},{title:"üíº Career & Education",message:"Boost your salary through education and side hustles. Higher income = more to invest!",highlight:"career"},{title:"‚ù§Ô∏è Watch Your Health!",message:"Check the Lifestyle tab for health, stress, and energy. Low health can trigger expensive medical emergencies!",highlight:"lifestyle"},{title:"üß† Financial IQ",message:"Increase Financial IQ by making smart investment decisions and surviving market events. Higher IQ = better negotiation outcomes!",highlight:"stats"}],ea=d.useCallback(()=>{try{localStorage.setItem(vn,"1")}catch(a){console.warn("Failed to save onboarding preference:",a)}},[]),_r=d.useCallback(()=>{if(!Zt)return!1;try{return localStorage.getItem(vn)!=="1"}catch(a){return console.warn("Failed to read onboarding preference:",a),!1}},[Zt]);d.useEffect(()=>{try{localStorage.setItem(ll,Zt?"1":"0")}catch(a){console.warn("Failed to save tutorial popup preference:",a)}},[Zt]),d.useEffect(()=>{try{localStorage.setItem(cl,Zs?"1":"0")}catch(a){console.warn("Failed to save tips preference:",a)}},[Zs]),d.useEffect(()=>{try{localStorage.setItem(`${uc}${C}`,j?String(j):"off"),localStorage.setItem(hl,C)}catch(a){console.warn("Failed to save autoplay preference:",a)}},[j,C]),d.useEffect(()=>{L(gl(C))},[C]),d.useEffect(()=>{try{const a=localStorage.getItem(Z);W(a?JSON.parse(a):[])}catch(a){console.warn("Failed to load cash flow history:",a),W([])}},[Z]),d.useEffect(()=>{try{const a=localStorage.getItem(G);re(a?JSON.parse(a):[])}catch(a){console.warn("Failed to load AI disruption history:",a),re([])}},[G]),d.useEffect(()=>{if(!Ae||i)return;const a={month:r.month,income:Ae.income,expenses:Ae.expenses};W(c=>{const x=[...c.filter(N=>N.month!==a.month),a].slice(-24);try{localStorage.setItem(Z,JSON.stringify(x))}catch(N){console.warn("Failed to save cash flow history:",N)}return x})},[Z,r.month,i,Ae]),d.useEffect(()=>{var m;if(i)return;const a=((m=r.aiDisruption)==null?void 0:m.disruptionLevel)??0,c={month:r.month,level:a};re(x=>{const I=[...x.filter(q=>q.month!==c.month),c].slice(-24);try{localStorage.setItem(G,JSON.stringify(I))}catch(q){console.warn("Failed to save AI disruption history:",q)}return I})},[G,(ao=r.aiDisruption)==null?void 0:ao.disruptionLevel,r.month,i]),d.useEffect(()=>{Zt||es&&(Ns(!1),_s(!0),ea())},[Zt,es,ea]);const Cr=!!r.pendingScenario||!!r.pendingSideHustleUpgrade||!!Pe||!!at||!!dt||!!nt||Ws||Ai||!!It||Fs||gt||ja||es||r.hasWon||r.isBankrupt;d.useEffect(()=>{if(Cr)return;const a=A.current;if(!a||a!==k)return;const c=p.current[a],m=(c==null?void 0:c.scrollY)??0;window.requestAnimationFrame(()=>{window.scrollTo({top:m,behavior:"auto"})}),A.current=null},[k,Cr]);const lt=d.useMemo(()=>Ps(r),[r]),Se=d.useMemo(()=>us(r),[r]),Ve=d.useMemo(()=>de?Uo(de):null,[de]),ct=Xa[k],jr=(ct==null?void 0:ct.quickTips)||[],Ct=j!==null,Sr=j&&wn[j]||"1x",Er=Ct?o("autoplay.tooltipOn",{speed:Sr}):o("autoplay.tooltipOff"),ts=d.useMemo(()=>Nh(),[]),[Cs,js]=d.useState("/play"),Pc=!Ze.disableVideoPreload,kr=((io=r.career)==null?void 0:io.level)??((no=r.playerJob)==null?void 0:no.level)??0,We=r.creditRating??650,Yt=wa(We),ta=((ro=r.aiDisruption)==null?void 0:ro.disruptionLevel)??0,Oc=(r.liabilities||[]).filter(a=>a.type==="CREDIT_CARD").reduce((a,c)=>a+c.balance,0),Ir=Math.max(2e3,Math.round(Se.income*2)),Tr=Ir>0?Oc/Ir:0,Ui=Se.income>0?Se.debtPayments/Se.income:1,Rr=d.useMemo(()=>Zm.map(a=>nh(a,kr,We)),[kr,We,Ui]),Pa=d.useMemo(()=>{if(!ji)return null;const a=vt[ji],c=vt[r.lifestyle];if(!a||!c)return null;const m=a.cost-c.cost;return m===0?null:m},[r.lifestyle,ji]),Qi=d.useMemo(()=>{var c;return((c=r.netWorthHistory)!=null&&c.length?r.netWorthHistory:[{month:r.month,value:lt}]).slice(-12).map(m=>({label:`M${m.month}`,value:m.value}))},[r.month,r.netWorthHistory,lt]),sa=d.useMemo(()=>{const a=[{month:r.month,income:Se.income,expenses:Se.expenses}];return(D.length?D:a).slice(-6).map(m=>({label:`M${m.month}`,income:m.income,expenses:m.expenses}))},[Se.expenses,Se.income,D,r.month]),Vi=d.useMemo(()=>{var c;return((c=r.creditHistory)!=null&&c.length?r.creditHistory:[{month:r.month,score:We,reasons:[]}]).slice(-12).map(m=>({label:`M${m.month}`,value:m.score}))},[We,r.creditHistory,r.month]),Ki=d.useMemo(()=>{const a=[{month:r.month,level:ta}];return(Q.length?Q:a).slice(-12).map(m=>({label:`M${m.month}`,value:m.level}))},[Q,ta,r.month]),Wi=sa[sa.length-1],Ss=Wi?Wi.income-Wi.expenses:0,Ht=d.useMemo(()=>cs.find(a=>a.id===tr)||cs[0],[tr]);(lo=(r.quests||Pt((oo=r.character)==null?void 0:oo.id)).readyToClaim)!=null&&lo.length;const Ar=d.useMemo(()=>Qa.filter(a=>{const c=H==="ALL"||a.type===H,m=fn(a),x=V==="ALL"||m===V,N=te.trim().toLowerCase(),I=!N||a.name.toLowerCase().includes(N)||(a.description||"").toLowerCase().includes(N)||(a.educationalNote||"").toLowerCase().includes(N);return c&&x&&I}),[H,te,V]),Ye=d.useMemo(()=>{const a=Math.pow(1+r.economy.inflationRate,r.month/12),c=Object.entries(_e).filter(([,N])=>N>0).map(([N,I])=>{const q=Qa.find(U=>U.id===N);if(!q)return null;const O=Math.round(q.price*a);return{id:N,item:q,qty:I,unitPrice:O,lineTotal:O*I}}).filter(Boolean),m=c.reduce((N,I)=>N+I.lineTotal,0),x=c.reduce((N,I)=>N+I.qty,0);return{lines:c,totalCost:m,totalUnits:x,canAfford:m<=r.cash}},[_e,r.cash,r.economy.inflationRate,r.month]),ut=((co=r.career)==null?void 0:co.path)||"TECH",Le=(mo=(uo=r.aiDisruption)==null?void 0:uo.affectedIndustries)==null?void 0:mo[ut],Dc=[{label:"Play",path:"/play"},{label:"Money",path:"/money"},{label:"Career",path:"/career"},{label:"Learn",path:"/learn"},{label:"Life",path:"/life"}],Mr=()=>{const a=!Bt;Qn(a),sn(!a),f(c=>({...c,soundEnabled:a})),a&&Te()},ss=d.useRef(null),ae=(a,c,m="info",x)=>{ss.current&&window.clearTimeout(ss.current),Ie({title:a,message:c,type:m,actionLabel:x==null?void 0:x.actionLabel,onAction:x==null?void 0:x.onAction}),m==="success"?Mu():m==="error"?Ke():m==="warning"&&rn();const N=(x==null?void 0:x.durationMs)??4e3;ss.current=window.setTimeout(()=>{Ie(null),ss.current=null},N)},Bc=d.useRef({timer:null,items:{},totalCost:0}),zc=(a,c)=>{const m=Bc.current;m.items[a]=(m.items[a]||0)+1,m.totalCost+=c,m.timer&&window.clearTimeout(m.timer),m.timer=window.setTimeout(()=>{const x=Object.entries(m.items),N=m.totalCost;if(m.items={},m.totalCost=0,m.timer=null,x.length===0)return;const I=x.length===1&&x[0][1]===1,q=x.slice(0,3).map(([U,J])=>J===1?U:`${J}x ${U}`).join(", "),O=x.length>3?` +${x.length-3} more`:"";ae(I?"Purchase Complete!":"Purchases Complete!",I?`Bought ${x[0][0]} for ${K(N)}.`:`Bought ${q}${O} for ${K(N)} total.`,"success"),jt({particleCount:40,spread:60,origin:{y:.7}})},650)},xt=d.useCallback(a=>{Jn(a)},[]),Gi=d.useCallback(()=>{Jn(null)},[]),Oa=d.useCallback(a=>{we(c=>{const m={...c,[a]:!0};try{localStorage.setItem("tycoon_quiz_seen_v1",JSON.stringify(m))}catch(x){console.warn("Failed to save quiz preference:",x)}return m}),xe(null),ge({})},[]),qr=d.useCallback((a,c)=>{ge(m=>({...m,[a]:c}))},[]),Lr=d.useCallback(()=>{if(!de)return;const a=Uo(de);if(!a||a.questions.length===0)return;const c=a.questions.filter(I=>he[I.id]===I.correct).length,m=Math.max(1,Math.round(c*.75)),x=c>=2?1:0,N=c>=3?2:1;f(I=>{var q,O,U;return{...I,stats:{...I.stats,financialIQ:yn((((q=I.stats)==null?void 0:q.financialIQ)??0)+m),happiness:yn((((O=I.stats)==null?void 0:O.happiness)??0)+x),stress:yn((((U=I.stats)==null?void 0:U.stress)??0)-N)}}}),ae("Quiz complete",`+${m} FI/Q${x?", +1 happiness":""}${`, -${N} stress`}.`,"success"),Oa(de)},[de,he,Oa]),Ji=({id:a,text:c})=>{const m=Nc===a,x=()=>ki(a),N=()=>ki(q=>q===a?null:q),I=q=>{q.stopPropagation(),ki(O=>O===a?null:a)};return e.jsxs("span",{className:"relative inline-flex",onMouseEnter:()=>x(),onMouseLeave:()=>N(),children:[e.jsx("button",{type:"button",onClick:I,onBlur:()=>N(),className:"ml-1 inline-flex items-center justify-center w-6 h-6 rounded-full hover:bg-slate-700/60 text-slate-400 hover:text-slate-200","aria-label":"Show info",children:e.jsx(ai,{size:14})}),e.jsx(it,{children:m&&e.jsx(ne.span,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.12},className:"absolute z-50 top-full mt-2 right-0 w-[min(18rem,calc(100vw-2rem))] bg-slate-900 border border-slate-700 rounded-xl p-3 shadow-xl block",onClick:q=>q.stopPropagation(),children:e.jsx("p",{className:"text-slate-200 text-sm leading-relaxed",children:c})})})]})},Pr=d.useCallback((a,c=1200)=>{},[]),jt=d.useCallback(a=>{if(Ze.disableConfetti||ot)return;const c=Math.min(a.particleCount??80,160);si({...a,particleCount:c}),Pr("confetti")},[Ze.disableConfetti,ot,Pr]),Je=d.useCallback(a=>{if(i)return;Ho(a,"autosave");const c=Date.now();Ma(c),qa(c)},[i]),aa=d.useCallback(a=>{if(E)return;const c=Ot(a);f(m=>{const x=Oo(m,a);return Je(x),x}),an(),jt({particleCount:140,spread:85,origin:{y:.65}}),c&&ae(o("quests.rewardClaimedTitle"),o(c.title),"success")},[E,jt,Je,ae,o]);d.useEffect(()=>{var N,I,q,O,U,J,X,oe;if(!_||!r.character||r.hasWon)return;const a=Hn(r);try{const ee=new Set(((N=r.quests)==null?void 0:N.readyToClaim)||[]),le=new Set(((I=a.quests)==null?void 0:I.readyToClaim)||[]),je=Array.from(le).filter(Ne=>!ee.has(Ne));je.length>0&&(jt({particleCount:70,spread:70,origin:{y:.65}}),je.slice(0,3).forEach(Ne=>{const qe=Ot(Ne);qe&&ae(o("quests.completeTitle",{title:o(qe.title)}),o("quests.rewardReady"),"success",{actionLabel:o("quests.claim"),onAction:()=>aa(Ne),durationMs:6e3})}));const Oe=(q=r.quests)==null?void 0:q.track,He=(O=a.quests)==null?void 0:O.track;if(He&&He!==Oe){const Ne=o(`quests.track.${He}`);ae(o("quests.trackUnlockedTitle"),o("quests.trackUnlockedBody",{track:Ne}),"info")}}catch(ee){console.warn("Quest sync error:",ee)}const c=ee=>{const le=Array.isArray(ee==null?void 0:ee.active)?ee.active:[],je=Array.isArray(ee==null?void 0:ee.readyToClaim)?ee.readyToClaim:[],Oe=Array.isArray(ee==null?void 0:ee.completed)?ee.completed:[];return`t:${typeof(ee==null?void 0:ee.track)=="string"?ee.track:""}|a:${le.join(",")}|r:${je.join(",")}|c:${Oe.join(",")}`},m=c(a.quests)!==c(r.quests),x=(((J=(U=a.events)==null?void 0:U[0])==null?void 0:J.id)||"")!==(((oe=(X=r.events)==null?void 0:X[0])==null?void 0:oe.id)||"");(m||x)&&(f(a),Je(a))},[r,_,aa,Je]);const Yc=d.useCallback(()=>{var c;const a=((c=r.quests)==null?void 0:c.readyToClaim)||[];if(a.length===0){ae(o("quests.nothingToClaimTitle"),o("quests.nothingToClaimBody"),"info");return}xt({title:o("quests.claimAllTitle"),description:o("quests.claimAllBody",{count:a.length}),confirmLabel:o("quests.claimAll"),cancelLabel:o("actions.cancel"),onConfirm:()=>{f(m=>{let x=m;for(const N of a)x=Oo(x,N);return Je(x),x}),an(),jt({particleCount:160,spread:90,origin:{y:.6}}),ae(o("quests.rewardsClaimedTitle"),o("quests.rewardsClaimedBody",{count:a.length}),"success")}})},[(ho=r.quests)==null?void 0:ho.readyToClaim,xt,Je,ae]),Hc=a=>{try{return nu(a)}catch(c){return console.debug("Date formatting failed:",c),o("dates.invalid")}},ia=d.useMemo(()=>{try{return new Intl.RelativeTimeFormat(u,{numeric:"auto"})}catch(a){return console.debug("RelativeTimeFormat failed:",a),new Intl.RelativeTimeFormat("en",{numeric:"auto"})}},[u]),Or=d.useCallback(a=>{const c=Math.round(a/1e3);if(c<60)return ia.format(-c,"second");const m=Math.round(c/60);if(m<60)return ia.format(-m,"minute");const x=Math.round(m/60);if(x<24)return ia.format(-x,"hour");const N=Math.round(x/24);return ia.format(-N,"day")},[ia]),$c=d.useMemo(()=>{if(i)return"";if(!Gs)return o("save.autosaveNever");const a=Math.max(0,fr-Gs);return a<45e3?o("save.autosaveJustNow"):o("save.autosaveLast",{time:Or(a)})},[fr,Or,i,Gs,o]),na=d.useCallback(()=>{xr(hi("adult"))},[]),Fc=()=>{Te();const a=hi("adult");xr(a),br(C),yr(C),Xs(null),Aa(c=>{const m={...c};return Ia.forEach(x=>{if(x==="autosave")return;const N=a.find(I=>I.slotId===x);m[x]=(N==null?void 0:N.label)??""}),m}),Ta(!0)},Uc=(a,c)=>{try{const m=a==="autosave"||c==null?void 0:c.trim(),x=m&&m.length>0?m:void 0;if(Ho(r,a,x),M(a),a==="autosave"){const N=Date.now();Ma(N),qa(N)}else typeof x=="string"&&Aa(N=>({...N,[a]:x}));na(),ae(o("save.savedTitle"),o("save.savedBody",{slot:a==="autosave"?o("save.slot.autosave"):a}),"success")}catch(m){console.error("Failed to save game:",m),ae(o("save.failedTitle"),o("save.failedBody"),"error")}},Dr=a=>{const c=An(a);if(!c){ae(o("save.notFoundTitle"),o("save.notFoundBody",{slot:a}),"warning");return}w(!1),pt(null),f(c),M(a),g(!0),kt(!1);const m=c.soundEnabled??!0;Qn(m),sn(!m);const x=pi("adult","autosave");x!=null&&x.updatedAt?(Ma(x.updatedAt),qa(Date.now())):Ma(null),Ta(!1),ae(o("save.loadedTitle"),o("save.loadedBody",{slot:a==="autosave"?o("save.slot.autosave"):a}),"success")},Qc=a=>{Fn("adult",a),na(),ae(o("save.deletedTitle"),o("save.deletedBody",{slot:a==="autosave"?o("save.slot.autosave"):a}),"info")},Vc=(a,c)=>{const m=c.trim();Kl("adult",a,m),Aa(x=>({...x,[a]:m})),na(),ae(o("save.renamedTitle"),o("save.renamedBody",{slot:a}),"success")},Br=async(a,c)=>{var N;const m=Ou("adult",a);if(!m){ae(o("save.exportMissingTitle"),o("save.exportMissingBody"),"warning");return}const x=JSON.stringify(m,null,2);if(c==="copy"){try{if(!((N=navigator.clipboard)!=null&&N.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(x),ae(o("save.exportCopiedTitle"),o("save.exportCopiedBody"),"success")}catch(I){console.warn("Clipboard write failed:",I),ae(o("save.exportCopyFailedTitle"),o("save.exportCopyFailedBody"),"error")}return}try{const I=new Blob([x],{type:"application/json"}),q=URL.createObjectURL(I),O=document.createElement("a");O.href=q,O.download=`tycoon-${a}-save.json`,document.body.appendChild(O),O.click(),O.remove(),URL.revokeObjectURL(q),ae(o("save.exportDownloadedTitle"),o("save.exportDownloadedBody"),"success")}catch(I){console.warn("Download failed:",I),ae(o("save.exportDownloadFailedTitle"),o("save.exportDownloadFailedBody"),"error")}},Kc=()=>{Xs(null);let a;try{const m=vr.trim();if(!m){Xs(o("save.importInvalid"));return}a=JSON.parse(m)}catch{Xs(o("save.importInvalid"));return}if(!Du(a,"adult",Js,Ra[Js])){Xs(o("save.importFailed"));return}na(),wr(""),ae(o("save.importSuccessTitle"),o("save.importSuccessBody",{slot:Js}),"success"),Dr(Js)},Wc=()=>{Te(),kt(!0)},zr=a=>{ft();const c=Qe[zs];let m=c.startingCash+(a.startingBonus.type==="cash"?a.startingBonus.amount:0);const x=[];if(a.startingBonus.amount<0){const I=Math.abs(a.startingBonus.amount);x.push({id:"student-loan-"+Date.now(),name:"Student Loans",balance:I,originalBalance:I,interestRate:.065,monthlyPayment:os(I,.065,120),type:"STUDENT_LOAN"}),m=c.startingCash}if("startingDebt"in c&&c.startingDebt){const I=c.startingDebt;x.push({id:"personal-loan-"+Date.now(),name:"Personal Loan",balance:I,originalBalance:I,interestRate:.1,monthlyPayment:os(I,.1,48),type:"PERSONAL_LOAN"})}const N={...ma,character:a,difficulty:zs,cash:Math.max(0,m),career:{path:a.careerPath,title:Ce[a.careerPath].levels[0].title,salary:Math.round(Ce[a.careerPath].levels[0].baseSalary*c.salaryMultiplier),level:1,experience:0,skills:{},aiVulnerability:Ce[a.careerPath].aiVulnerability,futureProofScore:Ce[a.careerPath].futureProofScore},playerJob:{title:Ce[a.careerPath].levels[0].title,salary:Math.round(Ce[a.careerPath].levels[0].baseSalary*c.salaryMultiplier),level:1,experience:0},liabilities:x,activeSideHustles:[],quests:Pt(a.id),soundEnabled:Bt};f(N),Je(N),kt(!1),g(!0),jt({particleCount:80,spread:70,origin:{y:.6}})},Gc=a=>{const c={id:`custom-${Date.now()}`,name:a.name,backstory:"Custom tycoon starter.",avatarEmoji:"üë§",avatarColor:"from-slate-500 to-slate-600",avatarImage:a.avatarImage,careerPath:a.careerPath,startingBonus:{type:"cash",amount:0},traits:[],perk:{id:"perk_generalist",name:"Generalist",description:"No perk applied."}};Ci(!1),zr(c)},Da=d.useCallback(a=>{const c=(a.month||1)+1,m=a.year||2025,x=c%12===1&&c>1?m+1:m,N=(c-1)%12+1,I=us(a),q=I.income-I.expenses,O=(a.cash||0)+q,U=O<0?Math.abs(O):0,J=[{label:"Salary",value:I.salary},{label:"Side Hustles",value:I.sideHustleIncome},{label:"Passive Income",value:I.passive},{label:"Spouse Income",value:I.spouseIncome}].filter(le=>le.value>0).sort((le,je)=>je.value-le.value),X=[{label:"Lifestyle",value:I.lifestyleCost},{label:"Debt Payments",value:I.debtPayments},{label:"Education",value:I.educationPayment},{label:"Children",value:I.childrenExpenses},{label:"Vehicles",value:I.vehicleCosts}].filter(le=>le.value>0).sort((le,je)=>je.value-le.value),oe=Math.max(500,Math.round(I.expenses*.1)),ee=U>0?"SHORTFALL":O<oe?"LOW_BUFFER":"SAFE";return{nextMonth:c,nextYear:x,monthOfYear:N,incomeLines:J,expenseLines:X,income:I.income,expenses:I.expenses,netChange:q,projectedEndCash:O,shortfall:U,warningLevel:ee}},[]),Es=d.useCallback(a=>{E||r.pendingScenario||r.pendingSideHustleUpgrade||(w(!0),Tu(),setTimeout(()=>{var I;const{newState:c,monthlyReport:m}=ku(r),x=m.income-m.expenses,N=!!(a!=null&&a.showSummaryToast);if(Math.abs(x)>10&&(ye(q=>[...q,{id:Date.now().toString(),value:x}]),x>0?ns():Rt()),c.hasWon&&!r.hasWon&&(Au(),jt({particleCount:300,spread:120,origin:{y:.5}})),m.promoted&&(nn(),ae("üéâ Promotion!",`Promoted to ${(I=c.career)==null?void 0:I.title}!`,"success")),N){const q=m.income-m.expenses,O=`${q>=0?"+":"-"}${K(Math.abs(q))}`;ae("Month complete",`Income ${K(m.income)} ‚Ä¢ Expenses ${K(m.expenses)} ‚Ä¢ Cash ${O}`,q>=0?"success":"warning")}if(f(c),Je(c),pt(m),w(!1),i&&n){const q=S+1;Y(q),(q>=P||c.hasWon)&&(Y(0),n(c))}},150))},[j,r,E,i,n,S,Je]),Ba=d.useCallback(()=>{Si(!1),Ei(null)},[]),za=d.useCallback(()=>{Te(),Ba()},[Ba]),ra=d.useCallback(()=>{za(),Es()},[Es,za]),Ya=d.useCallback(()=>{if(!(E||r.pendingScenario||r.pendingSideHustleUpgrade)){if(j!==null||!Wt||i){Es({showSummaryToast:!Wt&&j===null&&!i});return}Te(),Ei(Da(r)),Si(!0)}},[Es,j,Da,r,i,E,Wt]),Yr=d.useCallback(()=>{i||E||r.pendingScenario||r.pendingSideHustleUpgrade||(Te(),Ei(Da(r)),Si(!0),Us(!1))},[Da,r,i,E]);d.useEffect(()=>{const a=c=>{if(c.defaultPrevented||c.metaKey||c.ctrlKey||c.altKey)return;const m=c.target;if(m){const O=m.tagName;if(O==="INPUT"||O==="TEXTAREA"||O==="SELECT"||m.isContentEditable)return}const x=c.key.toLowerCase(),N=()=>{ts?js("/play"):R(ce.OVERVIEW),fc(O=>O+1)},I=O=>{if(ts)js("/money"),yc(O);else{const U=O==="invest"?ce.INVEST:O==="portfolio"?ce.ASSETS:ce.BANK;R(U)}},q=O=>{if(ts)js("/life"),wc(O);else{const U=O==="lifestyle"?ce.LIFESTYLE:ce.SIDEHUSTLE;R(U)}};switch(x){case"n":c.preventDefault(),gt&&De?ra():Ya();break;case"t":c.preventDefault(),L(j?null:Mt[0]);break;case"a":c.preventDefault(),N();break;case"i":c.preventDefault(),I("invest");break;case"p":c.preventDefault(),I("portfolio");break;case"b":c.preventDefault(),I("bank");break;case"c":c.preventDefault(),ts?js("/career"):R(ce.CAREER);break;case"e":c.preventDefault(),ts?js("/learn"):R(ce.EDUCATION);break;case"s":c.preventDefault(),q("sidehustles");break;case"l":c.preventDefault(),q("lifestyle");break}};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[j,ra,Ya,gt,De,ts]);const Jc=es&&!La&&_t<Tt.length,Xc=r.cash<=0&&!r.isBankrupt&&r.assets.length>0,ks=r.pendingSideHustleUpgrade?r.activeSideHustles.find(a=>{var c;return a.id===((c=r.pendingSideHustleUpgrade)==null?void 0:c.hustleId)}):null,Xi=(go=ks==null?void 0:ks.milestones)==null?void 0:go[((po=r.pendingSideHustleUpgrade)==null?void 0:po.milestoneIndex)??-1],Hr=!!r.pendingScenario||!!r.pendingSideHustleUpgrade||!!Pe||!!at||!!dt||!!nt||Ws||Ai||!!It||Fs||gt||ja||E||Jc||Xc||r.hasWon||r.isBankrupt;d.useEffect(()=>{if(j===null||Hr)return;const a=setTimeout(Es,j);return()=>clearTimeout(a)},[j,Hr,r.month,Es]),d.useEffect(()=>{const a=c=>{const m=c.target,x=((m==null?void 0:m.tagName)||"").toLowerCase(),N=x==="input"||x==="textarea"||(m==null?void 0:m.isContentEditable);if(c.key==="Enter"&&gt){ra();return}!N&&!c.repeat&&c.shiftKey&&(c.key==="a"||c.key==="A")&&(c.preventDefault(),L(I=>I?null:Mt[0]))};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[Ws,at,Fs,It,nt,gt,es,La,_t,Tt.length,dt,ra]);const Zc=a=>{if(!r.pendingScenario)return;Te();const c=r.pendingScenario,m=c.options[a],x=m.outcome,N=(m.label||"").toLowerCase(),I=c.id==="recession_starts"&&N.includes("panic sell"),q=N.includes("buy the dip"),O=c.id==="market_crash_opportunity"&&(N.includes("invest")||N.includes("all in")),U=c.id==="housing_bubble"&&N.includes("buy more");if(I){const X={...x,cashChange:0,message:"You decided to fire-sell assets to feel ‚Äúsafe‚Äù again. Choose what to sell at a 30% fire-sale discount."},oe=Ka(r,X);f(oe),Je(oe);const ee={};(r.assets||[]).forEach(le=>{ee[le.id]=!0}),$s(ee),Ii({type:"PANIC_SELL",discount:.3,title:"üìâ Panic Sell",description:"Choose which assets to fire-sell now. You receive ~70% of current value. Mortgaged properties may create a deficiency balance."});return}if(q||O||U){const X=typeof x.cashChange=="number"&&x.cashChange<0?Math.abs(x.cashChange):0,oe=c.id==="housing_bubble"?.2:.3,ee={...x,cashChange:0,message:`Opportunity: pick a deal to buy at ${Math.round(oe*100)}% below market price (up to ${K(X)}).`},le=Ka(r,ee);f(le),Je(le),Ti(null),xs(1),Ii({type:"BUY_DISCOUNT",budget:X,discount:oe,title:"üî• Market Sale",description:`Choose what to buy at ${Math.round(oe*100)}% below market price. You can invest up to ${K(X)} (and no more than your available cash).`});return}const J=Ka(r,x);f(J),Je(J),x.cashChange&&(ye(X=>[...X,{id:Date.now().toString(),value:x.cashChange}]),x.cashChange>0?ns(x.cashChange):Rt())},ed=d.useCallback(()=>{var N,I,q,O;if(!Ht)return;const a=Ht.options[qi];if(!a)return;const c=JSON.parse(JSON.stringify(r));c.pendingScenario=Ht;const m=Ka(c,a.outcome),x={};["happiness","health","energy","stress","networking","financialIQ","fulfillment"].forEach(U=>{var oe,ee,le;const J=((oe=m.stats)==null?void 0:oe[U])??((ee=c.stats)==null?void 0:ee[U]),X=(le=r.stats)==null?void 0:le[U];if(typeof J=="number"&&typeof X=="number"){const je=Math.round(J-X);je!==0&&(x[U]=je)}}),sr({cashDelta:Math.round(m.cash-r.cash),statsDelta:x,liabilitiesDelta:(((N=m.liabilities)==null?void 0:N.length)||0)-(((I=r.liabilities)==null?void 0:I.length)||0),assetsDelta:(((q=m.assets)==null?void 0:q.length)||0)-(((O=r.assets)==null?void 0:O.length)||0),message:o(a.outcome.message)})},[Ht,qi,r]),td=d.useCallback(()=>{if(Ht){if(r.pendingScenario){ae(o("events.eventAlreadyActiveTitle"),o("events.eventAlreadyActiveBody"),"warning");return}f(a=>({...a,pendingScenario:Ht})),er(!1)}},[Ht,r.pendingScenario]),as=d.useCallback(()=>{Ii(null),Ti(null),xs(1),$s({})},[]),sd=d.useCallback(()=>{if(!Pe||Pe.type!=="BUY_DISCOUNT")return;const a=Qa.find(oe=>oe.id===_a);if(!a){ae("Choose a Deal","Select an asset to buy on sale.","warning");return}if(!Ja(a,r.education.degrees)){ae("Education Required","Complete the required education to unlock this investment.","error");return}const c=Pe.discount,m=Math.max(0,Pe.budget),x=Math.pow(1+r.economy.inflationRate,r.month/12),N=Math.round(a.price*x),I=Math.max(1,Math.round(N*(1-c))),q=a.type===z.REAL_ESTATE||a.type===z.BUSINESS,O=Math.min(m,r.cash),U=q?I<=O?1:0:Math.floor(O/I);if(U<=0){ae("Not Enough Cash",`You need at least ${K(I)} available to grab this deal.`,"error");return}const J=q?1:Math.max(1,Math.min(gs,U)),X=I*J;if(X>r.cash){ae("Not Enough Cash",`You need ${K(X)} but only have ${K(r.cash)}.`,"error");return}ft(),f(oe=>{const ee=Math.pow(1+oe.economy.inflationRate,oe.month/12),le=Math.round(a.price*ee),je=Math.max(1,Math.round(le*(1-c))),Oe=je*J;if(oe.cash<Oe)return oe;const He=oe.assets.find(qe=>qe.name===a.name&&qe.type===a.type&&!qe.mortgageId);let Ne;if(He){const qe=typeof He.quantity=="number"?He.quantity:1,oa=qe+J,Fa=(He.costBasis*qe+je*J)/oa;Ne=oe.assets.map(la=>la.id===He.id?{...la,quantity:oa,costBasis:Fa,value:le,cashFlow:a.expectedYield*le/12,purchasePrice:je}:la)}else{const qe={id:"asset-"+Date.now().toString(),name:a.name,type:a.type,value:le,costBasis:je,quantity:J,appreciationRate:a.appreciationRate||a.expectedYield*.4,volatility:a.volatility,baseYield:a.expectedYield,cashFlow:a.expectedYield*le/12,purchasedMonth:oe.month,purchasePrice:je,industry:a.industry,description:a.description,priceHistory:[{month:oe.month,value:le}]};Ne=[...oe.assets,qe]}return{...oe,cash:oe.cash-Oe,assets:Ne,events:[{id:Date.now().toString(),month:oe.month,title:`üî• Bought on Sale: ${a.name}`,description:`Purchased ${J}x at ${Math.round(c*100)}% off for ${K(Oe)} total.`,type:"DECISION"},...oe.events]}}),ye(oe=>[...oe,{id:Date.now().toString(),value:-X}]),Rt(),ae("Deal Captured!",`Bought ${J}x ${a.name} at ${Math.round(c*100)}% off (${K(X)}).`,"success"),jt({particleCount:40,spread:60,origin:{y:.7}}),as()},[Pe,_a,gs,r.cash,r.economy.inflationRate,r.month,as]),ad=d.useCallback(()=>{if(!Pe||Pe.type!=="PANIC_SELL")return;const a=Pe.discount,c=Object.entries(Ca).filter(([,x])=>!!x).map(([x])=>x);if(c.length===0){ae("Select Assets","Choose at least one asset to panic sell.","warning");return}const m=(()=>{let x=0;for(const N of c){const I=r.assets.find(X=>X.id===N);if(!I)continue;const q=typeof I.quantity=="number"?I.quantity:1,O=I.value*q,U=Math.round(O*(1-a)),J=I.mortgageId?r.mortgages.find(X=>X.id===I.mortgageId)||r.mortgages.find(X=>X.assetId===N):r.mortgages.find(X=>X.assetId===N);J?x+=Math.max(0,U-J.balance):x+=U}return x})();rn(),f(x=>{let N=0,I=[...x.assets],q=[...x.liabilities],O=[...x.mortgages];const U=[],J=[];for(const oe of c){const ee=I.find(Ne=>Ne.id===oe);if(!ee)continue;const le=typeof ee.quantity=="number"?ee.quantity:1,je=ee.value*le,Oe=Math.round(je*(1-a)),He=ee.mortgageId?O.find(Ne=>Ne.id===ee.mortgageId)||O.find(Ne=>Ne.assetId===oe):O.find(Ne=>Ne.assetId===oe);if(He){if(Oe>=He.balance)N+=Oe-He.balance;else{const Ne=He.balance-Oe,qe={id:"def-"+Date.now().toString()+"-"+oe,name:`Deficiency Balance (${ee.name})`,balance:Ne,originalBalance:Ne,interestRate:.12,monthlyPayment:Math.max(50,Math.round(Ne/36)),type:"PERSONAL_LOAN"};q=[...q,qe],J.push(`${ee.name}: ${K(Ne)}`)}q=q.filter(Ne=>Ne.id!==He.id&&Ne.assetId!==He.assetId),O=O.filter(Ne=>Ne.id!==He.id)}else N+=Oe;I=I.filter(Ne=>Ne.id!==oe),U.push(ee.name)}if(U.length===0)return x;const X=[`Fire-sold ${U.join(", ")} at ${Math.round(a*100)}% below value.`,`Net cash received: ${K(N)}.`,J.length?`Deficiency created: ${J.join("; ")}.`:""].filter(Boolean).join(" ");return{...x,cash:x.cash+N,assets:I,liabilities:q,mortgages:O,events:[{id:Date.now().toString(),month:x.month,title:"üìâ Panic Sale Executed",description:X,type:"DECISION"},...x.events]}}),ye(x=>[...x,{id:Date.now().toString(),value:m}]),m>0?ns():Rt(),ae("Fire Sale Complete",`You panic sold ${c.length} asset(s).`,"warning"),as()},[Pe,Ca,r.assets,r.mortgages,as]),$r=a=>{if(E)return;if(r.pendingScenario){ae("Resolve Event First","Please respond to the current event before taking Monthly Actions.","warning");return}if(r.isBankrupt){ae("Game Over","You are bankrupt and can no longer take actions.","error");return}Te();const c=r.cash,{newState:m,message:x}=zo(r,a);if(m===r){ae("Cannot Do That",x,"warning");return}f(m),Je(m);const N=m.cash-c;Math.abs(N)>=1&&(ye(I=>[...I,{id:Date.now().toString(),value:N}]),N>0?ns():Rt()),ae("Monthly Action Used",x,"success")},id=d.useCallback(a=>{if(a.length===0||E)return;if(r.pendingScenario){ae("Resolve Event First","Please respond to the current event before taking Monthly Actions.","warning");return}if(r.isBankrupt){ae("Game Over","You are bankrupt and can no longer take actions.","error");return}Te();let c=r,m=0;a.forEach(x=>{const N=c.cash,{newState:I,message:q}=zo(c,x);if(I===c){ae("Cannot Do That",q,"warning");return}m+=1,c=I;const O=I.cash-N;Math.abs(O)>=1&&(ye(U=>[...U,{id:Date.now().toString(),value:O}]),O>0?ns():Rt()),ae("Monthly Action Used",q,"success")}),m!==0&&(f(c),Je(c))},[r,E,Te,ns,Rt,Je,ae]),Fr=d.useMemo(()=>Hm(r,E),[r,E]),Ur=d.useCallback(()=>{var q;if(E||!r.career)return;if(r.pendingScenario){ae("Resolve Event First","Please respond to the current event before requesting a promotion.","warning");return}if(r.isBankrupt){ae("Game Over","You are bankrupt and can no longer advance your career.","error");return}const a=Ce[r.career.path];if(!a)return;const c=r.career.level;if(c>=a.levels.length){ae("Top Level","You are already at the top of this career path.","info");return}const m=a.levels[c];if((r.career.experience??0)<m.experienceRequired){ae("More Experience Needed",`Reach ${m.experienceRequired} months of experience to promote.`,"warning");return}if(m.educationRequired&&m.educationCategory){const O=["HIGH_SCHOOL","CERTIFICATE","ASSOCIATE","BACHELOR","MASTER","MBA","PHD","LAW","MEDICAL"];if(!r.education.degrees.some(J=>{const X=Xe.find(le=>le.id===J);if(!X)return!1;const oe=O.indexOf(m.educationRequired);return O.indexOf(X.level)>=oe&&X.category===m.educationCategory})){ae("Education Required",`Need ${m.educationRequired.replace("_"," ")} in ${m.educationCategory}.`,"warning");return}}const{promoted:N,newState:I}=$l(r);if(!N){ae("Promotion Pending","Keep boosting happiness and networking to improve promotion odds.","info");return}f(I),Je(I),nn(),ae("üéâ Promotion!",`Promoted to ${(q=I.career)==null?void 0:q.title}!`,"success")},[r,E,nn,Je,ae]),Ha=d.useCallback((a,c)=>{var O;if(!Ja(a,r.education.degrees)){Ke(),ae("Education Required","Complete the required education to unlock this investment.","error");return}const m=Math.pow(1+r.economy.inflationRate,r.month/12),x=Math.round(a.price*m),N=((O=r.negotiationsPerks)==null?void 0:O.dealDiscountPct)??0,q=(a.type===z.REAL_ESTATE||a.type===z.BUSINESS)&&N>0?Math.round(x*(1-N)):x;if(c&&a.canMortgage){const U="asset-"+Date.now().toString(),J=zn.find(le=>le.id===c);if(!J){Ke();return}const X=dc(We,c,Ui);if(We<X.minScore){Ke(),ae("Credit Too Low",`Need credit score ${X.minScore}+ for this mortgage.`,"error");return}if(Math.random()>X.approvalChance){Ke(),ae("Mortgage Denied","The lender declined your application based on credit and debt load.","error");return}const oe=Math.max(3.5,Math.min(40,J.downPaymentPercent+X.downPaymentPercentDelta)),ee=pu(U,a.name,q,c,r.economy.interestRate,{downPaymentPercent:oe,rateAdjustment:X.rateAdjustment});if(!ee){Ke();return}if(r.cash<ee.downPayment){Ke(),ae("Insufficient Funds",`Need ${K(ee.downPayment)} for down payment`,"error");return}ft(),f(le=>{const je=a.expectedYield*q/12,Oe={id:U,name:a.name,type:a.type,value:q,costBasis:q,quantity:1,cashFlow:je,volatility:a.volatility,appreciationRate:a.expectedYield*.4,priceHistory:[{month:le.month,value:q}],baseYield:a.expectedYield,industry:a.industry,mortgageId:ee.mortgage.id,opsUpgrade:a.type===z.BUSINESS?!1:void 0,currentMonthIncome:a.type===z.BUSINESS?Math.round(je):void 0,lastMonthIncome:a.type===z.BUSINESS?Math.round(je):void 0};return{...le,cash:le.cash-ee.downPayment,assets:[...le.assets,Oe],liabilities:[...le.liabilities,ee.liability],mortgages:[...le.mortgages,ee.mortgage],events:[{id:Date.now().toString(),month:le.month,title:`üè† Purchased ${a.name}`,description:`${K(ee.downPayment)} down, ${K(ee.mortgage.monthlyPayment)}/mo mortgage`,type:"DECISION"},...le.events]}}),Ys(null),jt({particleCount:40,spread:50}),ae("Property Purchased!",`Mortgage: ${K(ee.mortgage.monthlyPayment)}/mo`,"success")}else{if(r.cash<q){Ke(),ae("Insufficient Funds",`Need ${K(q)}`,"error");return}ft(),f(U=>{const J=U.assets.find(oe=>oe.name===a.name&&!oe.mortgageId);let X=[...U.assets];if(J){const oe=X.findIndex(Oe=>Oe.id===J.id),ee=J.quantity+1,le=(J.costBasis*J.quantity+q)/ee,je=a.expectedYield*le/12;X[oe]={...J,quantity:ee,value:q,costBasis:le,cashFlow:je,currentMonthIncome:a.type===z.BUSINESS?Math.round(je*ee):J.currentMonthIncome,lastMonthIncome:a.type===z.BUSINESS?J.lastMonthIncome??Math.round(J.cashFlow*J.quantity):J.lastMonthIncome}}else{const oe=a.expectedYield*q/12;X.push({id:"asset-"+Date.now(),name:a.name,type:a.type,value:q,costBasis:q,quantity:1,cashFlow:oe,volatility:a.volatility,appreciationRate:a.expectedYield*.4,priceHistory:[{month:U.month,value:q}],baseYield:a.expectedYield,industry:a.industry,opsUpgrade:a.type===z.BUSINESS?!1:void 0,currentMonthIncome:a.type===z.BUSINESS?Math.round(oe):void 0,lastMonthIncome:a.type===z.BUSINESS?Math.round(oe):void 0})}return{...U,cash:U.cash-q,assets:X,events:[{id:Date.now().toString(),month:U.month,title:`üì¶ Purchased ${a.name}`,description:`Bought for ${K(q)} cash`,type:"DECISION"},...U.events]}}),zc(a.name,q)}},[r]),Zi=a=>[z.STOCK,z.INDEX_FUND,z.BOND,z.CRYPTO,z.COMMODITY].includes(a.type),Qr=()=>{Te(),ue(a=>{const c=!a;return c||ze({}),c})},Vr=(a,c)=>{ze(m=>{const x={...m};return c<=0?delete x[a]:x[a]=c,x})},en=()=>{Te(),ze({})},nd=()=>{if(Ye.lines.length===0){ae("Cart Empty","Select quantities on securities first.","warning");return}if(!Ye.canAfford){ae("Not Enough Cash",`Total is ${K(Ye.totalCost)} but you only have ${K(r.cash)}.`,"error");return}ft(),f(a=>{const c=Math.pow(1+a.economy.inflationRate,a.month/12);let m=a.cash,x=[...a.assets],N=0;const I=[];for(const q of Ye.lines){const O=q.item;if(!Zi(O))continue;const U=Math.round(O.price*c),J=Math.max(1,q.qty),X=U*J;if(m<X)break;m-=X,N+=X,I.push(`${J}x ${O.name}`);const oe=x.find(ee=>ee.name===O.name&&ee.type===O.type&&!ee.mortgageId);if(oe){const ee=typeof oe.quantity=="number"?oe.quantity:1,le=ee+J,je=(oe.costBasis*ee+U*J)/le;x=x.map(Oe=>Oe.id===oe.id?{...Oe,quantity:le,costBasis:je,value:U,cashFlow:O.expectedYield*U/12,purchasePrice:U}:Oe)}else{const ee=O.expectedYield*U/12,le={id:"asset-"+Date.now().toString()+"-"+O.id,name:O.name,type:O.type,value:U,costBasis:U,quantity:J,appreciationRate:O.appreciationRate||O.expectedYield*.4,volatility:O.volatility,baseYield:O.expectedYield,cashFlow:ee,purchasedMonth:a.month,purchasePrice:U,industry:O.industry,description:O.description,priceHistory:[{month:a.month,value:U}],opsUpgrade:O.type===z.BUSINESS?!1:void 0,currentMonthIncome:O.type===z.BUSINESS?Math.round(ee*J):void 0,lastMonthIncome:O.type===z.BUSINESS?Math.round(ee*J):void 0};x.push(le)}}return N<=0?a:{...a,cash:m,assets:x,events:[{id:Date.now().toString(),month:a.month,title:"üì¶ Batch Purchase",description:`Bought ${I.join(", ")} for ${K(N)} total.`,type:"DECISION"},...a.events]}}),ye(a=>[...a,{id:Date.now().toString(),value:-Ye.totalCost}]),Rt(),ae("Batch Purchase Complete!",`Bought ${Ye.lines.length} ${Ye.lines.length===1?"security":"securities"} for ${K(Ye.totalCost)}.`,"success"),jt({particleCount:40,spread:60,origin:{y:.7}}),ze({})},rd=()=>{if(Ye.lines.length===0){ae("Cart Empty","Select quantities on securities first.","warning");return}const a=Ye.lines.map(c=>({label:`${c.qty}x ${c.item.name}`,value:`${K(c.lineTotal)} (${K(c.unitPrice)} each)`}));a.push({label:"TOTAL",value:K(Ye.totalCost)}),xt({title:"Confirm Batch Purchase",description:"You are about to buy the following securities:",details:a,confirmLabel:`Buy (${K(Ye.totalCost)})`,cancelLabel:"Cancel",onConfirm:nd})},Kr=d.useCallback(a=>{Ru(),f(c=>{var ee;const m=c.assets.find(le=>le.id===a);if(!m)return c;const x=typeof m.quantity=="number"?m.quantity:1,N=m.value*x,I=((ee=c.negotiationsPerks)==null?void 0:ee.saleBonusPct)??0,O=(m.type===z.REAL_ESTATE||m.type===z.BUSINESS)&&I>0?Math.round(N*(1+I)):N,U=m.mortgageId?c.mortgages.find(le=>le.id===m.mortgageId)||c.mortgages.find(le=>le.assetId===a):c.mortgages.find(le=>le.assetId===a);let J=O;if(U&&(J=O-U.balance,J<0))return ae("Cannot Sell","Property is underwater (worth less than mortgage).","error"),c;const X=U?c.liabilities.filter(le=>le.id!==U.id&&le.assetId!==U.assetId):c.liabilities,oe=U?c.mortgages.filter(le=>le.id!==U.id):c.mortgages;return{...c,cash:c.cash+J,assets:c.assets.filter(le=>le.id!==a),liabilities:X,mortgages:oe,events:[{id:Date.now().toString(),month:c.month,title:`üí∞ Sold ${m.name}`,description:`Sold for ${K(O)}${U?` (${K(J)} after mortgage)`:""}`,type:"DECISION"},...c.events]}})},[]),Wr=d.useCallback(a=>{const c=r.mortgages.find(J=>J.id===a);if(!c)return;const m=r.creditRating??650;if(m<680){ae("Credit Too Low","Reach a 680+ credit score to refinance.","warning");return}const x=c.type==="FHA"?.005:c.type==="INVESTMENT"?.01:0,N=r.economy.interestRate+x+Un(m)*.6;if(N>=c.interestRate-.005){ae("No Better Rate","Current market rates are not favorable enough to refinance.","info");return}const I=Math.max(1,Math.ceil(c.monthsRemaining/12)),q=os(c.balance,N,I*12),O=c.monthlyPayment-q,U=Math.round(c.balance*.01);xt({title:`Refinance ${c.assetName}`,description:"Refinancing resets your rate and payment. Closing costs are due upfront.",details:[{label:"Current rate",value:rt(c.interestRate)},{label:"New rate",value:rt(N)},{label:"Current payment",value:K(c.monthlyPayment)},{label:"New payment",value:K(q)},{label:"Monthly savings",value:`${O>=0?"+":""}${K(Math.abs(O))}`},{label:"Closing costs",value:K(U)}],confirmLabel:"Refinance",cancelLabel:"Cancel",danger:U>r.cash,onConfirm:()=>{if(r.cash<U){ae("Insufficient Funds",`Need ${K(U)} for closing costs.`,"error");return}ft(),f(J=>({...J,cash:J.cash-U,mortgages:J.mortgages.map(X=>X.id===a?{...X,interestRate:N,monthlyPayment:q}:X),liabilities:J.liabilities.map(X=>X.id===a?{...X,interestRate:N,monthlyPayment:q}:X),events:[{id:Date.now().toString(),month:J.month,title:`üè¶ Refinance Approved: ${c.assetName}`,description:`New rate ${rt(N)}, payment ${K(q)}/mo.`,type:"DECISION"},...J.events]})),ae("Refinance Complete",`Payment lowered by ${K(Math.max(0,O))}/mo`,"success")},onCancel:()=>Te()})},[r]),Gr=d.useCallback(a=>{const c=os(a.amount,a.rate,a.term),m=Se.debtPayments+c,x=Se.income>0?m/Se.income:1,N=th(We,x),I=Math.round(Tr*100),q=x>=.4?"Likely to decrease credit due to higher debt-to-income.":"Likely stable if payments stay on time.";xt({title:`Confirm Loan: ${a.name}`,description:"Loans are permanent until repaid. Confirm before taking on new debt.",details:[{label:"Cash received now",value:K(a.amount)},{label:"APR",value:`${(a.rate*100).toFixed(1)}%`},{label:"Term",value:`${a.term} months`},{label:"Est. monthly payment",value:K(c)},{label:"Debt-to-income after loan",value:`${Math.round(x*100)}%`},{label:"Credit utilization",value:`${I}%`},{label:"Approval chance",value:`${Math.round(N*100)}%`},{label:"Credit impact",value:q}],confirmLabel:"Take Loan",cancelLabel:"Cancel",danger:!0,onConfirm:()=>{if(Math.random()>N){Ke(),ae("Loan Denied","The bank rejected your application based on credit and debt load.","error");return}ft(),f(O=>{const U={id:"loan-"+Date.now(),name:a.name,balance:a.amount,originalBalance:a.amount,interestRate:a.rate,monthlyPayment:c,type:"PERSONAL_LOAN"};return{...O,cash:O.cash+a.amount,liabilities:[...O.liabilities,U],events:[{id:Date.now().toString(),month:O.month,title:`üí≥ Took ${a.name}`,description:`Received ${K(a.amount)} at ${rt(a.rate)} APR, ${K(c)}/mo`,type:"DECISION"},...O.events]}}),ye(O=>[...O,{id:Date.now().toString(),value:a.amount}]),ns(a.amount),ae("Loan Approved!",`${K(a.amount)} deposited`,"success")},onCancel:()=>{Te()}})},[Se.debtPayments,Se.income,We,Tr,xt]),$a=d.useCallback((a,c)=>{const m=r.liabilities.find(N=>N.id===a);if(!m)return;const x=c||Math.min(m.balance,r.cash);if(x<=0||r.cash<x){Ke(),ae("Insufficient Funds","Not enough cash to pay","error");return}Rt(),ye(N=>[...N,{id:Date.now().toString(),value:-x}]),f(N=>{const I=N.liabilities.map(O=>{if(O.id===a){const U=O.balance-x;return{...O,balance:Math.max(0,U)}}return O}).filter(O=>O.balance>0),q=!I.find(O=>O.id===a);return q&&(an(),ae("üéâ Debt Paid Off!",m.name,"success")),{...N,cash:N.cash-x,liabilities:I,events:[{id:Date.now().toString(),month:N.month,title:q?`‚úÖ Paid Off ${m.name}`:`üí∏ Paid ${K(x)} on ${m.name}`,description:q?"Debt eliminated!":`Remaining: ${K(m.balance-x)}`,type:"DECISION"},...N.events]}})},[r]),Jr=d.useCallback(a=>{const c=r.assets.find(x=>x.id===a);if(!c||c.type!==z.BUSINESS)return;if(c.opsUpgrade){ae("Ops Upgrade Active","This business already has upgraded operations.","info");return}const m=xn(c);if(r.cash<m){ae("Insufficient Funds",`Need ${K(m)} for ops upgrade.`,"error");return}ft(),f(x=>({...x,cash:x.cash-m,assets:x.assets.map(N=>N.id===a?{...N,opsUpgrade:!0}:N),events:[{id:Date.now().toString(),month:x.month,title:"üõ†Ô∏è Ops Upgrade Installed",description:`${c.name} volatility reduced and maintenance risk lowered.`,type:"DECISION"},...x.events]})),ae("Ops Upgrade Purchased",`Applied to ${c.name}.`,"success")},[r.assets,r.cash]),Xr=d.useCallback(a=>{if(r.education.currentlyEnrolled&&r.education.currentlyEnrolled.educationId){Ke(),ae("Already Enrolled","Complete current program first","error");return}if(r.education.degrees.includes(a.id)){Ke(),ae("Already Completed","You already have this degree","error");return}if(a.requirements&&!a.requirements.some(X=>r.education.degrees.some(oe=>{const ee=Xe.find(le=>le.id===oe);return ee&&ee.level===X}))){Ke(),ae("Prerequisites Missing",`Requires ${a.requirements.join(" or ")} degree`,"error");return}const m=a.cost>2e4,x=m?Math.round(a.cost*.1):a.cost;if(r.cash<x){Ke(),ae("Insufficient Funds",`Need ${K(x)} ${m?"deposit":"to enroll"}`,"error");return}const N=a.relevantCareers.includes(ut),I=m?a.cost-x:0,q=m?Math.round(I/a.duration):0,O=m||!N||x>=5e3,U=()=>{ft(),f(J=>{const X=[...J.liabilities];return m&&X.push({id:"student-loan-"+Date.now(),name:`${a.name} Student Loan`,balance:I,originalBalance:I,interestRate:.065,monthlyPayment:q,type:"STUDENT_LOAN"}),{...J,cash:J.cash-x,liabilities:X,education:{...J.education,currentlyEnrolled:{educationId:a.id,monthsRemaining:a.duration,monthlyPayment:0}},events:[{id:Date.now().toString(),month:J.month,title:`üìö Started ${a.name}`,description:N?`This will boost your ${Ce[ut].name} career by ${Math.round((a.salaryBoost-1)*100)}%!${m?` Student loan: ${K(I)}`:""}`:`‚ö†Ô∏è Warning: This degree won't help your ${Ce[ut].name} career.`,type:"DECISION"},...J.events]}}),ae(N?"üéì Great Choice!":"‚ö†Ô∏è Career Mismatch",N?`${a.name} will boost your salary!`:`${a.name} won't benefit your ${Ce[ut].name} career`,N?"success":"warning")};if(O){xt({title:`Confirm Enrollment: ${a.name}`,description:"Education is a long-term commitment. Confirm before enrolling in expensive or mismatched programs.",details:[{label:"Upfront payment",value:K(x)},...m?[{label:"Student loan",value:K(I)},{label:"Est. loan payment",value:`${K(q)}/mo`},{label:"Duration",value:`${a.duration} months`}]:[{label:"Duration",value:`${a.duration} months`}],{label:"Career relevance",value:N?"‚úÖ Relevant":"‚ö†Ô∏è Not relevant"},{label:"Salary boost",value:`+${Math.round((a.salaryBoost-1)*100)}%`}],confirmLabel:"Enroll",cancelLabel:"Cancel",danger:!N||m,onConfirm:U,onCancel:()=>Te()});return}U()},[r,ut,xt]),Zr=d.useCallback(a=>{var m,x,N;if(r.activeSideHustles.find(I=>I.id===a.id)){Ke(),ae("Already Active","You are already doing this side hustle","error");return}if(r.cash<a.startupCost){Ke(),ae("Insufficient Funds",`Need ${K(a.startupCost)} startup cost`,"error");return}if(a.requiredEducation&&a.requiredEducation.length>0&&!a.requiredEducation.some(q=>r.education.degrees.some(O=>{const U=Xe.find(J=>J.id===O);return U&&U.category===q}))){Ke(),ae("Education Required",`Need ${a.requiredEducation.join(" or ")} education`,"error");return}const c=((m=r.career)==null?void 0:m.level)??((x=r.playerJob)==null?void 0:x.level)??0;if(a.requiredCareerLevel&&c<a.requiredCareerLevel){Ke(),ae("Career Level Required",`Reach career level ${a.requiredCareerLevel} to unlock this hustle.`,"error");return}if(a.requiredCareerPath&&a.requiredCareerPath.length>0&&(!((N=r.career)!=null&&N.path)||!a.requiredCareerPath.includes(r.career.path))){Ke(),ae("Career Path Required","This hustle unlocks for a specific career path.","error");return}if(r.stats.energy<a.energyCost){Ke(),ae("Too Tired","Not enough energy for this side hustle","error");return}ft(),f(I=>({...I,cash:I.cash-a.startupCost,activeSideHustles:[...I.activeSideHustles,{...a,isActive:!0,monthsActive:0,upgrades:[]}],events:[{id:Date.now().toString(),month:I.month,title:`üöÄ Started ${a.name}`,description:`Expected income: ${K(a.incomeRange.min)}-${K(a.incomeRange.max)}/mo`,type:"DECISION"},...I.events]})),a.startupCost>0&&ye(I=>[...I,{id:Date.now().toString(),value:-a.startupCost}]),ae("Side Hustle Started!",`${a.name} is now active`,"success")},[r]),eo=d.useCallback(a=>{Te();const c=r.activeSideHustles.find(m=>m.id===a);f(m=>{var x;return{...m,activeSideHustles:m.activeSideHustles.filter(N=>N.id!==a),pendingSideHustleUpgrade:((x=m.pendingSideHustleUpgrade)==null?void 0:x.hustleId)===a?null:m.pendingSideHustleUpgrade,events:[{id:Date.now().toString(),month:m.month,title:`üõë Stopped ${(c==null?void 0:c.name)||"Side Hustle"}`,description:"Side hustle discontinued",type:"DECISION"},...m.events]}}),ae("Side Hustle Stopped",(c==null?void 0:c.name)||"Hustle","info")},[r]),od=d.useCallback(a=>{var I;const c=r.pendingSideHustleUpgrade;if(!c)return;const m=r.activeSideHustles.find(q=>q.id===c.hustleId),x=(I=m==null?void 0:m.milestones)==null?void 0:I[c.milestoneIndex],N=x==null?void 0:x.options.find(q=>q.id===a);if(!(!m||!N)){if(r.cash<N.cost){ae("Insufficient Funds",`Need ${K(N.cost)} to upgrade.`,"error");return}N.cost>0?ft():Te(),f(q=>{var oe;const O=q.activeSideHustles.find(ee=>ee.id===c.hustleId),U=(oe=O==null?void 0:O.milestones)==null?void 0:oe[c.milestoneIndex],J=U==null?void 0:U.options.find(ee=>ee.id===a);if(!O||!J)return q;const X=[...O.upgrades||[]];return X[c.milestoneIndex]=J.id,{...q,cash:q.cash-J.cost,activeSideHustles:q.activeSideHustles.map(ee=>ee.id===O.id?{...ee,upgrades:X}:ee),pendingSideHustleUpgrade:null,events:[{id:Date.now().toString(),month:q.month,title:`üß© ${O.name} Upgrade`,description:`${J.label} selected.`,type:"DECISION"},...q.events]}}),fs(!1),ae("Upgrade Applied",`${m.name}: ${N.label}`,"success")}},[r]),to=d.useCallback(a=>{if(a===r.lifestyle){Te();return}const c=vt[r.lifestyle],m=vt[a],x=m.cost-c.cost;xt({title:"Confirm Lifestyle Change",description:"Lifestyle changes immediately affect your monthly expenses and wellbeing. Confirm to avoid costly mis-clicks.",details:[{label:"From",value:`${r.lifestyle} (${K(c.cost)}/mo)`},{label:"To",value:`${a} (${K(m.cost)}/mo)`},{label:"Monthly cost change",value:`${x>=0?"+":""}${K(x)}/mo`},{label:"Happiness impact",value:`${m.happiness>=0?"+":""}${m.happiness}`}],confirmLabel:"Change Lifestyle",cancelLabel:"Cancel",danger:x>0,onConfirm:()=>{Te(),f(N=>({...N,lifestyle:a})),ae("Lifestyle Changed",`Now living ${a.toLowerCase()}`,"info")},onCancel:()=>{Te()}})},[r.lifestyle,xt]);if(!_&&!Kt)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:e.jsxs(ne.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md w-full text-center",children:[t&&e.jsx("button",{onClick:t,className:"absolute top-4 left-4 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-full text-white font-medium transition-all",children:"‚Üê Back to Menu"}),e.jsx(ne.div,{animate:{rotate:[0,5,-5,0],scale:[1,1.05,1]},transition:{duration:3,repeat:1/0},className:"text-7xl mb-4",children:"üí∞"}),e.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:"Tycoon"}),e.jsx("p",{className:"text-emerald-400 font-medium text-xl",children:"Financial Freedom Simulator"}),e.jsx("p",{className:"text-slate-400 mt-2 mb-6",children:"Build wealth ‚Ä¢ Invest wisely ‚Ä¢ Beat the robots"}),e.jsx(ne.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Wc,className:"w-full py-4 bg-gradient-to-r from-emerald-600 to-emerald-500 text-white font-bold rounded-xl shadow-lg text-xl mb-4",children:"üöÄ Start Your Journey"}),e.jsx("button",{onClick:Mr,className:"p-3 bg-slate-800 rounded-lg text-slate-400 hover:text-white","aria-label":Bt?"Mute sound":"Unmute sound",children:Bt?e.jsx(kn,{size:20}):e.jsx(In,{size:20})}),e.jsx("p",{className:"text-slate-500 text-sm mt-6",children:"v3.4.3 ‚Ä¢ Autoplay Continues After Events ‚Ä¢ Stop Autoplay in Event Popups ‚Ä¢ Event Cooldowns ‚Ä¢ Save/Load ‚Ä¢ Event Images"})]})});if(Kt)return ps?e.jsx(tc,{onCancel:()=>Ci(!1),onComplete:Gc}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-4 md:p-8 overflow-y-auto",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Choose Your Path"}),e.jsx("p",{className:"text-slate-400",children:"‚ö†Ô∏è Some careers are more AI-proof than others!"})]}),e.jsx("div",{className:"flex justify-center gap-2 mb-6 flex-wrap",children:Object.keys(Qe).map(a=>e.jsx(ne.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Te(),gc(a)},className:`px-4 py-2 rounded-lg font-medium transition-all ${zs===a?"bg-emerald-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:Qe[a].label},a))}),e.jsx("p",{className:"text-center text-slate-500 text-sm mb-6",children:Qe[zs].description}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(ne.div,{whileHover:{scale:1.02,y:-5},whileTap:{scale:.98},onClick:()=>Ci(!0),className:"bg-slate-800/50 border border-emerald-500/40 rounded-2xl p-4 cursor-pointer hover:border-emerald-400 transition-all flex flex-col items-center justify-center text-center min-h-[260px]",children:[e.jsx("div",{className:"w-14 h-14 rounded-full bg-emerald-500/20 flex items-center justify-center text-2xl mb-3",children:e.jsx(Pn,{size:28,className:"text-emerald-300"})}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Create Custom"}),e.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Build a 3D Pixar-style avatar from your photo."}),e.jsx("div",{className:"mt-4 px-3 py-1 rounded-full bg-emerald-500/10 text-emerald-300 text-xs font-semibold",children:"Optional"})]}),Bn.map(a=>{const c=Ce[a.careerPath],m=c.futureProofScore;return e.jsxs(ne.div,{whileHover:{scale:1.02,y:-5},whileTap:{scale:.98},onClick:()=>zr(a),className:"bg-slate-800/50 border border-slate-700 rounded-2xl p-4 cursor-pointer hover:border-emerald-500/50 transition-all",children:[e.jsx("div",{className:`w-14 h-14 rounded-full bg-gradient-to-br ${a.avatarColor} flex items-center justify-center text-2xl mb-3 mx-auto`,children:a.avatarEmoji}),e.jsx("h3",{className:"text-lg font-bold text-white text-center",children:a.name}),e.jsxs("p",{className:"text-emerald-400 text-sm text-center",children:[c.icon," ",c.name]}),e.jsx("p",{className:"text-slate-400 text-xs text-center mb-2 line-clamp-2",children:a.backstory}),e.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-900/50 p-2 mb-2",children:[e.jsx("p",{className:"text-[10px] uppercase tracking-wide text-slate-500 text-center",children:"Perk"}),e.jsx("p",{className:"text-xs text-slate-200 text-center font-medium",children:a.perk.name}),e.jsx("p",{className:"text-[11px] text-slate-400 text-center",children:a.perk.description})]}),e.jsx("div",{className:`text-center p-2 rounded-lg mb-2 ${m>=80?"bg-emerald-900/30 border border-emerald-700/50":m>=50?"bg-amber-900/30 border border-amber-700/50":"bg-red-900/30 border border-red-700/50"}`,children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(Ms,{size:12}),e.jsxs("span",{className:"text-xs font-medium",children:["AI-Proof: ",m,"%"]})]})}),e.jsxs("div",{className:"text-center text-xs text-slate-500",children:["Starting: ",me(Qe[zs].startingCash+(a.startingBonus.type==="cash"&&a.startingBonus.amount>0?a.startingBonus.amount:0)),a.startingBonus.amount<0&&e.jsxs("span",{className:"text-red-400",children:[" + ",me(Math.abs(a.startingBonus.amount))," debt"]})]})]},a.id)})]})]})});const ld={formatMoney:me,formatMoneyFull:K,formatPercent:rt,gameState:r,investmentFilter:H,setInvestmentFilter:F,investmentTierFilter:V,setInvestmentTierFilter:ie,investmentSearch:te,setInvestmentSearch:se,filteredInvestments:Ar,batchBuyMode:B,toggleBatchBuyMode:Qr,clearBatchBuyCart:en,batchBuyQuantities:_e,setBatchBuyQuantities:ze,batchBuyCart:Ye,handleBuyAsset:Ha,hasRequiredEducationForInvestment:Ja,getAssetIcon:Ga,getItemTier:fn,getRiskRating:rl,isProcessing:E,playClick:Te,setShowMortgageModal:Ys,setSelectedMortgage:Hs,isBatchBuyEligible:Zi,setBatchQty:Vr,quizTitle:Ve==null?void 0:Ve.title,quizIntro:Ve==null?void 0:Ve.intro,quizQuestions:(Ve==null?void 0:Ve.questions)||[],quizAnswers:he,onSelectQuizAnswer:qr,onSubmitQuiz:Lr,onSkipQuiz:()=>{de&&Oa(de)}},cd={gameState:r,cashFlow:Se,formatMoney:me,formatPercent:rt,getAssetIcon:Ga,getBusinessIncomeRange:al,getOpsUpgradeCost:xn,handleRefinanceMortgage:Wr,handleSellAsset:Kr,handleBusinessOpsUpgrade:Jr,handlePayDebt:$a,creditScore:We,coachHint:Me},dd={gameState:r,creditTier:Yt,creditScore:We,formatMoney:me,formatPercent:rt,getCreditTierColor:da,coachBankLoansRef:Oi,coachHighlight:Nt,adjustedLoanOptions:Rr,calculateLoanPayment:os,handleTakeLoan:Gr,handlePayDebt:$a};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white pb-24 md:pb-4",children:[e.jsx(it,{children:Fe.map(a=>e.jsx(Ch,{value:a.value,onComplete:()=>ye(c=>c.filter(m=>m.id!==a.id))},a.id))}),e.jsx(it,{children:fe&&e.jsx(ne.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed left-1/2 -translate-x-1/2 z-50 bg-slate-800 border border-slate-700 rounded-xl p-4 shadow-2xl w-[min(24rem,calc(100vw-2rem))]",style:{top:"calc(env(safe-area-inset-top) + 1rem)"},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${fe.type==="success"?"bg-emerald-500/20":fe.type==="error"?"bg-red-500/20":fe.type==="warning"?"bg-amber-500/20":"bg-blue-500/20"}`,children:fe.type==="success"?e.jsx(Rs,{className:"text-emerald-400",size:20}):fe.type==="error"?e.jsx(ls,{className:"text-red-400",size:20}):fe.type==="warning"?e.jsx(Ts,{className:"text-amber-400",size:20}):e.jsx(Ut,{className:"text-blue-400",size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-white",children:fe.title}),e.jsx("p",{className:"text-slate-400 text-sm",children:fe.message})]}),fe.actionLabel&&fe.onAction?e.jsx("button",{onClick:()=>{var a;(a=fe.onAction)==null||a.call(fe),ss.current&&(window.clearTimeout(ss.current),ss.current=null),Ie(null)},className:"px-3 py-2 rounded-lg bg-emerald-600/20 hover:bg-emerald-600/30 border border-emerald-500/30 text-emerald-200 text-xs font-semibold",children:fe.actionLabel}):e.jsx("button",{onClick:()=>Ie(null),className:"text-slate-500 hover:text-white","aria-label":"Dismiss notification",children:e.jsx(ls,{size:18})})]})})}),nt&&Be&&e.jsxs(Re,{isOpen:!!nt,onClose:()=>Vs(),ariaLabel:`${Be.title} intro video`,overlayClassName:"bg-black/80 backdrop-blur-sm overflow-y-auto",overlayStyle:{paddingTop:"calc(env(safe-area-inset-top) + 1rem)",paddingBottom:"calc(env(safe-area-inset-bottom) + 1rem)",paddingLeft:"calc(env(safe-area-inset-left) + 1rem)",paddingRight:"calc(env(safe-area-inset-right) + 1rem)"},contentClassName:"w-full max-w-4xl bg-slate-800 border border-slate-700 rounded-2xl shadow-2xl overflow-y-auto",contentStyle:{maxHeight:"calc(100dvh - 2rem)"},closeOnOverlayClick:!0,closeOnEsc:!0,children:[e.jsxs("div",{className:"sticky top-0 z-10 flex items-start justify-between gap-4 p-5 border-b border-slate-700/60 bg-slate-800/95 backdrop-blur",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[Be.icon,Be.title]}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:Be.description})]}),e.jsx("div",{className:"text-right",children:Be.duration&&e.jsxs("div",{className:"text-xs text-slate-400",children:["Duration ",Be.duration]})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("div",{className:"rounded-xl overflow-hidden border border-slate-700 bg-black",children:e.jsxs("div",{style:{aspectRatio:"16 / 9"},className:"w-full relative",children:[Be.poster&&!kc&&e.jsx("img",{src:Be.poster,alt:"Intro video thumbnail",className:"absolute inset-0 w-full h-full object-cover pointer-events-none select-none",draggable:!1}),e.jsxs("video",{ref:zt,poster:Be.poster,className:"w-full h-full object-contain bg-black",playsInline:!0,muted:rr,preload:Pc?"metadata":"none",controls:!0,onPlay:()=>{const a=zt.current;if(a)try{a.muted=!1}catch(c){console.debug("Video unmute on play failed:",c)}Sa(!1),Hi(a),Gt(!0),Ea(!0),ws(null)},onPause:()=>Gt(!1),onEnded:()=>{Gt(!1),nt&&zi(a=>({...a,[nt]:!0})),Vs({remember:!0})},onError:()=>{var x;const a=zt.current,c=(x=a==null?void 0:a.error)==null?void 0:x.code,m=c===1?"MEDIA_ERR_ABORTED":c===2?"MEDIA_ERR_NETWORK":c===3?"MEDIA_ERR_DECODE":c===4?"MEDIA_ERR_SRC_NOT_SUPPORTED":c?`MEDIA_ERR_${c}`:"";ws(m?`Video error: ${m}`:"Video failed to load."),Gt(!1)},children:[e.jsx("source",{src:Be.src,type:"video/mp4"}),Be.captionsSrc&&e.jsx("track",{kind:"subtitles",src:Be.captionsSrc,srcLang:"en",label:"English",default:!0})]})]})}),e.jsxs("div",{className:"mt-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("button",{onClick:Rc,className:"px-4 py-2 rounded-xl bg-slate-700 hover:bg-slate-600 border border-slate-600 text-white text-sm font-semibold flex items-center gap-2",children:[or?e.jsx(ha,{size:16}):e.jsx(Is,{size:16}),or?"Pause":"Play"]}),e.jsx("button",{onClick:()=>{Sa(a=>{const c=!a,m=zt.current;return m&&(m.muted=c),c})},className:"px-4 py-2 rounded-xl bg-slate-700 hover:bg-slate-600 border border-slate-600 text-white text-sm font-semibold",children:rr?"Unmute":"Mute"})]}),e.jsx("div",{className:"text-xs text-slate-500",children:"Tap Play ‚Äî sound will turn on."})]}),lr&&e.jsxs("div",{className:"mt-3 rounded-xl border border-red-700/30 bg-red-950/30 p-3",children:[e.jsx("p",{className:"text-red-200 font-semibold text-sm",children:"Video couldn't start."}),e.jsx("p",{className:"text-red-200/80 text-xs mt-1 break-words",children:lr}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>void Ks(),className:"px-3 py-2 rounded-lg bg-red-500/20 hover:bg-red-500/25 border border-red-500/30 text-red-100 text-xs font-semibold",children:"Try again"}),e.jsx("button",{onClick:()=>{try{window.open(Be.src,"_blank","noopener,noreferrer")}catch(a){console.warn("Failed to open video in new tab:",a)}},className:"px-3 py-2 rounded-lg bg-slate-800 hover:bg-slate-750 border border-slate-700 text-slate-200 text-xs font-semibold",children:"Open video"})]})]}),(Be.quickTips||Be.transcript)&&e.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-xl border border-slate-700 bg-slate-900/40 p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-white mb-2",children:"Quick guide"}),e.jsx("ul",{className:"space-y-2 text-sm text-slate-300",children:(Be.quickTips||[]).map((a,c)=>e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-emerald-400",children:"‚Ä¢"}),e.jsx("span",{children:a})]},`${Be.title}-tip-${c}`))})]}),e.jsxs("div",{className:"rounded-xl border border-slate-700 bg-slate-900/40 p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-white mb-2",children:"Transcript"}),e.jsx("div",{className:"space-y-2 text-sm text-slate-300",children:(Be.transcript||[]).map((a,c)=>e.jsx("p",{children:a},`${Be.title}-transcript-${c}`))})]})]}),e.jsxs("div",{className:"mt-5 flex flex-col gap-2",children:[e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer select-none text-sm text-slate-300",children:[e.jsx("input",{type:"checkbox",checked:Bi,onChange:a=>dr(a.target.checked),className:"mt-1"}),e.jsx("span",{children:"Don't show this video again"})]}),e.jsx(ne.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>{Vs({remember:!0}),Be.continueToTab&&R(Be.continueToTab)},className:"w-full px-4 py-3 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-white font-semibold",children:Be.continueLabel||"Continue"}),e.jsx("button",{onClick:()=>Vs({remember:!1}),className:"w-full px-5 py-3 rounded-xl bg-slate-900/40 hover:bg-slate-700 border border-slate-700 text-slate-300 font-semibold touch-target",children:"Skip video"}),e.jsx("button",{onClick:()=>Vs({remember:!0}),className:"w-full px-5 py-3 rounded-xl bg-slate-700 hover:bg-slate-600 border border-slate-600 text-white font-semibold touch-target",children:"Close"})]})]})]}),at&&e.jsxs(Re,{isOpen:!!at,onClose:Gi,ariaLabel:"Confirmation",overlayClassName:"bg-black/80 backdrop-blur-sm",overlayStyle:{paddingTop:"calc(env(safe-area-inset-top) + 1rem)",paddingBottom:"calc(env(safe-area-inset-bottom) + 1rem)",paddingLeft:"calc(env(safe-area-inset-left) + 1rem)",paddingRight:"calc(env(safe-area-inset-right) + 1rem)"},contentClassName:"w-full max-w-lg bg-slate-800 border border-slate-700 rounded-2xl shadow-2xl overflow-hidden",contentStyle:{maxHeight:"calc(100dvh - 2rem)"},closeOnOverlayClick:!0,closeOnEsc:!0,children:[e.jsx("div",{className:"flex items-start justify-between gap-4 p-5 border-b border-slate-700/60",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:at.title}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:at.description})]})}),e.jsxs("div",{className:"p-5 space-y-4",children:[at.details&&at.details.length>0&&e.jsx("div",{className:"rounded-xl border border-slate-700 bg-slate-900/40 p-4",children:e.jsx("div",{className:"space-y-2",children:at.details.map(a=>e.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm",children:[e.jsx("span",{className:"text-slate-300",children:a.label}),e.jsx("span",{className:"text-slate-200 font-semibold text-right",children:a.value})]},a.label))})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("button",{onClick:()=>{const a=at.onCancel;Gi(),a==null||a()},className:"w-full sm:w-auto px-5 py-3 rounded-xl bg-slate-700 hover:bg-slate-600 border border-slate-600 text-white font-semibold touch-target",children:at.cancelLabel||"Cancel"}),e.jsx("button",{onClick:()=>{const a=at.onConfirm;Gi(),a()},className:`w-full sm:flex-1 px-5 py-3 rounded-xl text-white font-semibold touch-target ${at.danger?"bg-red-600 hover:bg-red-500":"bg-emerald-600 hover:bg-emerald-500"}`,children:at.confirmLabel})]})]})]}),Fs&&e.jsxs(Re,{isOpen:Fs,onClose:()=>Ri(!1),ariaLabel:o("settings.accessibility.ariaLabel"),overlayClassName:"bg-black/80 backdrop-blur-sm",overlayStyle:{paddingTop:"calc(env(safe-area-inset-top) + 1rem)",paddingBottom:"calc(env(safe-area-inset-bottom) + 1rem)",paddingLeft:"calc(env(safe-area-inset-left) + 1rem)",paddingRight:"calc(env(safe-area-inset-right) + 1rem)"},contentClassName:"w-full max-w-lg bg-slate-800 border border-slate-700 rounded-2xl shadow-2xl overflow-hidden",contentStyle:{maxHeight:"calc(100dvh - 2rem)"},closeOnOverlayClick:!0,closeOnEsc:!0,children:[e.jsx("div",{className:"flex items-start justify-between gap-4 p-5 border-b border-slate-700/60",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:o("settings.accessibility.title")}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:o("settings.accessibility.subtitle")})]})}),e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-white font-semibold",htmlFor:"language-select",children:o("settings.language.label")}),e.jsxs("select",{id:"language-select",value:u,onChange:a=>h(a.target.value),className:"w-full px-3 py-2 rounded-lg bg-slate-900 border border-slate-700 text-white",children:[e.jsx("option",{value:"en",children:o("language.en")}),e.jsx("option",{value:"es",children:o("language.es")})]}),e.jsx("p",{className:"text-slate-400 text-sm",children:o("settings.language.helper")})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer select-none",children:[e.jsx("input",{type:"checkbox",checked:Ze.largeText,onChange:a=>bs(c=>({...c,largeText:a.target.checked})),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-semibold",children:o("settings.accessibility.largeText.title")}),e.jsx("div",{className:"text-slate-400 text-sm",children:o("settings.accessibility.largeText.description")})]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer select-none",children:[e.jsx("input",{type:"checkbox",checked:Ze.highContrast,onChange:a=>bs(c=>({...c,highContrast:a.target.checked})),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-semibold",children:o("settings.accessibility.highContrast.title")}),e.jsx("div",{className:"text-slate-400 text-sm",children:o("settings.accessibility.highContrast.description")})]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer select-none",children:[e.jsx("input",{type:"checkbox",checked:Ze.reduceMotion,onChange:a=>bs(c=>({...c,reduceMotion:a.target.checked})),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-semibold",children:o("settings.accessibility.reduceMotion.title")}),e.jsx("div",{className:"text-slate-400 text-sm",children:o("settings.accessibility.reduceMotion.description")})]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer select-none",children:[e.jsx("input",{type:"checkbox",checked:Ze.disableConfetti,onChange:a=>bs(c=>({...c,disableConfetti:a.target.checked})),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-semibold",children:o("settings.accessibility.disableConfetti.title")}),e.jsx("div",{className:"text-slate-400 text-sm",children:o("settings.accessibility.disableConfetti.description")})]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer select-none",children:[e.jsx("input",{type:"checkbox",checked:Ze.disableVideoPreload,onChange:a=>bs(c=>({...c,disableVideoPreload:a.target.checked})),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-semibold",children:o("settings.accessibility.disableVideoPreload.title")}),e.jsx("div",{className:"text-slate-400 text-sm",children:o("settings.accessibility.disableVideoPreload.description")})]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer select-none",children:[e.jsx("input",{type:"checkbox",checked:Zt,onChange:a=>qc(a.target.checked),className:"mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-semibold",children:o("settings.tutorialPopups.title")}),e.jsx("div",{className:"text-slate-400 text-sm",children:o("settings.tutorialPopups.description")})]})]}),e.jsxs("div",{className:"rounded-xl border border-slate-700 bg-slate-900/40 p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Keyboard shortcuts"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Press a key to jump without clicking."}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-3 text-sm",children:[["N","Next Month"],["T","Toggle Autoplay"],["A","Actions"],["I","Invest"],["P","Portfolio"],["B","Bank"],["C","Career"],["E","Education"],["S","Side Hustles"],["L","Lifestyle"]].map(([a,c])=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-700/70 bg-slate-950/40 px-3 py-2",children:[e.jsx("span",{className:"text-slate-300",children:c}),e.jsx("span",{className:"text-xs font-semibold text-emerald-300",children:a})]},a))})]}),e.jsxs("div",{className:"pt-2 flex flex-col sm:flex-row gap-2",children:[e.jsx("button",{onClick:()=>bs({largeText:!1,highContrast:!1,reduceMotion:!1,disableConfetti:!1,disableVideoPreload:!1}),className:"w-full sm:w-auto px-4 py-3 rounded-xl bg-slate-700 hover:bg-slate-600 border border-slate-600 text-white font-semibold",children:o("actions.reset")}),e.jsx("button",{onClick:()=>Ri(!1),className:"w-full sm:flex-1 px-4 py-3 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-white font-semibold",children:o("actions.done")})]})]})]}),gt&&De&&e.jsxs(Re,{isOpen:gt&&!!De,onClose:za,ariaLabel:"Next Month preview",overlayClassName:"bg-black/80 backdrop-blur-sm",closeOnOverlayClick:!0,closeOnEsc:!0,contentClassName:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"üìÖ Next Month Preview"}),e.jsxs("p",{className:"text-slate-400 text-sm",children:["Year ",De.nextYear," ‚Ä¢ Month ",De.monthOfYear," (estimated)"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-5",children:[e.jsxs("div",{className:"bg-slate-900/40 border border-slate-700 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-emerald-300",children:"Income"}),e.jsx("span",{className:"text-xs text-slate-400",children:"Top sources"})]}),e.jsx("div",{className:"mt-3 space-y-2",children:De.incomeLines.slice(0,5).map(a=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-300",children:a.label}),e.jsx("span",{className:"text-emerald-200 font-medium",children:K(a.value)})]},a.label))}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-700 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-400",children:"Estimated total"}),e.jsx("span",{className:"text-sm font-bold text-emerald-300",children:K(De.income)})]})]}),e.jsxs("div",{className:"bg-slate-900/40 border border-slate-700 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-amber-300",children:"Expenses"}),e.jsx("span",{className:"text-xs text-slate-400",children:"Top drivers"})]}),e.jsx("div",{className:"mt-3 space-y-2",children:De.expenseLines.slice(0,5).map(a=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-300",children:a.label}),e.jsx("span",{className:"text-amber-200 font-medium",children:K(a.value)})]},a.label))}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-700 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-400",children:"Estimated total"}),e.jsx("span",{className:"text-sm font-bold text-amber-300",children:K(De.expenses)})]})]})]}),e.jsxs("div",{className:`mt-4 p-4 rounded-xl border ${De.warningLevel==="SHORTFALL"?"bg-red-900/20 border-red-700/40":De.warningLevel==="LOW_BUFFER"?"bg-amber-900/20 border-amber-700/40":"bg-emerald-900/10 border-emerald-700/30"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-slate-300",children:"Projected cash change"}),e.jsxs("div",{className:`text-sm font-bold flex items-center gap-1 ${De.netChange>=0?"text-emerald-300":"text-red-300"}`,children:[De.netChange>=0?e.jsx(jd,{size:16}):e.jsx(Sd,{size:16}),De.netChange>=0?"+":"-",K(Math.abs(De.netChange))]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("div",{className:"text-sm text-slate-300",children:"Projected end cash"}),e.jsx("div",{className:"text-sm font-bold text-white",children:K(Math.max(0,De.projectedEndCash))})]}),Pa!==null&&e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("div",{className:"text-sm text-slate-300",children:"Lifestyle change impact"}),e.jsxs("div",{className:`text-sm font-semibold ${Pa>=0?"text-emerald-300":"text-red-300"}`,children:[Pa>=0?"+":"-",K(Math.abs(Pa)),"/mo"]})]}),De.warningLevel==="SHORTFALL"&&e.jsxs("div",{className:"mt-3 text-sm text-red-200 flex items-start gap-2",children:[e.jsx(Ts,{size:18,className:"mt-0.5"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold",children:["Projected shortfall: ",K(De.shortfall)]}),e.jsx("div",{className:"text-xs text-red-200/90 mt-1",children:"You may miss payments and take a credit hit. Consider lowering lifestyle, selling an asset, or using a Monthly Action (Overtime / Hustle Sprint)."})]})]}),De.warningLevel==="LOW_BUFFER"&&e.jsxs("div",{className:"mt-3 text-sm text-amber-200 flex items-start gap-2",children:[e.jsx(Ts,{size:18,className:"mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"Low buffer"}),e.jsx("div",{className:"text-xs text-amber-200/90 mt-1",children:"One bad event could push you into delinquency. Consider building a 1‚Äì3 month cash reserve."})]})]})]}),(De.warningLevel==="SHORTFALL"||De.warningLevel==="LOW_BUFFER")&&e.jsxs("div",{className:"mt-4 bg-slate-900/30 border border-slate-700/50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(Ut,{size:16,className:"text-amber-400"})," Quick Fixes"]}),e.jsx("span",{className:"text-xs text-slate-400",children:"Before advancing"})]}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Jump straight to the right place (or use a Monthly Action) to reduce cashflow risk."}),(()=>{var Ne;const a=r.monthlyActionsMax??2,c=typeof r.monthlyActionsRemaining=="number"?r.monthlyActionsRemaining:a,m=E||!!r.pendingScenario||!!r.hasWon||!!r.isBankrupt,N=(((Ne=r.stats)==null?void 0:Ne.energy)??0)<20,I=!m&&c>0&&!N,q=(r.activeSideHustles||[]).length>0,O=r.lifestyle!=="FRUGAL",U=(r.assets||[]).length>0,J=De.warningLevel==="SHORTFALL",X="w-full text-left p-3 rounded-xl border transition-all flex items-start gap-3",oe="bg-slate-800/40 border-slate-700 hover:border-emerald-500/40 hover:bg-slate-800/60",ee="bg-slate-900/20 border-slate-700/50 text-slate-500 cursor-not-allowed",le=(qe,oa,Fa,la="info")=>{Te(),Ba(),R(qe),ae(oa,Fa,la);const ud=qe===ce.LIFESTYLE?"lifestyle-grid":qe===ce.ASSETS?"assets-sell":qe===ce.SIDEHUSTLE?"sidehustles-list":qe===ce.BANK?"bank-loans":qe===ce.OVERVIEW?"monthly-actions":void 0;ka({tabId:qe,title:oa,message:Fa,target:ud,allowReopenPreview:!0})},je=qe=>{Ba(),R(ce.OVERVIEW),ka({tabId:ce.OVERVIEW,title:"Coach Tip",message:qe==="OVERTIME"?"Overtime applied. Re-open the preview to see the improved projection.":"Action applied. Re-open the preview to see the updated projection.",target:"monthly-actions",allowReopenPreview:!0}),setTimeout(()=>$r(qe),0)},Oe=m?"Unavailable right now":c<=0?"No actions remaining":N?"Need 20+ energy":"",He=m?"Unavailable right now":c<=0?"No actions remaining":N?"Need 20+ energy":q?"":"Start a hustle first";return e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-3",children:[e.jsxs(ne.button,{whileHover:{scale:O?1.02:1},whileTap:{scale:O?.99:1},disabled:!O,onClick:()=>le(ce.LIFESTYLE,"Coach Tip","Drop one lifestyle tier to cut monthly expenses.","info"),className:`${X} ${O?oe:ee}`,children:[e.jsx(ba,{size:18,className:"text-pink-300 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:"Lower Lifestyle"}),e.jsx("p",{className:"text-xs text-slate-400",children:O?"Reduce monthly costs (you choose the tier).":"Already at the lowest tier."})]})]}),e.jsxs(ne.button,{whileHover:{scale:U?1.02:1},whileTap:{scale:U?.99:1},disabled:!U,onClick:()=>le(ce.ASSETS,"Coach Tip","Sell an asset to raise cash (watch out for underwater mortgages).","info"),className:`${X} ${U?oe:ee}`,children:[e.jsx(qs,{size:18,className:"text-amber-300 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:"Sell an Asset"}),e.jsx("p",{className:"text-xs text-slate-400",children:U?"Convert an asset into cash to cover your buffer.":"No assets available to sell yet."})]})]}),e.jsxs(ne.button,{whileHover:{scale:I?1.02:1},whileTap:{scale:I?.99:1},disabled:!I,onClick:()=>je("OVERTIME"),className:`${X} ${I?oe:ee}`,children:[e.jsx(ni,{size:18,className:"text-emerald-300 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:"Use Overtime"}),e.jsx("p",{className:"text-xs text-slate-400",children:I?"Monthly Action: +10% salary bonus (next month).":Oe})]})]}),q?e.jsxs(ne.button,{whileHover:{scale:I&&q?1.02:1},whileTap:{scale:I&&q?.99:1},disabled:!(I&&q),onClick:()=>je("HUSTLE_SPRINT"),className:`${X} ${I&&q?oe:ee}`,children:[e.jsx(Ds,{size:18,className:"text-amber-200 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:"Hustle Sprint"}),e.jsx("p",{className:"text-xs text-slate-400",children:I&&q?"Monthly Action: +25% side hustle income (next month).":He})]})]}):e.jsxs(ne.button,{whileHover:{scale:1.02},whileTap:{scale:.99},onClick:()=>le(ce.SIDEHUSTLE,"Coach Tip","Start a side hustle to increase monthly income.","info"),className:`${X} ${oe}`,children:[e.jsx(oi,{size:18,className:"text-sky-200 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:"Start a Side Hustle"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Add extra income streams (energy/stress tradeoff)."})]})]}),J&&e.jsxs(ne.button,{whileHover:{scale:1.02},whileTap:{scale:.99},onClick:()=>le(ce.BANK,"Coach Warning","A loan can patch a shortfall fast, but increases monthly payments.","warning"),className:`${X} ${oe}`,children:[e.jsx(ri,{size:18,className:"text-blue-200 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:"Get a Loan"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Fast cash now, higher expenses later."})]})]})]})})()]}),e.jsx("div",{className:"mt-3 text-xs text-slate-500",children:"Estimates exclude random events, taxes, and side-hustle variance. Use this as a planning snapshot."}),e.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs text-slate-400 select-none",children:[e.jsx("input",{type:"checkbox",className:"rounded border-slate-600 bg-slate-900",checked:Wt,onChange:a=>Gn(a.target.checked)}),"Show month preview"]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{onClick:za,className:"px-5 py-3 rounded-xl bg-slate-700 hover:bg-slate-600 border border-slate-600 text-white touch-target",children:"Back"}),e.jsx(ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ra,className:"px-5 py-3 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-white font-semibold touch-target",children:"Advance Month"})]})]})]}),ja&&ks&&Xi&&e.jsxs(Re,{isOpen:ja,onClose:()=>fs(!1),ariaLabel:"Side hustle milestone upgrade",overlayClassName:"bg-black/70 backdrop-blur-sm",contentClassName:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"text-center mb-5",children:[e.jsx("div",{className:"mx-auto w-14 h-14 rounded-full bg-emerald-500/20 flex items-center justify-center text-3xl mb-3",children:ks.icon}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Milestone reached"}),e.jsxs("p",{className:"text-slate-400 text-sm",children:[ks.name," hit ",Xi.monthsRequired," months. Choose your next move."]})]}),e.jsx("div",{className:"space-y-3",children:Xi.options.map(a=>{const c=r.cash>=a.cost;return e.jsx("button",{onClick:()=>od(a.id),disabled:!c,className:`w-full text-left p-4 rounded-xl border transition-all ${c?"bg-slate-800/60 border-slate-600 hover:border-emerald-500/60 hover:bg-slate-700/60":"bg-slate-800/40 border-slate-700 text-slate-500 cursor-not-allowed"}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-semibold",children:a.label}),e.jsx("p",{className:"text-slate-400 text-xs",children:a.description})]}),e.jsxs("div",{className:"text-right text-sm",children:[e.jsx("p",{className:"text-emerald-300 font-semibold",children:a.cost>0?K(a.cost):"Free"}),e.jsx("p",{className:"text-slate-500 text-xs",children:Xm(a)})]})]})},a.id)})}),e.jsx("p",{className:"text-xs text-slate-500 mt-4",children:o("hustle.upgrade.deferHint")})]}),r.pendingScenario&&e.jsxs(Re,{isOpen:!!r.pendingScenario,onClose:()=>{},ariaLabel:o("events.modalTitle"),overlayClassName:"bg-black/80 backdrop-blur-sm",closeOnOverlayClick:!1,closeOnEsc:!1,showCloseButton:!1,contentClassName:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[r.pendingScenario.image&&e.jsxs("div",{ref:ur,className:"mb-4 -mt-2 -mx-2 overflow-hidden rounded-xl relative group cursor-zoom-in select-none bg-slate-900/50 border border-slate-700/50",onClick:()=>gr(r.pendingScenario.image,o(r.pendingScenario.title)),role:"button",tabIndex:0,onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),gr(r.pendingScenario.image,o(r.pendingScenario.title)))},"aria-label":o("events.enlargeImage"),children:[e.jsx("div",{className:"w-full flex items-center justify-center p-2",children:e.jsx(ne.img,{src:r.pendingScenario.image,alt:o(r.pendingScenario.title),className:"w-full max-h-[40vh] object-contain rounded-lg",initial:ot?{opacity:1}:{opacity:0,scale:1.02},animate:ot?{opacity:1}:{opacity:1,scale:1},transition:{duration:.35,ease:"easeOut"},draggable:!1})}),e.jsx("div",{className:"absolute bottom-2 right-2 text-xs text-white/90 bg-black/40 backdrop-blur px-2 py-1 rounded-lg pointer-events-none opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:o("events.tapToEnlarge")})]}),!r.pendingScenario.image&&e.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center text-3xl ${r.pendingScenario.category==="AI_DISRUPTION"?"bg-purple-500/20":r.pendingScenario.category==="MEDICAL"||r.pendingScenario.category==="FAMILY_EMERGENCY"?"bg-red-500/20":r.pendingScenario.category==="TAX"?"bg-amber-500/20":r.pendingScenario.category==="LEGAL"?"bg-orange-500/20":r.pendingScenario.category==="ECONOMIC"?"bg-blue-500/20":r.pendingScenario.category==="VEHICLE"?"bg-slate-500/20":r.pendingScenario.category==="RELATIONSHIP"?"bg-pink-500/20":r.pendingScenario.category==="WINDFALL"?"bg-yellow-500/20":r.pendingScenario.category==="HOUSING"?"bg-cyan-500/20":"bg-emerald-500/20"}`,children:r.pendingScenario.category==="AI_DISRUPTION"?"ü§ñ":r.pendingScenario.category==="MEDICAL"?"üè•":r.pendingScenario.category==="FAMILY_EMERGENCY"?"üë®‚Äçüë©‚Äçüëß":r.pendingScenario.category==="TAX"?"üìã":r.pendingScenario.category==="LEGAL"?"‚öñÔ∏è":r.pendingScenario.category==="ECONOMIC"?"üìâ":r.pendingScenario.category==="VEHICLE"?"üöó":r.pendingScenario.category==="RELATIONSHIP"?"üíï":r.pendingScenario.category==="WINDFALL"?"üéâ":r.pendingScenario.category==="HOUSING"?"üè†":"üí°"}),!i&&e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"text-xs text-slate-400 flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full border ${j?"bg-amber-600/20 border-amber-500/40 text-amber-200":"bg-slate-900/40 border-slate-700/60 text-slate-300"}`,children:j?o("autoplay.statusOn",{speed:Sr}):o("autoplay.statusOff")}),e.jsx("span",{className:"hidden sm:inline",children:o("autoplay.hotkeyHint")})]}),e.jsxs($e,{size:"sm",variant:j?"secondary":"ghost",onClick:()=>L(j?null:Mt[0]),title:o(j?"autoplay.stopHint":"autoplay.startHint"),className:j?"border-amber-500/40 text-amber-200 bg-amber-600/20":"",children:[j?e.jsx(ha,{size:14}):e.jsx(En,{size:14}),o(j?"autoplay.stop":"autoplay.start")]})]}),e.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2",children:o(r.pendingScenario.title)}),e.jsx("p",{className:"text-slate-400 text-center mb-6",children:o(r.pendingScenario.description)}),e.jsx("div",{ref:ir,className:`space-y-3 ${Nt("assets-sell")}`,children:r.pendingScenario.options.map((a,c)=>e.jsx(ne.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:e.jsxs($e,{fullWidth:!0,variant:"secondary",onClick:()=>Zc(c),className:"justify-between text-left",children:[e.jsx("span",{className:"text-white font-medium",children:o(a.label)}),a.outcome.cashChange!==0&&a.outcome.cashChange!==void 0&&e.jsxs("span",{className:`ml-2 text-sm flex-shrink-0 ${a.outcome.cashChange>=0?"text-emerald-400":"text-red-400"}`,children:["(",a.outcome.cashChange>=0?"+":"",me(a.outcome.cashChange),")"]})]})},c))})]}),Pe&&e.jsxs(Re,{isOpen:!!Pe,onClose:as,ariaLabel:"Market special action",overlayClassName:"bg-black/80 backdrop-blur-sm",overlayStyle:{paddingTop:"calc(env(safe-area-inset-top) + 1rem)",paddingBottom:"calc(env(safe-area-inset-bottom) + 1rem)"},contentClassName:"bg-slate-900 border border-slate-700 rounded-2xl p-5 w-full max-w-2xl max-h-[90vh] overflow-y-auto",closeOnOverlayClick:!0,closeOnEsc:!0,children:[e.jsx("div",{className:"flex items-start justify-between gap-4 mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:Pe.title}),e.jsx("p",{className:"text-slate-300 text-sm mt-1",children:Pe.description})]})}),Pe.type==="BUY_DISCOUNT"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-sm",children:[e.jsxs("div",{className:"text-slate-300",children:["Budget: ",e.jsx("span",{className:"text-white font-semibold",children:K(Pe.budget)}),e.jsxs("span",{className:"text-slate-400",children:[" ‚Ä¢ Cash: ",K(r.cash)]})]}),e.jsxs("div",{className:"text-slate-400",children:["Discount: ",e.jsxs("span",{className:"text-white font-semibold",children:[Math.round(Pe.discount*100),"%"]})]})]}),(()=>{const a=Math.pow(1+r.economy.inflationRate,r.month/12),c=Math.min(r.cash,Pe.budget),m=Qa.filter(N=>N.type!==z.SAVINGS).map(N=>{const I=Math.round(N.price*a),q=Math.max(1,Math.round(I*(1-Pe.discount))),O=N.type===z.REAL_ESTATE||N.type===z.BUSINESS,U=O?q<=c?1:0:Math.floor(c/q);return{item:N,base:I,discounted:q,singleUnit:O,maxUnits:U,affordable:U>0}}).sort((N,I)=>Number(I.affordable)-Number(N.affordable)||N.discounted-I.discounted).slice(0,18);if(m.length===0)return e.jsx("div",{className:"p-4 rounded-xl bg-slate-800/40 border border-slate-700 text-slate-300",children:"No deals available right now."});const x=m.find(N=>N.item.id===_a)||null;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid gap-2",children:m.map(N=>{const I=_a===N.item.id;return e.jsx("button",{onClick:()=>{Ti(N.item.id),N.singleUnit?xs(1):xs(q=>Math.min(Math.max(1,q),Math.max(1,N.maxUnits)))},className:`text-left p-3 rounded-xl border transition ${I?"border-emerald-500 bg-emerald-500/10":"border-slate-700 bg-slate-800/40 hover:bg-slate-800/60"}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-semibold",children:N.item.name}),e.jsx("div",{className:"text-xs text-slate-400 mt-0.5",children:N.item.description}),e.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[e.jsx("span",{className:"line-through",children:K(N.base)}),e.jsx("span",{className:"ml-2 text-white font-semibold",children:K(N.discounted)}),e.jsxs("span",{className:"ml-2 text-slate-400",children:["(",Math.round(Pe.discount*100),"% off)"]})]})]}),e.jsxs("div",{className:"text-right text-xs",children:[e.jsx("div",{className:`font-semibold ${N.affordable?"text-emerald-300":"text-rose-300"}`,children:N.affordable?`Max ${N.singleUnit?1:N.maxUnits}`:"Too expensive"}),e.jsxs("div",{className:"text-slate-400 mt-1",children:["~",K(N.item.expectedYield*N.discounted/12),"/mo"]})]})]})},N.item.id)})}),e.jsx("div",{className:"p-4 rounded-xl bg-slate-800/40 border border-slate-700",children:x?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("div",{className:"text-slate-200 font-semibold",children:x.item.name}),x.singleUnit?e.jsxs("div",{className:"text-slate-300 text-sm",children:["Qty: ",e.jsx("span",{className:"text-white font-semibold",children:"1"})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"w-9 h-9 rounded-lg bg-slate-700/60 hover:bg-slate-700 text-white font-bold",onClick:()=>xs(N=>Math.max(1,N-1)),disabled:gs<=1,children:"‚àí"}),e.jsx("div",{className:"min-w-[3rem] text-center text-white font-semibold",children:gs}),e.jsx("button",{className:"w-9 h-9 rounded-lg bg-slate-700/60 hover:bg-slate-700 text-white font-bold",onClick:()=>xs(N=>Math.min(x.maxUnits,N+1)),disabled:gs>=x.maxUnits,children:"+"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("div",{className:"text-slate-300",children:"Total:"}),e.jsx("div",{className:"text-white font-semibold",children:K(x.discounted*(x.singleUnit?1:gs))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("button",{onClick:as,className:"flex-1 px-4 py-3 rounded-xl bg-slate-700/60 hover:bg-slate-700 text-white font-semibold",children:"Cancel"}),e.jsx("button",{onClick:sd,className:"flex-1 px-4 py-3 rounded-xl bg-emerald-500 hover:bg-emerald-600 text-white font-semibold",children:"Buy on Sale"})]})]}):e.jsx("div",{className:"text-slate-300 text-sm",children:"Select a deal above to continue."})})]})})()]}),Pe.type==="PANIC_SELL"&&e.jsx("div",{className:"space-y-4",children:(()=>{const a=r.assets||[];if(a.length===0)return e.jsx("div",{className:"p-4 rounded-xl bg-slate-800/40 border border-slate-700 text-slate-300",children:"You have no assets to sell."});const c=Object.entries(Ca).filter(([,x])=>!!x).map(([x])=>x),m=(()=>{let x=0;for(const N of c){const I=a.find(X=>X.id===N);if(!I)continue;const q=typeof I.quantity=="number"?I.quantity:1,O=I.value*q,U=Math.round(O*(1-Pe.discount)),J=I.mortgageId?r.mortgages.find(X=>X.id===I.mortgageId)||r.mortgages.find(X=>X.assetId===N):r.mortgages.find(X=>X.assetId===N);J?x+=Math.max(0,U-J.balance):x+=U}return x})();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("button",{onClick:()=>{const x={};a.forEach(N=>{x[N.id]=!0}),$s(x)},className:"px-4 py-2 rounded-xl bg-slate-700/60 hover:bg-slate-700 text-white font-semibold",children:"Select all"}),e.jsx("button",{onClick:()=>$s({}),className:"px-4 py-2 rounded-xl bg-slate-700/60 hover:bg-slate-700 text-white font-semibold",children:"Clear"}),e.jsxs("div",{className:"sm:ml-auto px-4 py-2 rounded-xl bg-slate-800/40 border border-slate-700 text-slate-200",children:["Est. cash received: ",e.jsx("span",{className:"text-white font-semibold",children:K(m)})]})]}),e.jsx("div",{className:"grid gap-2",children:a.map(x=>{const N=!!Ca[x.id],I=typeof x.quantity=="number"?x.quantity:1,q=x.value*I,O=Math.round(q*(1-Pe.discount)),U=x.mortgageId?r.mortgages.find(X=>X.id===x.mortgageId)||r.mortgages.find(X=>X.assetId===x.id):r.mortgages.find(X=>X.assetId===x.id),J=U?Math.max(0,O-U.balance):O;return e.jsxs("label",{className:"flex items-start gap-3 p-3 rounded-xl bg-slate-800/40 border border-slate-700 hover:bg-slate-800/60 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:N,onChange:X=>$s(oe=>({...oe,[x.id]:X.target.checked})),className:"mt-1 w-5 h-5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-white font-semibold",children:x.name}),e.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Value: ",K(q)," ‚Üí Fire-sale: ",K(O),U?` ‚Ä¢ Mortgage: ${K(U.balance)} ‚Ä¢ Net: ${K(J)}`:` ‚Ä¢ Net: ${K(J)}`]})]})]},x.id)})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("button",{onClick:as,className:"flex-1 px-4 py-3 rounded-xl bg-slate-700/60 hover:bg-slate-700 text-white font-semibold",children:"Cancel"}),e.jsx("button",{onClick:ad,disabled:c.length===0,className:"flex-1 px-4 py-3 rounded-xl bg-rose-500 hover:bg-rose-600 disabled:bg-rose-500/40 text-white font-semibold",children:"Execute Fire Sale"})]})]})})()})]}),It&&e.jsx(Re,{isOpen:!!It,onClose:Ac,ariaLabel:"Event image preview",overlayClassName:"bg-black/90 backdrop-blur-sm",closeOnOverlayClick:!0,closeOnEsc:!0,contentClassName:"relative w-full max-w-5xl bg-transparent border-0 shadow-none",children:e.jsxs(ne.div,{initial:ot?{opacity:1,scale:1}:{opacity:0,scale:.97,y:8},animate:ot?{opacity:1,scale:1}:{opacity:1,scale:1,y:0},exit:ot?{opacity:0}:{opacity:0,scale:.98,y:8},transition:{duration:.25,ease:"easeOut"},className:"relative w-full",children:[e.jsx(ne.img,{src:It.src,alt:It.alt,className:"w-full max-h-[85vh] object-contain rounded-2xl shadow-2xl border border-slate-700",initial:ot?{opacity:1}:{opacity:0},animate:ot?{opacity:1}:{opacity:1},transition:{duration:.35},draggable:!1}),e.jsxs("div",{className:"mt-3 text-center text-xs text-slate-300",children:[e.jsx("span",{className:"hidden sm:inline",children:"Click"}),e.jsx("span",{className:"sm:hidden",children:"Tap"}),e.jsx("span",{children:" outside to close"})]})]})}),dt&&(()=>{const a=Math.round(dt.price*Math.pow(1+r.economy.inflationRate,r.month/12)),c=(dt.mortgageOptions||[]).map(q=>ih({item:dt,optId:q,price:a,creditScore:We,dti:Ui,cashFlow:Se,netWorth:lt,baseRate:r.economy.interestRate,cash:r.cash})).filter(q=>!!q),m=c.find(q=>q.id===Na)||null,x=m?r.cash-m.down:null,N=m?m.cashflowImpact:null,I=()=>{if(!m)return;const q=`${N>=0?"+":"-"}${K(Math.abs(N))}/mo`;xt({title:`Confirm mortgage for ${dt.name}`,description:`Buying this will reduce cash to ${K(x||0)} and change monthly cashflow by ${q}.`,confirmLabel:"Confirm purchase",cancelLabel:"Cancel",details:[{label:"Down payment",value:K(m.down)},{label:"Monthly payment",value:`${K(m.payment)}/mo`},{label:"Interest rate",value:rt(m.rate)},{label:"Est. cashflow impact",value:q}],onConfirm:()=>Ha(dt,Na)})};return e.jsxs(Re,{isOpen:!!dt,onClose:()=>{Ys(null),Hs("")},ariaLabel:"Mortgage options",overlayClassName:"bg-black/80 backdrop-blur-sm",closeOnOverlayClick:!0,closeOnEsc:!0,contentClassName:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-md w-full",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-2",children:["üè† Finance ",dt.name]}),e.jsxs("p",{className:"text-slate-400 mb-4",children:["Price: ",K(a)]}),e.jsx("div",{className:"space-y-3 mb-4",children:c.map(q=>{const{id:O,name:U,description:J,down:X,rate:oe,payment:ee,cashflowImpact:le,approvalChance:je,meetsIncomeReq:Oe,meetsNetWorthReq:He,meetsCreditReq:Ne,canAfford:qe}=q;return e.jsxs("div",{onClick:()=>qe&&Hs(O),className:`p-3 rounded-lg border cursor-pointer transition-all ${Na===O?"border-emerald-500 bg-emerald-900/20":qe?"border-slate-600 hover:border-slate-500":"border-slate-700 opacity-50 cursor-not-allowed"}`,children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-white font-medium",children:U}),e.jsxs("span",{className:"text-emerald-400",children:[me(X)," down"]})]}),e.jsx("p",{className:"text-slate-400 text-xs",children:J}),!Ne&&e.jsxs("p",{className:"text-amber-400 text-xs mt-1",children:["Requires credit score ",q.minScore,"+"]}),e.jsxs("div",{className:"flex justify-between text-xs mt-2",children:[e.jsxs("span",{className:"text-slate-500",children:["Rate: ",rt(oe)]}),e.jsxs("span",{className:"text-slate-500",children:["Payment: ",me(ee),"/mo"]})]}),e.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[e.jsxs("span",{className:`font-medium ${le>=0?"text-emerald-300":"text-red-300"}`,children:["Cashflow: ",le>=0?"+":"-",me(Math.abs(le)),"/mo"]}),e.jsxs("span",{className:"text-slate-500 inline-flex items-center gap-1",children:["Est. maint",e.jsx(xi,{content:"Estimated maintenance is 1% of purchase price per year.",children:e.jsx(ai,{size:12,className:"text-slate-400"})}),": ",me(q.maintenance),"/mo"]})]}),e.jsxs("p",{className:"text-slate-500 text-xs mt-1",children:["Approval chance: ",Math.round(je*100),"% ‚Ä¢ DTI: ",Math.round((Se.debtPayments+ee)/Math.max(1,Se.income)*100),"%"]}),!Oe&&q.incomeRequirement!==void 0&&e.jsxs("p",{className:"text-red-400 text-xs mt-1",children:["Income required: ",me(q.incomeRequirement),"/mo"]}),!He&&q.netWorthRequirement!==void 0&&e.jsxs("p",{className:"text-red-400 text-xs mt-1",children:["Net worth required: ",me(q.netWorthRequirement)]})]},O)})}),m&&e.jsxs("div",{className:"mb-4 rounded-lg border border-slate-700 bg-slate-900/40 p-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400 uppercase tracking-wide",children:[e.jsx("span",{children:"Estimated impact"}),e.jsxs("span",{className:m.cashflowImpact>=0?"text-emerald-300":"text-red-300",children:[m.cashflowImpact>=0?"+":"-",me(Math.abs(m.cashflowImpact)),"/mo"]})]}),e.jsxs("div",{className:"mt-2 text-sm text-slate-300 flex flex-wrap gap-3",children:[e.jsxs("span",{children:["Rent: ",me(m.rentIncome),"/mo"]}),e.jsxs("span",{children:["Mortgage: -",me(m.payment),"/mo"]}),e.jsxs("span",{children:["Maint: -",me(m.maintenance),"/mo"]})]}),e.jsxs("p",{className:`mt-2 text-sm font-semibold ${m.cashflowImpact>=0?"text-emerald-300":"text-red-300"}`,children:["This deal is cashflow ",m.cashflowImpact>=0?"positive":"negative"," by ~",me(Math.abs(m.cashflowImpact)),"/mo."]}),e.jsxs("div",{className:"mt-3 text-xs text-slate-300",children:["Buying this will reduce cash to ",e.jsx("span",{className:"text-white font-semibold",children:K(x||0)})," and change monthly cashflow by ",e.jsxs("span",{className:m.cashflowImpact>=0?"text-emerald-300":"text-red-300",children:[m.cashflowImpact>=0?"+":"-",me(Math.abs(m.cashflowImpact)),"/mo"]}),"."]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{Ys(null),Hs("")},className:"flex-1 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg transition-all touch-target",children:"Cancel"}),e.jsx("button",{onClick:I,disabled:!Na,className:"flex-1 py-3 bg-emerald-600 hover:bg-emerald-500 disabled:bg-slate-700 disabled:text-slate-500 rounded-lg font-medium transition-all touch-target",children:"Review Purchase"})]}),e.jsxs("button",{onClick:()=>Ha(dt),disabled:r.cash<a,className:"w-full mt-3 py-3 bg-amber-600/20 hover:bg-amber-600/30 border border-amber-600/50 text-amber-400 rounded-lg text-sm disabled:opacity-50 disabled:cursor-not-allowed transition-all touch-target",children:["Pay Full Cash (",me(a),")"]})]})})(),r.hasWon&&e.jsx(Re,{isOpen:r.hasWon,onClose:()=>{},ariaLabel:"Financial freedom achieved",overlayClassName:"bg-black/80",closeOnOverlayClick:!1,closeOnEsc:!1,showCloseButton:!1,contentClassName:"bg-transparent border-0 shadow-none max-w-md w-full",children:e.jsxs(ne.div,{initial:{scale:.5},animate:{scale:1},className:"bg-gradient-to-br from-amber-900/50 to-amber-800/50 border border-amber-500/50 rounded-2xl p-8 w-full text-center",children:[e.jsx(ne.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:1,repeat:1/0},className:"text-7xl mb-4",children:"üëë"}),e.jsx("h2",{className:"text-4xl font-bold text-amber-400 mb-2",children:"Financial Freedom!"}),e.jsxs("p",{className:"text-white mb-2",children:["Your passive income covers ",Math.round(Tn*100),"% of your expenses!"]}),e.jsx("p",{className:"text-amber-300/80 text-sm mb-6 italic",children:Math.floor(r.month/12)<5?"üöÄ Speed run champion! Did you even sleep?":Math.floor(r.month/12)<10?"üéØ Impressive! You beat the system faster than most!":Math.floor(r.month/12)<20?"üí™ Solid performance! Your future self is sending thank-you notes.":"üê¢ Slow and steady wins the race! (The race was with a snail, but still!)"}),e.jsxs("div",{className:"bg-black/30 rounded-xl p-4 mb-6 grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400",children:"Time"}),e.jsxs("p",{className:"text-white font-bold",children:[Math.floor(r.month/12),"y ",r.month%12,"m"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400",children:"Net Worth"}),e.jsx("p",{className:"text-emerald-400 font-bold",children:me(lt)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400",children:"Passive Income"}),e.jsxs("p",{className:"text-amber-400 font-bold",children:[me(Se.passive),"/mo"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400",children:"Expenses"}),e.jsxs("p",{className:"text-white font-bold",children:[me(Se.expenses),"/mo"]})]})]}),e.jsx("p",{className:"text-slate-400 text-xs mb-4",children:"üèÜ Game Over - You escaped the rat race!"}),e.jsx("button",{onClick:()=>{Te(),L(null),g(!1),kt(!0),pt(null),R(ce.OVERVIEW),Fi(0),_s(!1),Ns(_r()),f({...ma,quests:Pt()})},className:"w-full py-3 bg-amber-600 hover:bg-amber-500 rounded-xl font-bold transition-all",children:"üéÆ Play Again"})]})}),r.isBankrupt&&e.jsx(Re,{isOpen:r.isBankrupt,onClose:()=>{},ariaLabel:"Bankruptcy",overlayClassName:"bg-black/90",closeOnOverlayClick:!1,closeOnEsc:!1,showCloseButton:!1,contentClassName:"bg-transparent border-0 shadow-none max-w-md w-full",children:e.jsxs(ne.div,{initial:{scale:.5},animate:{scale:1},className:"bg-gradient-to-br from-red-900/50 to-slate-900/50 border border-red-500/50 rounded-2xl p-8 w-full text-center",children:[e.jsx(ne.div,{animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0},className:"text-7xl mb-4",children:"üí∏"}),e.jsx("h2",{className:"text-4xl font-bold text-red-400 mb-2",children:"BROKE!"}),e.jsx("p",{className:"text-white mb-2",children:"Your wallet has filed for emotional support."}),e.jsx("p",{className:"text-slate-400 text-sm mb-4 italic",children:Math.floor(r.month/12)<2?"Speedrun bankruptcy! That's... actually impressive in a way? üò¨":Math.floor(r.month/12)<5?"The bank called. They said 'LOL.' Then hung up. üìû":"Your credit score is now a cautionary tale told to finance students. üìö"}),e.jsxs("div",{className:"bg-black/30 rounded-xl p-4 mb-6 text-sm",children:[e.jsx("p",{className:"text-slate-400 mb-2",children:"üìä The Damage Report"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400",children:"Time Survived"}),e.jsxs("p",{className:"text-white font-bold",children:[Math.floor(r.month/12),"y ",r.month%12,"m"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400",children:"Credit Rating"}),e.jsxs("p",{className:"text-red-400 font-bold",children:[r.creditRating||"N/A"," üìâ"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400",children:"Missed Payments"}),e.jsxs("p",{className:"text-red-400 font-bold",children:[r.missedPayments||0," üòÖ"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400",children:"Final Debt"}),e.jsx("p",{className:"text-red-400 font-bold",children:me(r.liabilities.reduce((a,c)=>a+c.balance,0))})]})]})]}),e.jsx("p",{className:"text-yellow-400 text-sm mb-4",children:"üí° Pro tip: Emergency funds are like umbrellas. You never need one until you REALLY need one."}),e.jsx("button",{onClick:()=>{Te(),L(null),g(!1),kt(!0),pt(null),R(ce.OVERVIEW),Fi(0),_s(!1),Ns(_r()),f({...ma,quests:Pt()})},className:"w-full py-3 bg-red-600 hover:bg-red-500 rounded-xl font-bold transition-all",children:"üéÆ Redemption Arc Time"})]})}),_&&es&&!La&&!r.pendingScenario&&!r.isBankrupt&&_t<Tt.length&&e.jsxs(Re,{isOpen:_&&es&&!La,onClose:()=>{_s(!0),Ns(!1),ea()},ariaLabel:"Tutorial",overlayClassName:"bg-black/60 items-end md:items-center",closeOnOverlayClick:!0,closeOnEsc:!0,contentClassName:"bg-gradient-to-br from-blue-900/90 to-slate-900/90 border border-blue-500/50 rounded-2xl p-6 max-w-md w-full backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-4xl",children:Tt[_t].title.split(" ")[0]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:Tt[_t].title.split(" ").slice(1).join(" ")}),e.jsx("p",{className:"text-slate-300 text-sm mb-4",children:Tt[_t].message})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"flex gap-1",children:Tt.map((a,c)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${c===_t?"bg-blue-400":"bg-slate-600"}`},c))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{_s(!0),Ns(!1),ea()},className:"px-4 py-2 text-slate-400 hover:text-white text-sm transition-all",children:"Skip Tutorial"}),e.jsx("button",{onClick:()=>{_t<Tt.length-1?Fi(_t+1):(_s(!0),Ns(!1),ea())},className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg text-sm font-medium transition-all",children:_t<Tt.length-1?"Next ‚Üí":"Got it! üéÆ"})]})]})]}),r.cash<=0&&!r.isBankrupt&&r.assets.length>0&&e.jsxs(Re,{isOpen:r.cash<=0&&!r.isBankrupt&&r.assets.length>0,onClose:()=>{},ariaLabel:"Cash emergency",overlayClassName:"bg-black/80",closeOnOverlayClick:!1,closeOnEsc:!1,showCloseButton:!1,contentClassName:"bg-gradient-to-br from-amber-900/50 to-red-900/50 border border-amber-500/50 rounded-2xl p-6 max-w-lg w-full",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"text-5xl mb-2",children:"‚ö†Ô∏è"}),e.jsx("h2",{className:"text-2xl font-bold text-amber-400",children:"Cash Emergency!"}),e.jsx("p",{className:"text-white",children:"You're out of cash but have assets. Sell at 50% value to survive."}),e.jsxs("p",{className:"text-slate-400 text-sm mt-2",children:["Credit Rating: ",e.jsx("span",{className:`font-bold ${(r.creditRating||650)>600?"text-green-400":"text-red-400"}`,children:r.creditRating||650})]})]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.assets.map(a=>{const c=Math.round(a.costBasis*.5*a.quantity),m=a.mortgageId?r.mortgages.find(N=>N.id===a.mortgageId)||r.mortgages.find(N=>N.assetId===a.id):r.mortgages.find(N=>N.assetId===a.id),x=m?Math.max(0,c-m.balance):c;return e.jsxs("div",{className:"flex items-center justify-between bg-black/30 rounded-lg p-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:a.name}),e.jsxs("p",{className:"text-slate-400 text-sm",children:["Emergency Sale: ",me(c)]}),m&&e.jsxs("p",{className:"text-red-400 text-xs",children:["Net after mortgage: ",me(x)]})]}),e.jsxs("button",{onClick:()=>{if(x<=0){ae("Cannot Sell","Asset is underwater","error");return}rn(),f(N=>({...N,cash:N.cash+x,assets:N.assets.filter(I=>I.id!==a.id),liabilities:N.liabilities.filter(I=>I.assetId!==a.id),mortgages:N.mortgages.filter(I=>I.assetId!==a.id),events:[{id:Date.now().toString(),month:N.month,title:`üî• Emergency Sale: ${a.name}`,description:`Sold at 50% value for ${K(x)} to avoid bankruptcy`,type:"WARNING"},...N.events]}))},disabled:x<=0,className:`px-4 py-2 rounded-lg font-medium ${x>0?"bg-amber-600 hover:bg-amber-500 text-white":"bg-slate-700 text-slate-500 cursor-not-allowed"}`,children:["Sell for ",me(x)]})]},a.id)})}),e.jsxs("p",{className:"text-red-400 text-xs text-center mt-4",children:["‚ö†Ô∏è ",3-(r.missedPayments||0)," missed payments until bankruptcy"]})]}),Ws&&e.jsxs(Re,{isOpen:Ws,onClose:()=>Ta(!1),ariaLabel:"Save and load",overlayClassName:"bg-black/70",closeOnOverlayClick:!0,closeOnEsc:!0,contentClassName:"w-full max-w-2xl bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl overflow-hidden",children:[e.jsx("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-700",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-bold text-lg",children:"üíæ Save & Load"}),e.jsx("p",{className:"text-slate-400 text-xs",children:"Autosaves at the end of every month ‚Ä¢ Use slots for manual saves"})]})}),e.jsxs("div",{className:"p-6 space-y-3",children:[Ia.map(a=>{const c=Mc.find(N=>N.slotId===a),m=!c,x=a==="autosave"?"Autosave":`Slot ${a.replace("slot","")}`;return e.jsxs("div",{className:"bg-slate-800/60 border border-slate-700 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-white font-bold",children:x}),(c==null?void 0:c.label)&&a!=="autosave"&&e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-emerald-500/15 text-emerald-300 border border-emerald-500/20",children:c.label})]}),m?e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Empty"}):e.jsxs("div",{className:"text-slate-300 text-sm mt-1 space-y-1",children:[e.jsxs("p",{className:"text-slate-400 text-xs",children:["Last saved: ",Hc(c.updatedAt)]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 text-xs",children:[e.jsxs("div",{className:"bg-slate-900/40 rounded-lg p-2",children:[e.jsx("p",{className:"text-slate-500",children:"Time"}),e.jsxs("p",{className:"text-white font-medium",children:["Y",Math.ceil((c.month||1)/12)," ‚Ä¢ M",((c.month||1)-1)%12+1]})]}),e.jsxs("div",{className:"bg-slate-900/40 rounded-lg p-2",children:[e.jsx("p",{className:"text-slate-500",children:"Cash"}),e.jsx("p",{className:"text-emerald-300 font-medium",children:me(c.cash||0)})]}),e.jsxs("div",{className:"bg-slate-900/40 rounded-lg p-2",children:[e.jsx("p",{className:"text-slate-500",children:"Net Worth"}),e.jsx("p",{className:"text-white font-medium",children:me(c.netWorth||0)})]}),e.jsxs("div",{className:"bg-slate-900/40 rounded-lg p-2",children:[e.jsx("p",{className:"text-slate-500",children:"Passive/mo"}),e.jsx("p",{className:"text-amber-300 font-medium",children:me(c.passiveIncome||0)})]}),e.jsxs("div",{className:"bg-slate-900/40 rounded-lg p-2",children:[e.jsx("p",{className:"text-slate-500",children:"Difficulty"}),e.jsx("p",{className:"text-white font-medium",children:c.difficulty||o("save.unknown")})]})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 shrink-0",children:[e.jsxs("button",{onClick:()=>Uc(a,a==="autosave"?void 0:Ra[a]),className:"px-3 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-500 text-white text-sm font-medium flex items-center gap-2",children:[e.jsx(li,{size:16})," Save"]}),e.jsxs("button",{disabled:m,onClick:()=>Dr(a),className:"px-3 py-2 rounded-lg bg-slate-700 hover:bg-slate-600 disabled:bg-slate-800 disabled:text-slate-500 text-white text-sm font-medium flex items-center gap-2",children:[e.jsx(Cl,{size:16})," Load"]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{disabled:m,onClick:()=>Qc(a),className:"px-3 py-2 rounded-lg bg-red-600/80 hover:bg-red-600 disabled:bg-slate-900 disabled:text-slate-600 text-white text-xs flex items-center gap-1",title:"Delete save","aria-label":`Delete ${x}`,children:e.jsx(jl,{size:14})})})]})]}),a!=="autosave"&&e.jsxs("div",{className:"mt-3 flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsx("input",{type:"text",value:Ra[a]||"",onChange:N=>Aa(I=>({...I,[a]:N.target.value})),placeholder:"Name this save",className:"flex-1 rounded-lg bg-slate-900/60 border border-slate-700 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500"}),e.jsx("button",{disabled:m,onClick:()=>Vc(a,Ra[a]||""),className:"px-3 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 disabled:bg-slate-900 disabled:text-slate-600 text-slate-200 text-xs",children:"Update label"})]})]},a)}),e.jsxs("div",{className:"rounded-xl border border-slate-700 bg-slate-900/40 p-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-semibold text-sm",children:"Export / Import"}),e.jsx("p",{className:"text-slate-400 text-xs",children:"Keep a backup or move saves between devices."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"rounded-lg border border-slate-700/70 bg-slate-900/60 p-3",children:[e.jsx("p",{className:"text-slate-300 text-xs mb-2",children:"Export a save"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:$i,onChange:a=>br(a.target.value),className:"flex-1 rounded-lg bg-slate-900 border border-slate-700 px-2 py-2 text-xs text-slate-200",children:Ia.map(a=>e.jsx("option",{value:a,children:a==="autosave"?"Autosave":`Slot ${a.replace("slot","")}`},`export-${a}`))}),e.jsx("button",{onClick:()=>void Br($i,"copy"),className:"px-3 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 text-slate-200 text-xs",children:"Copy JSON"}),e.jsx("button",{onClick:()=>void Br($i,"download"),className:"px-3 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 text-slate-200 text-xs",children:"Download"})]})]}),e.jsxs("div",{className:"rounded-lg border border-slate-700/70 bg-slate-900/60 p-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-slate-300 text-xs",children:"Import a save"}),e.jsx("select",{value:Js,onChange:a=>yr(a.target.value),className:"rounded-lg bg-slate-900 border border-slate-700 px-2 py-1 text-xs text-slate-200",children:Ia.map(a=>e.jsx("option",{value:a,children:a==="autosave"?"Autosave":`Slot ${a.replace("slot","")}`},`import-${a}`))})]}),e.jsx("textarea",{value:vr,onChange:a=>wr(a.target.value),placeholder:"Paste save JSON here...",className:"w-full min-h-[96px] rounded-lg bg-slate-900 border border-slate-700 px-3 py-2 text-xs text-slate-100 placeholder:text-slate-500"}),Nr&&e.jsx("p",{className:"text-red-300 text-xs",children:Nr}),e.jsx("button",{onClick:Kc,className:"w-full px-3 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-500 text-white text-xs font-semibold",children:"Import & Load"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsx("button",{onClick:()=>{na(),ae("Refreshed","Save slots refreshed","info")},className:"text-slate-400 hover:text-white text-sm",children:"Refresh"}),e.jsx("button",{onClick:()=>Ta(!1),className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white text-sm",children:"Close"})]})]})]}),e.jsx(Wu,{isOpen:Ai,onClose:()=>Mi(!1),gameState:r,onClaim:aa,onClaimAll:Yc,isProcessing:E}),Xn&&e.jsxs(Re,{isOpen:Xn,onClose:()=>Zn(!1),ariaLabel:"Glossary",closeOnOverlayClick:!0,closeOnEsc:!0,contentClassName:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-2xl w-full",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Glossary"}),e.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Quick definitions to help you learn without slowing down gameplay."}),e.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-1",children:Wl.map(a=>e.jsxs("div",{className:"rounded-xl border border-slate-700 bg-slate-900/40 p-3",children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:a.term}),e.jsx("p",{className:"text-sm text-slate-300 mt-1",children:a.definition})]},a.term))})]}),st&&e.jsxs(Re,{isOpen:!!st,onClose:()=>Ue(null),ariaLabel:"Dashboard details",closeOnOverlayClick:!0,closeOnEsc:!0,contentClassName:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-3xl w-full",children:[st==="netWorth"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Net Worth Trend"}),e.jsxs("p",{className:"text-slate-400 text-sm mb-4",children:["Latest: ",e.jsx("span",{className:"text-white font-semibold",children:me(lt)})]}),e.jsx("div",{className:"h-56",children:e.jsx(yt,{width:"100%",height:"100%",children:e.jsxs(pa,{data:Qi,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"netWorthDetailGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#34d399",stopOpacity:.4}),e.jsx("stop",{offset:"95%",stopColor:"#34d399",stopOpacity:0})]})}),e.jsx(qt,{dataKey:"label",hide:!0}),e.jsx(Lt,{hide:!0,domain:["dataMin","dataMax"]}),e.jsx(mt,{contentStyle:{background:"#0f172a",border:"1px solid #1e293b",borderRadius:8,fontSize:12},formatter:a=>[K(a),"Net Worth"]}),e.jsx(ga,{type:"monotone",dataKey:"value",stroke:"#34d399",fill:"url(#netWorthDetailGradient)",strokeWidth:2})]})})})]}),st==="cashFlow"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Cash Flow"}),e.jsxs("p",{className:"text-slate-400 text-sm mb-4",children:["Latest net: ",e.jsxs("span",{className:"text-white font-semibold",children:[Ss>=0?"+":"-",K(Math.abs(Ss))]})]}),e.jsx("div",{className:"h-56",children:e.jsx(yt,{width:"100%",height:"100%",children:e.jsxs(El,{data:sa,children:[e.jsx(qt,{dataKey:"label",hide:!0}),e.jsx(Lt,{hide:!0}),e.jsx(mt,{contentStyle:{background:"#0f172a",border:"1px solid #1e293b",borderRadius:8,fontSize:12},formatter:(a,c)=>[K(a),c==="income"?"Income":"Expenses"]}),e.jsx(ci,{dataKey:"income",fill:"#34d399",radius:[4,4,0,0]}),e.jsx(ci,{dataKey:"expenses",fill:"#f97316",radius:[4,4,0,0]})]})})})]}),st==="credit"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Credit Score History"}),e.jsxs("p",{className:"text-slate-400 text-sm mb-4",children:["Current score: ",e.jsx("span",{className:`font-semibold ${da(Yt)}`,children:We}),e.jsxs("span",{className:"text-slate-500",children:[" ‚Ä¢ ",Yt]})]}),e.jsx("div",{className:"h-56",children:e.jsx(yt,{width:"100%",height:"100%",children:e.jsxs(pa,{data:Vi,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"creditDetailGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#38bdf8",stopOpacity:.4}),e.jsx("stop",{offset:"95%",stopColor:"#38bdf8",stopOpacity:0})]})}),e.jsx(qt,{dataKey:"label",hide:!0}),e.jsx(Lt,{hide:!0,domain:[300,850]}),e.jsx(mt,{contentStyle:{background:"#0f172a",border:"1px solid #1e293b",borderRadius:8,fontSize:12},formatter:a=>[Math.round(a).toString(),"Score"]}),e.jsx(ga,{type:"monotone",dataKey:"value",stroke:"#38bdf8",fill:"url(#creditDetailGradient)",strokeWidth:2})]})})})]}),st==="ai"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"AI Disruption Level"}),e.jsxs("p",{className:"text-slate-400 text-sm mb-4",children:["Current: ",e.jsxs("span",{className:"text-white font-semibold",children:[Math.round(ta),"%"]}),e.jsxs("span",{className:`ml-2 font-semibold ${bn((Le==null?void 0:Le.automationRisk)||"LOW")}`,children:[(Le==null?void 0:Le.automationRisk)||"LOW"," risk"]})]}),e.jsx("div",{className:"h-56",children:e.jsx(yt,{width:"100%",height:"100%",children:e.jsxs(pa,{data:Ki,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"aiDetailGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.4}),e.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:0})]})}),e.jsx(qt,{dataKey:"label",hide:!0}),e.jsx(Lt,{hide:!0,domain:[0,100]}),e.jsx(mt,{contentStyle:{background:"#0f172a",border:"1px solid #1e293b",borderRadius:8,fontSize:12},formatter:a=>[`${Math.round(a)}%`,"Disruption"]}),e.jsx(ga,{type:"monotone",dataKey:"value",stroke:"#f59e0b",fill:"url(#aiDetailGradient)",strokeWidth:2})]})})})]})]}),ts?e.jsxs(Xl,{title:"Financial Freedom",subtitle:"Tycoon",navItems:Dc,activePath:Cs,onNavigate:a=>js(a),children:[Cs==="/play"&&e.jsx(_m,{playerName:(l==null?void 0:l.name)||((xo=r.character)==null?void 0:xo.name)||"Player",year:Math.ceil(r.month/12),month:(r.month-1)%12+1,avatarColor:(fo=r.character)==null?void 0:fo.avatarColor,avatarImage:(bo=r.character)==null?void 0:bo.avatarImage,avatarEmoji:(yo=r.character)==null?void 0:yo.avatarEmoji,cashLabel:me(r.cash),netWorthLabel:me(lt),passiveLabel:me(Se.passive),isProcessing:E,nextMonthDisabled:E||!!r.pendingScenario,onNextMonth:Ya,autoplayEnabled:Ct,autoplayLabel:Ct?"ON":"OFF",autoplayTooltip:Er,autoplaySpeed:j,autoplaySpeedOptions:Mt,autoplaySpeedLabels:wn,onToggleAutoplay:()=>L(j?null:Mt[0]),onSetAutoplaySpeed:L,monthlyActions:Fr,onUseMonthlyAction:$r,openActionsSignal:Wn,events:r.events,gameState:r,onClaimQuest:aa,onOpenGoals:()=>Mi(!0),creditScore:We,creditTier:Yt,getCreditTierColor:da,aiImpact:Le,careerPath:ut,getAIRiskColor:bn}),Cs==="/money"&&e.jsx(Im,{gameState:r,netWorth:lt,cashFlow:Se,formatMoney:me,formatMoneyFull:K,formatPercent:rt,investTabProps:ld,portfolioTabProps:cd,bankTabProps:dd,showQuiz:!!Ve,forcedTab:bc||void 0}),Cs==="/career"&&e.jsx(Am,{gameState:r,careerPath:ut,cashFlow:Se,formatMoney:me,aiImpact:Le,isProcessing:E,onPromote:Ur}),Cs==="/learn"&&e.jsx(Lm,{gameState:r,careerPath:ut,formatMoney:me,handleEnrollEducation:Xr,coachLifestyleGridRef:Qs,coachHighlight:Nt,setGameState:f}),Cs==="/life"&&e.jsx(Bm,{gameState:r,cashFlow:Se,formatMoney:me,handleChangeLifestyle:to,coachLifestyleGridRef:Qs,coachHighlight:Nt,coachHint:Me,InfoTip:Ji,getHustleUpgradeLabel:nl,getNextHustleMilestone:il,handleStartSideHustle:Zr,handleStopSideHustle:eo,setShowSideHustleUpgradeModal:fs,coachSideHustlesRef:Pi,forcedTab:vc||void 0})]}):e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"sticky top-0 z-40 bg-slate-900/95 backdrop-blur-lg border-b border-slate-800",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-11 h-11 rounded-full bg-gradient-to-br ${((vo=r.character)==null?void 0:vo.avatarColor)||"from-slate-500 to-slate-600"} flex items-center justify-center text-2xl overflow-hidden`,children:(wo=r.character)!=null&&wo.avatarImage?e.jsx("img",{src:r.character.avatarImage,alt:r.character.name||"Avatar",className:"w-full h-full object-cover"}):((No=r.character)==null?void 0:No.avatarEmoji)||"üë§"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-semibold text-sm",children:(l==null?void 0:l.name)||((_o=r.character)==null?void 0:_o.name)||"Player"}),e.jsxs("p",{className:"text-slate-400 text-xs",children:["Year ",Math.ceil(r.month/12)," ‚Ä¢ Month ",(r.month-1)%12+1]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[((Co=r.character)==null?void 0:Co.perk)&&e.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 rounded-lg bg-slate-800/80 border border-slate-700 text-[11px] text-slate-200",title:r.character.perk.description,children:[e.jsx(Ut,{size:12}),e.jsx("span",{children:r.character.perk.name})]}),i&&e.jsx("div",{className:"bg-amber-500/20 border border-amber-500/50 rounded-lg px-2 py-0.5",children:e.jsxs("p",{className:"text-amber-400 text-[11px] font-medium",children:["Turn ",S+1,"/",P]})}),r.aiDisruption&&r.aiDisruption.disruptionLevel>20&&e.jsxs("div",{className:`hidden sm:flex items-center gap-1 px-2 py-0.5 rounded-lg text-[11px] ${(Le==null?void 0:Le.automationRisk)==="CRITICAL"?"bg-red-900/30 text-red-400":(Le==null?void 0:Le.automationRisk)==="HIGH"?"bg-orange-900/30 text-orange-400":"bg-amber-900/30 text-amber-400"}`,children:[e.jsx(Ms,{size:12}),e.jsxs("span",{children:["AI Risk: ",(Le==null?void 0:Le.automationRisk)||"LOW"]})]})]})]})]}),e.jsxs("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-3 gap-3 flex-1 lg:px-6",children:[e.jsxs(bt,{className:"p-3 border-emerald-500/20 bg-emerald-950/30",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-emerald-300/80",children:"Cash"}),e.jsx("p",{className:"text-xl font-semibold text-emerald-100",children:me(r.cash)})]}),e.jsxs(bt,{className:"p-3 border-slate-700 bg-slate-900/60",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:"Net Worth"}),e.jsx("p",{className:"text-xl font-semibold text-white",children:me(lt)})]}),e.jsxs(bt,{className:"p-3 border-amber-500/20 bg-amber-950/30",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-amber-300/80",children:"Passive / mo"}),e.jsx("p",{className:"text-xl font-semibold text-amber-100",children:me(Se.passive)})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne.div,{whileHover:{scale:1.03},whileTap:{scale:.98},children:e.jsxs($e,{variant:"primary",size:"lg",onClick:Ya,disabled:E||!!r.pendingScenario,title:"Next Month (N)",children:[E?e.jsx(ni,{size:18,className:"animate-spin"}):e.jsx(Is,{size:18}),e.jsx("span",{children:"Next Month"})]})}),e.jsxs($e,{variant:"secondary",size:"md",onClick:()=>L(j?null:Mt[0]),title:`${Er} ‚Ä¢ Shortcut: T`,"aria-label":"Autoplay toggle","aria-pressed":Ct,className:Ct?"border-amber-500/40 text-amber-200 bg-amber-600/20":"",children:[Ct?e.jsx(En,{size:16}):e.jsx(ha,{size:16}),e.jsx("span",{className:"text-sm font-semibold",children:"Autoplay"}),e.jsx("span",{className:`text-xs font-semibold ${Ct?"text-amber-200":"text-slate-400"}`,children:Ct?"ON":"OFF"})]})]}),!i&&e.jsxs("label",{className:"flex items-center gap-2 text-[11px] text-slate-400 select-none",children:[e.jsx("input",{type:"checkbox",className:"rounded border-slate-600 bg-slate-900",checked:Wt,onChange:a=>Gn(a.target.checked)}),"Show month preview"]}),e.jsx("div",{className:"hidden sm:flex items-center gap-1",children:Mt.map(a=>{const c=wn[a]||"1x",m=j===a;return e.jsx("button",{onClick:()=>L(a),disabled:!Ct,"aria-pressed":m,className:`px-2 py-1 rounded-lg text-xs font-semibold border transition-all ${Ct?m?"bg-amber-600/30 border-amber-500/50 text-amber-100":"bg-slate-800 border-slate-700 text-slate-300 hover:text-white":"bg-slate-800 border-slate-700 text-slate-500 cursor-not-allowed"}`,children:c},a)})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{variant:"secondary",size:"sm",className:"sm:hidden",onClick:()=>pe(a=>!a),"aria-expanded":Ee,"aria-label":"Toggle finance dashboard",children:Ee?"Hide KPIs":"Show KPIs"}),e.jsxs("div",{className:"relative",children:[e.jsx($e,{variant:"secondary",size:"sm",onClick:()=>$(a=>!a),"aria-label":"Open dashboard menu","aria-expanded":be,children:e.jsx(Ed,{size:18})}),be&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>$(!1)}),e.jsxs("div",{className:"absolute right-0 mt-2 w-56 rounded-xl border border-slate-700 bg-slate-900 shadow-xl p-2 z-50",children:[e.jsx("div",{className:"px-2 py-1 text-[11px] text-slate-500",children:$c}),t&&!i&&e.jsxs($e,{variant:"ghost",size:"sm",fullWidth:!0,onClick:()=>{Te(),Je(r),t(),$(!1)},className:"justify-start",children:[e.jsx(_l,{size:16})," Back to Menu"]}),!i&&e.jsxs($e,{variant:"ghost",size:"sm",fullWidth:!0,onClick:()=>{Fc(),$(!1)},className:"justify-start",children:[e.jsx(li,{size:16})," Save / Load"]}),e.jsxs($e,{variant:"ghost",size:"sm",fullWidth:!0,onClick:()=>{Mi(!0),$(!1)},className:"justify-start",children:[e.jsx(fi,{size:16})," Quests"]}),e.jsxs($e,{variant:"ghost",size:"sm",fullWidth:!0,onClick:()=>{Zn(!0),$(!1)},className:"justify-start",children:[e.jsx(Qt,{size:16})," Glossary"]}),e.jsxs($e,{variant:"ghost",size:"sm",fullWidth:!0,onClick:()=>{Mr(),$(!1)},className:"justify-start",children:[Bt?e.jsx(kn,{size:16}):e.jsx(In,{size:16}),Bt?"Mute sound":"Unmute sound"]}),e.jsxs($e,{variant:"ghost",size:"sm",fullWidth:!0,onClick:()=>{Ri(!0),$(!1)},className:"justify-start",children:[e.jsx(kd,{size:16})," Accessibility"]})]})]})]})]})]})]}),e.jsx("div",{className:"hidden md:block",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Ft,{title:"Net Worth Trend",data:Qi,unit:"$",onClick:()=>Ue("netWorth"),valueLabel:me(lt),caption:"Last 12 months",ariaLabel:"View net worth trend details",variant:"line"}),e.jsx(Ft,{title:"Cash Flow",data:sa,unit:"$",onClick:()=>Ue("cashFlow"),valueLabel:`${Ss>=0?"+":"-"}${K(Math.abs(Ss))}`,caption:"Income vs expenses",ariaLabel:"View cash flow details",variant:"bar"}),e.jsx(Ft,{title:"Credit Score History",data:Vi,unit:"pts",onClick:()=>Ue("credit"),valueLabel:`${We} ${Yt}`,caption:"Last 12 months",ariaLabel:"View credit score details",variant:"line"}),e.jsx(Ft,{title:"AI Disruption Level",data:Ki,unit:"%",onClick:()=>Ue("ai"),valueLabel:`${Math.round(ta)}%`,caption:`Risk: ${(Le==null?void 0:Le.automationRisk)||"LOW"}`,ariaLabel:"View AI disruption details",variant:"line"})]})}),Ee&&e.jsxs("div",{className:"md:hidden rounded-2xl border border-slate-800 bg-slate-900/70 p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs(bt,{className:"p-3 border-emerald-500/20 bg-emerald-950/30",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-emerald-300/80",children:"Cash"}),e.jsx("p",{className:"text-xl font-semibold text-emerald-100",children:me(r.cash)})]}),e.jsxs(bt,{className:"p-3 border-slate-700 bg-slate-900/60",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:"Net Worth"}),e.jsx("p",{className:"text-xl font-semibold text-white",children:me(lt)})]}),e.jsxs(bt,{className:"p-3 border-amber-500/20 bg-amber-950/30",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-amber-300/80",children:"Passive / mo"}),e.jsx("p",{className:"text-xl font-semibold text-amber-100",children:me(Se.passive)})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[e.jsx(Ft,{title:"Net Worth Trend",data:Qi,unit:"$",onClick:()=>Ue("netWorth"),valueLabel:me(lt),caption:"Last 12 months",ariaLabel:"View net worth trend details",variant:"line"}),e.jsx(Ft,{title:"Cash Flow",data:sa,unit:"$",onClick:()=>Ue("cashFlow"),valueLabel:`${Ss>=0?"+":"-"}${K(Math.abs(Ss))}`,caption:"Income vs expenses",ariaLabel:"View cash flow details",variant:"bar"}),e.jsx(Ft,{title:"Credit Score History",data:Vi,unit:"pts",onClick:()=>Ue("credit"),valueLabel:`${We} ${Yt}`,caption:"Last 12 months",ariaLabel:"View credit score details",variant:"line"}),e.jsx(Ft,{title:"AI Disruption Level",data:Ki,unit:"%",onClick:()=>Ue("ai"),valueLabel:`${Math.round(ta)}%`,caption:`Risk: ${(Le==null?void 0:Le.automationRisk)||"LOW"}`,ariaLabel:"View AI disruption details",variant:"line"})]})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-4",children:[e.jsx("div",{className:"sticky top-0 z-40 -mx-4 px-4 pt-[calc(env(safe-area-inset-top)+0.5rem)] pb-2 bg-slate-900/95 backdrop-blur border-b border-slate-800/70 md:static md:mx-0 md:px-0 md:pt-0 md:pb-0 md:bg-transparent md:border-b-0",children:e.jsx("div",{className:"flex flex-wrap gap-2 mb-3 md:mb-4 pb-2",children:[{id:ce.OVERVIEW,label:o("tabs.overview"),icon:Nl},{id:ce.INVEST,label:o("tabs.invest"),icon:ii},{id:ce.ASSETS,label:o("tabs.portfolio"),icon:qs},{id:ce.BANK,label:o("tabs.bank"),icon:ri},{id:ce.CAREER,label:o("tabs.career"),icon:On},{id:ce.EDUCATION,label:o("tabs.education"),icon:Dn},{id:ce.SELF_LEARN,label:o("tabs.selfLearn"),icon:Qt},{id:ce.SIDEHUSTLE,label:o("tabs.sideHustles"),icon:oi},{id:ce.LIFESTYLE,label:o("tabs.lifestyle"),icon:ba}].map(a=>{const c=Jm[a.id];return e.jsx("div",{className:"flex items-center gap-1",children:e.jsxs(ne.button,{whileTap:{scale:.98},onClick:()=>{Te(),R(a.id)},title:c?`${a.label} (${c})`:a.label,className:`flex items-center gap-2 px-4 py-2.5 rounded-lg font-medium whitespace-nowrap transition-all touch-target ${k===a.id?"bg-emerald-600 text-white":"bg-slate-800 text-slate-400 hover:text-white hover:bg-slate-700"} ${a.id===ce.SELF_LEARN?Nt("self-learn-tab"):""}`,children:[e.jsx(a.icon,{size:18}),a.label,a.id===ce.SELF_LEARN&&e.jsx("span",{className:"text-[10px] uppercase tracking-wide px-1.5 py-0.5 rounded-full bg-amber-400/20 text-amber-200 border border-amber-400/40",children:"New"})]})},a.id)})})}),e.jsx(it,{children:Me&&Me.tabId===k&&e.jsx(ne.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.18,ease:"easeOut"},className:"mb-4 bg-slate-800/60 border border-emerald-700/30 rounded-2xl p-4",role:"status","aria-live":"polite",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/15 border border-emerald-500/20 flex items-center justify-center",children:e.jsx(Ut,{size:18,className:"text-emerald-300"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:Me.title}),e.jsx("p",{className:"text-sm text-slate-300 mt-0.5",children:Me.message})]}),e.jsx("button",{onClick:()=>Li(null),className:"text-slate-400 hover:text-white p-1 rounded-lg hover:bg-slate-700/40","aria-label":"Dismiss coach tip",children:e.jsx(ls,{size:16})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[Me.allowReopenPreview&&e.jsx("button",{onClick:Yr,className:"px-3 py-1.5 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-white text-xs font-semibold",children:"Re-open Preview"}),e.jsx("span",{className:"text-xs text-slate-500 self-center",children:"Tip disappears in a few seconds."})]})]})]})})}),ct&&e.jsx("div",{className:`mb-3 ${Zs?"flex justify-end":""}`,children:e.jsx(tm,{title:"Help & tips",summary:ct.title,isGloballyHidden:Zs,content:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-900/50 border border-slate-700 flex items-center justify-center",children:ct.icon??e.jsx(Qt,{size:18,className:"text-emerald-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:ct.title}),ct.description&&e.jsx("p",{className:"text-xs text-slate-400",children:ct.description})]})]}),e.jsxs("button",{onClick:()=>pr(k,{autoplay:!0}),className:"px-3 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-white text-sm font-semibold flex items-center gap-2",children:[e.jsx(Is,{size:16})," Watch video"]})]}),jr.length>0&&e.jsxs("div",{className:"rounded-xl border border-slate-700 bg-slate-900/40 p-3",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-200 mb-2",children:"Quick tips"}),e.jsx("ul",{className:"text-sm text-slate-300 space-y-1",children:jr.map(a=>e.jsxs("li",{children:["‚Ä¢ ",a]},a))})]}),Ic[k]&&e.jsxs("div",{className:"rounded-xl border border-slate-700 bg-slate-900/40 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[ct.poster?e.jsx("img",{src:ct.poster,alt:`${ct.title} video thumbnail`,className:"w-24 h-14 rounded-lg object-cover border border-slate-700"}):e.jsx("div",{className:"w-24 h-14 rounded-lg bg-slate-900/60 border border-slate-700 flex items-center justify-center",children:e.jsx(Is,{size:16,className:"text-slate-300"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-white truncate",children:ct.title}),e.jsx("p",{className:"text-xs text-slate-400 truncate",children:"Finished ‚Äî replay anytime."})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>pr(k,{autoplay:!0}),className:"px-3 py-2 rounded-xl bg-slate-700 hover:bg-slate-600 text-white text-sm font-semibold flex items-center gap-2",children:[e.jsx(Is,{size:16})," Replay"]}),e.jsx("button",{onClick:()=>zi(a=>({...a,[k]:!1})),className:"p-2 rounded-xl bg-slate-700 hover:bg-slate-600 text-slate-200","aria-label":"Hide video",children:e.jsx(ls,{size:16})})]})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{onClick:()=>Lc(a=>!a),className:"text-xs text-slate-400 hover:text-white",children:Zs?"Show tips everywhere":"Hide tips everywhere"})})]})})}),k===ce.OVERVIEW&&e.jsx(St,{tabName:o("tabs.overview"),children:e.jsx(d.Suspense,{fallback:e.jsx(At,{label:o("tabs.overview")}),children:e.jsx($m,{t:o,formatNumber:v,formatPercent:rt,formatMoney:me,formatMoneyFull:K,gameState:r,isProcessing:E,coachMonthlyActionsRef:ar,coachHighlight:Nt,InfoTip:Ji,creditTier:Yt,creditScore:We,getCreditTierColor:da,handleClaimQuest:aa,showEventLab:_c,setShowEventLab:er,eventLabEvent:Ht,eventLabOptionIdx:qi,setEventLabEventId:Cc,setEventLabOptionIdx:jc,eventLabSimulation:Sc,setEventLabSimulation:sr,runEventLabSimulation:ed,injectEventLab:td,aiImpact:Le,careerPath:ut,getAIRiskColor:bn,netWorth:lt,monthlyReport:Ae,cashFlow:Se,monthlyActionsSummary:Fr,handleUseMonthlyActions:id,openActionsSignal:Wn})})}),k===ce.INVEST&&e.jsx(St,{tabName:o("tabs.invest"),children:e.jsx(d.Suspense,{fallback:e.jsx(At,{label:o("tabs.invest")}),children:e.jsx(Fm,{formatMoney:me,formatMoneyFull:K,formatPercent:rt,gameState:r,investmentFilter:H,setInvestmentFilter:F,investmentTierFilter:V,setInvestmentTierFilter:ie,investmentSearch:te,setInvestmentSearch:se,filteredInvestments:Ar,batchBuyMode:B,toggleBatchBuyMode:Qr,clearBatchBuyCart:en,batchBuyQuantities:_e,setBatchBuyQuantities:ze,batchBuyCart:Ye,handleBuyAsset:Ha,hasRequiredEducationForInvestment:Ja,getAssetIcon:Ga,getItemTier:fn,getRiskRating:rl,isProcessing:E,playClick:Te,setShowMortgageModal:Ys,setSelectedMortgage:Hs,isBatchBuyEligible:Zi,setBatchQty:Vr,showQuiz:!!Ve&&k===ce.INVEST,quizTitle:Ve==null?void 0:Ve.title,quizIntro:Ve==null?void 0:Ve.intro,quizQuestions:(Ve==null?void 0:Ve.questions)||[],quizAnswers:he,onSelectQuizAnswer:qr,onSubmitQuiz:Lr,onSkipQuiz:()=>{de&&Oa(de)}})})}),k===ce.ASSETS&&e.jsx(St,{tabName:o("tabs.portfolio"),children:e.jsx(d.Suspense,{fallback:e.jsx(At,{label:o("tabs.portfolio")}),children:e.jsx(Um,{gameState:r,cashFlow:Se,formatMoney:me,formatPercent:rt,getAssetIcon:Ga,getBusinessIncomeRange:al,getOpsUpgradeCost:xn,handleRefinanceMortgage:Wr,handleSellAsset:Kr,handleBusinessOpsUpgrade:Jr,handlePayDebt:$a,creditScore:We,activeTab:k,coachHint:Me,setActiveTab:R})})}),k===ce.BANK&&e.jsx(St,{tabName:o("tabs.bank"),children:e.jsx(d.Suspense,{fallback:e.jsx(At,{label:o("tabs.bank")}),children:e.jsx(Qm,{gameState:r,creditTier:Yt,creditScore:We,formatMoney:me,formatPercent:rt,getCreditTierColor:da,coachBankLoansRef:Oi,coachHighlight:Nt,adjustedLoanOptions:Rr,calculateLoanPayment:os,handleTakeLoan:Gr,handlePayDebt:$a})})}),k===ce.CAREER&&e.jsx(St,{tabName:o("tabs.career"),children:e.jsx(d.Suspense,{fallback:e.jsx(At,{label:o("tabs.career")}),children:e.jsx(Vm,{gameState:r,careerPath:ut,cashFlow:Se,formatMoney:me,aiImpact:Le,isProcessing:E,onPromote:Ur})})}),k===ce.EDUCATION&&e.jsx(St,{tabName:o("tabs.education"),children:e.jsx(d.Suspense,{fallback:e.jsx(At,{label:o("tabs.education")}),children:e.jsx(Km,{gameState:r,careerPath:ut,formatMoney:me,handleEnrollEducation:Xr,coachLifestyleGridRef:Qs,coachHighlight:Nt})})}),k===ce.SELF_LEARN&&e.jsx(St,{tabName:o("tabs.selfLearn"),children:e.jsx(d.Suspense,{fallback:e.jsx(At,{label:o("tabs.selfLearn")}),children:e.jsx(sc,{gameState:r,setGameState:f,formatMoney:me})})}),k===ce.SIDEHUSTLE&&e.jsx(St,{tabName:o("tabs.sideHustles"),children:e.jsx(d.Suspense,{fallback:e.jsx(At,{label:o("tabs.sideHustles")}),children:e.jsx(Wm,{gameState:r,cashFlow:Se,formatMoney:me,getHustleUpgradeLabel:nl,getNextHustleMilestone:il,handleStartSideHustle:Zr,handleStopSideHustle:eo,setShowSideHustleUpgradeModal:fs,coachSideHustlesRef:Pi,coachHighlight:Nt})})}),k===ce.LIFESTYLE&&e.jsx(St,{tabName:o("tabs.lifestyle"),children:e.jsx(d.Suspense,{fallback:e.jsx(At,{label:o("tabs.lifestyle")}),children:e.jsx(Gm,{gameState:r,formatMoney:me,handleChangeLifestyle:to,coachLifestyleGridRef:Qs,coachHighlight:Nt,coachHint:Me,activeTab:k,InfoTip:Ji})})})]})]}),e.jsx(it,{children:Ec&&!gt&&!r.pendingScenario&&e.jsx(ne.div,{initial:{opacity:0,y:10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.98},transition:{duration:.18,ease:"easeOut"},className:"fixed right-4 bottom-24 md:bottom-6 z-40",children:e.jsxs("div",{className:"bg-slate-800/90 backdrop-blur border border-slate-700 rounded-2xl shadow-2xl px-4 py-3 flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-emerald-500/15 border border-emerald-500/20 flex items-center justify-center",children:e.jsx(Ut,{size:16,className:"text-emerald-300"})}),e.jsxs("div",{className:"leading-tight",children:[e.jsx("p",{className:"text-white text-sm font-semibold",children:"Want to re-check cashflow?"}),e.jsx("p",{className:"text-slate-400 text-xs",children:"Re-open the Next Month preview."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:Yr,className:"px-3 py-1.5 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-white text-xs font-semibold",children:"Open"}),e.jsx("button",{onClick:()=>Us(!1),className:"p-2 rounded-xl text-slate-400 hover:text-white hover:bg-slate-700/40","aria-label":"Dismiss preview shortcut",children:e.jsx(ls,{size:16})})]})]})})}),e.jsx(it,{children:k===ce.INVEST&&B&&Ye.totalUnits>0&&e.jsx(ne.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},exit:{opacity:0,y:16},transition:{duration:.18},className:"fixed left-1/2 -translate-x-1/2 bottom-[calc(env(safe-area-inset-bottom)+5.25rem)] md:bottom-6 z-[45] w-[min(42rem,calc(100vw-2rem))]",children:e.jsxs("div",{className:`rounded-2xl border backdrop-blur px-4 py-3 flex flex-col sm:flex-row sm:items-center gap-3 ${Ye.canAfford?"bg-slate-900/90 border-slate-700":"bg-rose-900/30 border-rose-500/50"}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-white font-semibold",children:"Batch Cart"}),e.jsxs("div",{className:"text-xs text-slate-300 mt-0.5",children:[Ye.totalUnits," units ‚Ä¢ Total ",K(Ye.totalCost)," ‚Ä¢ Cash ",K(r.cash)]}),!Ye.canAfford&&e.jsxs("div",{className:"text-xs text-rose-200 mt-1",children:["You're short by ",K(Ye.totalCost-r.cash),"."]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:en,className:"px-4 py-2 rounded-xl bg-slate-700/60 hover:bg-slate-700 text-white font-semibold transition",children:"Clear"}),e.jsx("button",{onClick:rd,disabled:!Ye.canAfford,className:`px-4 py-2 rounded-xl font-semibold transition ${Ye.canAfford?"bg-emerald-500 hover:bg-emerald-600 text-white":"bg-slate-700 text-slate-500 cursor-not-allowed"}`,children:"Review & Buy"})]})]})})}),e.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-slate-900/95 backdrop-blur-lg border-t border-slate-800 px-4 py-3 z-30",children:e.jsxs("div",{className:"flex justify-around",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-slate-400",children:"Cash"}),e.jsx("p",{className:"text-emerald-400 font-bold",children:me(r.cash)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-slate-400",children:"Net Worth"}),e.jsx("p",{className:"text-white font-bold",children:me(lt)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-slate-400",children:"Passive"}),e.jsxs("p",{className:"text-amber-400 font-bold",children:[me(Se.passive),"/mo"]})]})]})})]})},Nn={week:1,cash:20,totalEarned:0,totalSaved:0,character:null,difficulty:"NORMAL",careerPath:"CREATIVE",careerLevel:0,skillPoints:0,happiness:80,energy:5,activeHustles:[],collectibles:[],savingsGoal:null,completedGoals:[],achievements:[],pendingEvent:null,eventHistory:[],hasWon:!1,weeklyTip:""},Sh=[{id:"alex",name:"Alex the Artist",emoji:"üé®",description:"Loves drawing and making crafts to sell!",careerPath:"CREATIVE",startingCash:20,specialty:"Art supplies cost less",color:"from-purple-500 to-pink-500"},{id:"sam",name:"Sam the Scientist",emoji:"üî¨",description:"Always experimenting and inventing cool stuff!",careerPath:"INVENTOR",startingCash:15,specialty:"Earns bonus from science projects",color:"from-blue-500 to-cyan-500"},{id:"jordan",name:"Jordan the Athlete",emoji:"‚öΩ",description:"Super sporty and loves helping with sports camps!",careerPath:"SPORTS",startingCash:18,specialty:"Extra energy every week",color:"from-green-500 to-emerald-500"},{id:"taylor",name:"Taylor the Tech Kid",emoji:"üíª",description:"Great with computers and helping neighbors!",careerPath:"TECH",startingCash:15,specialty:"Tech jobs pay more",color:"from-indigo-500 to-violet-500"},{id:"riley",name:"Riley the Pet Lover",emoji:"üêï",description:"Best friends with every animal in the neighborhood!",careerPath:"PETS",startingCash:20,specialty:"Pet-sitting pays double",color:"from-amber-500 to-orange-500"},{id:"casey",name:"Casey the Chef",emoji:"üßÅ",description:"Makes the yummiest treats and lemonade!",careerPath:"FOOD",startingCash:18,specialty:"Bake sales earn more",color:"from-rose-500 to-red-500"}],fl={CREATIVE:{name:"Artist",icon:"üé®",description:"Make art and crafts to sell!",baseAllowance:5,levels:[{title:"Beginner Artist",weeklyBonus:0},{title:"Cool Artist",weeklyBonus:2},{title:"Super Artist",weeklyBonus:5},{title:"Master Artist",weeklyBonus:10}]},INVENTOR:{name:"Inventor",icon:"üî¨",description:"Create cool science projects!",baseAllowance:5,levels:[{title:"Junior Scientist",weeklyBonus:0},{title:"Cool Scientist",weeklyBonus:2},{title:"Super Scientist",weeklyBonus:5},{title:"Genius Inventor",weeklyBonus:10}]},SPORTS:{name:"Sports Helper",icon:"‚öΩ",description:"Help out at sports events!",baseAllowance:5,levels:[{title:"Team Helper",weeklyBonus:0},{title:"Assistant Coach",weeklyBonus:2},{title:"Sports Star",weeklyBonus:5},{title:"Champion Helper",weeklyBonus:10}]},TECH:{name:"Tech Helper",icon:"üíª",description:"Help people with technology!",baseAllowance:5,levels:[{title:"Tech Beginner",weeklyBonus:0},{title:"Computer Whiz",weeklyBonus:2},{title:"Tech Expert",weeklyBonus:5},{title:"Tech Genius",weeklyBonus:10}]},PETS:{name:"Pet Helper",icon:"üêï",description:"Take care of cute animals!",baseAllowance:5,levels:[{title:"Pet Friend",weeklyBonus:0},{title:"Pet Buddy",weeklyBonus:2},{title:"Pet Expert",weeklyBonus:5},{title:"Pet Whisperer",weeklyBonus:10}]},FOOD:{name:"Junior Chef",icon:"üßÅ",description:"Make yummy treats!",baseAllowance:5,levels:[{title:"Helper Chef",weeklyBonus:0},{title:"Cool Chef",weeklyBonus:2},{title:"Super Chef",weeklyBonus:5},{title:"Master Chef",weeklyBonus:10}]}},Za=[{id:"lemonade",name:"Lemonade Stand",emoji:"üçã",description:"Sell refreshing lemonade!",earnRange:{min:3,max:8},energyCost:1,startupCost:5},{id:"dogwalk",name:"Dog Walking",emoji:"üêï",description:"Walk neighborhood dogs",earnRange:{min:4,max:7},energyCost:2,startupCost:0},{id:"carwash",name:"Car Wash Helper",emoji:"üöó",description:"Help wash cars",earnRange:{min:5,max:10},energyCost:3,startupCost:3},{id:"yardwork",name:"Yard Helper",emoji:"üçÇ",description:"Rake leaves and help in gardens",earnRange:{min:4,max:8},energyCost:3,startupCost:0},{id:"babysit",name:"Mother's Helper",emoji:"üë∂",description:"Help watch younger kids",earnRange:{min:5,max:10},energyCost:2,startupCost:0},{id:"crafts",name:"Craft Sales",emoji:"üé®",description:"Make and sell crafts",earnRange:{min:2,max:12},energyCost:1,startupCost:5},{id:"cookies",name:"Bake Sale",emoji:"üç™",description:"Bake and sell treats",earnRange:{min:5,max:15},energyCost:2,startupCost:8},{id:"tutoring",name:"Homework Helper",emoji:"üìö",description:"Help younger kids with homework",earnRange:{min:3,max:6},energyCost:1,startupCost:0},{id:"petcare",name:"Pet Sitting",emoji:"üê±",description:"Take care of pets",earnRange:{min:5,max:12},energyCost:2,startupCost:0},{id:"recycling",name:"Recycling Collector",emoji:"‚ôªÔ∏è",description:"Collect cans and bottles",earnRange:{min:2,max:5},energyCost:2,startupCost:0}],Eh=[{id:"comics",name:"Comic Book",emoji:"üìö",price:5,category:"COLLECTION",description:"Cool comics that might be worth more later!"},{id:"cards",name:"Trading Cards Pack",emoji:"üÉè",price:8,category:"COLLECTION",description:"Rare cards could be super valuable!"},{id:"lego",name:"LEGO Set",emoji:"üß±",price:25,category:"COLLECTION",description:"Build something awesome!"},{id:"plushie",name:"Collectible Plushie",emoji:"üß∏",price:15,category:"COLLECTION",description:"A special stuffed animal!"},{id:"game",name:"Video Game",emoji:"üéÆ",price:30,category:"ENTERTAINMENT",description:"Fun to play and might become a classic!"},{id:"book",name:"Special Book",emoji:"üìñ",price:12,category:"COLLECTION",description:"A book that could become rare!"},{id:"figure",name:"Action Figure",emoji:"ü¶∏",price:20,category:"COLLECTION",description:"Collectible action figure!"},{id:"puzzle",name:"Rare Puzzle",emoji:"üß©",price:18,category:"ENTERTAINMENT",description:"A challenging puzzle to enjoy!"}],kh=[{id:"bike",name:"New Bike",emoji:"üö≤",price:150,description:"A shiny new bicycle!"},{id:"console",name:"Gaming Console",emoji:"üéÆ",price:300,description:"The coolest gaming system!"},{id:"phone",name:"First Phone",emoji:"üì±",price:200,description:"Your very own phone!"},{id:"pet",name:"Pet Supplies",emoji:"üêπ",price:100,description:"Everything for a new pet!"},{id:"camp",name:"Summer Camp",emoji:"üèïÔ∏è",price:250,description:"An awesome summer adventure!"},{id:"laptop",name:"Laptop",emoji:"üíª",price:400,description:"Your own computer!"},{id:"skateboard",name:"Skateboard",emoji:"üõπ",price:80,description:"Learn cool tricks!"},{id:"art",name:"Art Kit",emoji:"üé®",price:60,description:"Professional art supplies!"}],Ih=[{id:"birthday",title:"üéÇ Happy Birthday!",description:"It's your birthday! Family gives you money!",category:"WINDFALL",options:[{label:"Save it all!",outcome:{cashChange:25,message:"Smart choice! You saved $25!",happinessChange:5}},{label:"Save half, spend half",outcome:{cashChange:12,message:"You saved $12 and had fun!",happinessChange:10}}],weight:15,minWeek:1},{id:"tooth",title:"ü¶∑ Lost a Tooth!",description:"The Tooth Fairy visited!",category:"WINDFALL",options:[{label:"Put it in savings",outcome:{cashChange:5,message:"Added $5 to your piggy bank!",happinessChange:3}}],weight:10,minWeek:1},{id:"grandparents",title:"üë¥ Grandparent Visit!",description:"Grandma and Grandpa came to visit!",category:"WINDFALL",options:[{label:"Thank them!",outcome:{cashChange:15,message:"They gave you $15!",happinessChange:10}}],weight:12,minWeek:1},{id:"good_grades",title:"üìù Great Report Card!",description:"You got awesome grades!",category:"ACHIEVEMENT",options:[{label:"Collect your reward!",outcome:{cashChange:10,message:"Parents gave you $10 bonus!",happinessChange:15,skillBoost:!0}}],weight:10,minWeek:4},{id:"found_money",title:"üí∞ Found Money!",description:"You found some money on the ground!",category:"WINDFALL",options:[{label:"Lucky day!",outcome:{cashChange:3,message:"You found $3!",happinessChange:5}}],weight:8,minWeek:1},{id:"holiday",title:"üéÑ Holiday Gift!",description:"You received holiday money!",category:"WINDFALL",options:[{label:"Add to savings",outcome:{cashChange:30,message:"Added $30 to your savings!",happinessChange:15}},{label:"Buy something fun",outcome:{cashChange:10,message:"Saved $10, bought something cool!",happinessChange:20}}],weight:8,minWeek:8},{id:"chore_bonus",title:"‚≠ê Extra Chore Bonus!",description:"You did extra chores without being asked!",category:"ACHIEVEMENT",options:[{label:"Collect bonus!",outcome:{cashChange:5,message:"Earned $5 extra!",happinessChange:8}}],weight:12,minWeek:1},{id:"lemonade_rush",title:"üçã Busy Day!",description:"So many customers at your stand!",category:"BUSINESS",options:[{label:"Work extra hard!",outcome:{cashChange:12,message:"Earned $12 from all the customers!",happinessChange:10,energyChange:-2}}],weight:8,minWeek:4,requiresHustle:"lemonade"},{id:"pet_bonus",title:"üêï Happy Pet Owner!",description:"A pet owner loved your work!",category:"BUSINESS",options:[{label:"Accept the tip!",outcome:{cashChange:8,message:"Got an $8 tip!",happinessChange:10}}],weight:8,minWeek:4,requiresHustle:"dogwalk"},{id:"rain",title:"üåßÔ∏è Rainy Day",description:"Rain canceled your outdoor plans!",category:"CHALLENGE",options:[{label:"Stay inside and save energy",outcome:{cashChange:0,message:"You rested up!",energyChange:2,happinessChange:-2}},{label:"Work on indoor projects",outcome:{cashChange:3,message:"Made $3 doing indoor crafts!",happinessChange:3}}],weight:6,minWeek:1},{id:"broken_toy",title:"üò¢ Broken Toy",description:"One of your favorite things broke!",category:"CHALLENGE",options:[{label:"Try to fix it ($0)",outcome:{cashChange:0,message:"You fixed it yourself! Good job!",happinessChange:5,skillBoost:!0}},{label:"Buy a new one",outcome:{cashChange:-10,message:"Bought a replacement",happinessChange:0}}],weight:5,minWeek:4},{id:"sharing",title:"ü§ù Friend Needs Help",description:"Your friend forgot their lunch money!",category:"CHOICE",options:[{label:"Share your money",outcome:{cashChange:-5,message:"You helped a friend!",happinessChange:10}},{label:"Sorry, saving for something",outcome:{cashChange:0,message:"You stayed focused on your goal",happinessChange:-3}}],weight:6,minWeek:2},{id:"ice_cream",title:"üç¶ Ice Cream Truck!",description:"The ice cream truck is here!",category:"CHOICE",options:[{label:"Get a treat! ($4)",outcome:{cashChange:-4,message:"Yummy!",happinessChange:8}},{label:"Save my money",outcome:{cashChange:0,message:"Stayed strong!",happinessChange:2}}],weight:10,minWeek:1},{id:"fair",title:"üé° School Fair!",description:"The school fair is this week!",category:"CHOICE",options:[{label:"Go all out! ($15)",outcome:{cashChange:-15,message:"Best day ever!",happinessChange:20,energyChange:-2}},{label:"Small budget ($5)",outcome:{cashChange:-5,message:"Had fun without spending too much!",happinessChange:10}},{label:"Help run a booth (earn!)",outcome:{cashChange:8,message:"Earned $8 helping out!",happinessChange:8,energyChange:-2}}],weight:5,minWeek:6},{id:"charity",title:"üíù Charity Drive",description:"School is collecting donations!",category:"CHOICE",options:[{label:"Donate $5",outcome:{cashChange:-5,message:"You helped others!",happinessChange:15}},{label:"Donate $2",outcome:{cashChange:-2,message:"Every bit helps!",happinessChange:8}},{label:"Volunteer time instead",outcome:{cashChange:0,message:"Helped without spending!",happinessChange:10,energyChange:-1}}],weight:5,minWeek:4},{id:"skill_class",title:"üìö Special Class!",description:"There's a cool class you can take!",category:"OPPORTUNITY",options:[{label:"Take the class ($10)",outcome:{cashChange:-10,message:"Learned something new!",happinessChange:5,skillBoost:!0}},{label:"Maybe next time",outcome:{cashChange:0,message:"Saved your money",happinessChange:0}}],weight:5,minWeek:8}],ei={EASY:{name:"Easy Peasy",emoji:"üåü",description:"More money, easier saving!",allowanceMultiplier:1.5,eventChanceMultiplier:.7,startingCash:30},NORMAL:{name:"Just Right",emoji:"‚≠ê",description:"A good challenge!",allowanceMultiplier:1,eventChanceMultiplier:1,startingCash:20},HARD:{name:"Super Saver",emoji:"üí™",description:"For expert savers!",allowanceMultiplier:.75,eventChanceMultiplier:1.3,startingCash:15}},Th=[{id:"first_save",name:"First Saver",emoji:"üê∑",description:"Saved your first $10!",requirement:10},{id:"fifty_club",name:"$50 Club",emoji:"üí∞",description:"Saved $50!",requirement:50},{id:"hundred_hero",name:"Hundred Hero",emoji:"üèÜ",description:"Saved $100!",requirement:100},{id:"money_master",name:"Money Master",emoji:"üëë",description:"Saved $200!",requirement:200},{id:"super_saver",name:"Super Saver",emoji:"ü¶∏",description:"Saved $300!",requirement:300},{id:"goal_getter",name:"Goal Getter",emoji:"üéØ",description:"Reached a savings goal!",requirement:0}],ti=["üí° Saving a little each week adds up to a lot!","üí° Think before you spend - do you really need it?","üí° Helping others feels good AND is the right thing to do!","üí° Starting a small business teaches you a lot!","üí° It's okay to spend some money on fun things too!","üí° Setting goals helps you stay motivated!","üí° Compare prices before buying something!","üí° Earning your own money feels awesome!","üí° Patience is a super power when saving!","üí° Every dollar saved is a step toward your goal!"],Rh=({onBackToMenu:t,initialGameState:s})=>{var we,Ee,pe,be,$;const l=!!s&&!!s.character,[i,n]=d.useState(s||Nn),[o,u]=d.useState(!1),[h,v]=d.useState(!l),[b,_]=d.useState((s==null?void 0:s.difficulty)||"NORMAL"),[g,r]=d.useState("home"),[f,S]=d.useState(!1),[Y,P]=d.useState(null),[E,w]=d.useState(!0),y=["autosave","slot1","slot2","slot3"],[C,M]=d.useState(!1),[j,L]=d.useState([]),Z=p=>{try{return new Date(p).toLocaleString()}catch{return""}},G=()=>{L(hi("kids"))},D=()=>{G(),M(!0)},W=p=>{ln(i,p),G(),P(`Saved! (${p==="autosave"?"Autosave":p})`),setTimeout(()=>P(null),1500)},Q=p=>{const A=Mn(p);if(!A){P(`No save in ${p}`),setTimeout(()=>P(null),1500);return}n(A),v(!1),M(!1),P(`Loaded! (${p==="autosave"?"Autosave":p})`),setTimeout(()=>P(null),1500)},re=p=>{Fn("kids",p),G(),P(`Deleted ${p}`),setTimeout(()=>P(null),1500)},k=p=>{var B;const A=((B=j.find(ue=>ue.slotId===p))==null?void 0:B.label)||"",T=window.prompt("Name this save slot:",A);T&&(Kl("kids",p,T),G())};d.useEffect(()=>{if(h||!i.character)return;const p=setTimeout(()=>{ln(i,"autosave")},250);return()=>clearTimeout(p)},[i,h]);const R=p=>`$${p.toFixed(0)}`,H=d.useCallback(p=>{p==="goal"?si({particleCount:150,spread:100,origin:{y:.6}}):p==="big"?si({particleCount:80,spread:70}):si({particleCount:30,spread:50})},[]),F=d.useCallback(p=>{const A=ei[b],T=ti[Math.floor(Math.random()*ti.length)];n({...Nn,character:p,difficulty:b,cash:A.startingCash,careerPath:p.careerPath,weeklyTip:T,happiness:80,energy:5}),v(!1),u(!0),H("small")},[b,H]),V=d.useCallback(()=>{f||i.pendingEvent||(S(!0),setTimeout(()=>{n(p=>{const A=ei[p.difficulty],T=fl[p.careerPath];let B={...p,week:p.week+1};const ue=Math.round((T.baseAllowance+T.levels[p.careerLevel].weeklyBonus)*A.allowanceMultiplier);B.cash+=ue,B.totalEarned+=ue;let _e=0;for(const ye of p.activeHustles){const fe=Za.find(Ie=>Ie.id===ye);if(fe&&B.energy>0){const Ie=Math.floor(Math.random()*(fe.earnRange.max-fe.earnRange.min+1))+fe.earnRange.min;_e+=Ie,B.energy=Math.max(0,B.energy-fe.energyCost)}}B.cash+=_e,B.totalEarned+=_e,B.energy=Math.min(5,B.energy+2),B.collectibles=p.collectibles.map(ye=>({...ye,currentValue:Math.max(1,Math.round(ye.currentValue*(.95+Math.random()*.15)))})),p.skillPoints>=(p.careerLevel+1)*10&&p.careerLevel<3&&(B.careerLevel=p.careerLevel+1,B.skillPoints=0),B.savingsGoal&&!B.savingsGoal.completed&&(B.cash>=B.savingsGoal.targetAmount?(B.savingsGoal={...B.savingsGoal,savedAmount:B.cash,completed:!0},B.completedGoals=[...p.completedGoals,B.savingsGoal.id],B.hasWon=!0):B.savingsGoal={...B.savingsGoal,savedAmount:B.cash});const ze=[{id:"first_save",threshold:10},{id:"fifty_club",threshold:50},{id:"hundred_hero",threshold:100},{id:"money_master",threshold:200},{id:"super_saver",threshold:300}];for(const ye of ze)if(B.cash>=ye.threshold&&!p.achievements.find(fe=>fe.id===ye.id)){const fe=Th.find(Ie=>Ie.id===ye.id);fe&&(B.achievements=[...B.achievements,{...fe,unlockedWeek:B.week}])}const Fe=.25*A.eventChanceMultiplier;if(Math.random()<Fe){const ye=Ih.filter(fe=>!(fe.minWeek>B.week||fe.requiresHustle&&!p.activeHustles.includes(fe.requiresHustle)));if(ye.length>0){const fe=ye.reduce((Ae,pt)=>Ae+pt.weight,0);let Ie=Math.random()*fe;for(const Ae of ye)if(Ie-=Ae.weight,Ie<=0){B.pendingEvent=Ae;break}}}return B.weeklyTip=ti[Math.floor(Math.random()*ti.length)],B}),S(!1)},500))},[f,i.pendingEvent]),ie=d.useCallback(p=>{if(!i.pendingEvent)return;const T=i.pendingEvent.options[p].outcome;n(B=>{let ue={...B};return ue.cash=Math.max(0,B.cash+T.cashChange),T.cashChange>0&&(ue.totalEarned+=T.cashChange),T.happinessChange&&(ue.happiness=Math.min(100,Math.max(0,B.happiness+T.happinessChange))),T.energyChange&&(ue.energy=Math.min(5,Math.max(0,B.energy+T.energyChange))),T.skillBoost&&(ue.skillPoints=B.skillPoints+3),ue.eventHistory=[{week:B.week,title:B.pendingEvent.title,result:T.message},...B.eventHistory.slice(0,9)],ue.pendingEvent=null,ue}),T.cashChange>0&&H("small")},[i.pendingEvent,H]),te=d.useCallback(p=>{const A=Za.find(T=>T.id===p);if(A){if(i.cash<A.startupCost){P(`Need ${R(A.startupCost)} to start!`),setTimeout(()=>P(null),2e3);return}if(i.activeHustles.includes(p)){P("Already doing this!"),setTimeout(()=>P(null),2e3);return}n(T=>({...T,cash:T.cash-A.startupCost,activeHustles:[...T.activeHustles,p]})),H("small")}},[i.cash,i.activeHustles,H]),se=d.useCallback(p=>{if(i.cash<p.price){P(`Need ${R(p.price)} to buy!`),setTimeout(()=>P(null),2e3);return}const A={id:p.id+"-"+Date.now(),name:p.name,emoji:p.emoji,purchasePrice:p.price,currentValue:p.price,purchaseWeek:i.week};n(T=>({...T,cash:T.cash-p.price,collectibles:[...T.collectibles,A]})),H("small")},[i.cash,i.week,H]),de=d.useCallback(p=>{if(i.completedGoals.includes(p.id)){P("Already completed this goal!"),setTimeout(()=>P(null),2e3);return}const A={id:p.id,name:p.name,emoji:p.emoji,targetAmount:p.price,savedAmount:i.cash,completed:!1};n(T=>({...T,savingsGoal:A})),H("small")},[i.completedGoals,i.cash,H]);if(d.useEffect(()=>{i.hasWon&&H("goal")},[i.hasWon,H]),h)return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-indigo-900 via-purple-900 to-pink-900 p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("button",{onClick:t,className:"mb-4 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-full text-white font-bold transition-all",children:"‚Üê Back to Menu"}),e.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[e.jsx("h1",{className:"text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-pink-300 to-cyan-300 mb-2",children:"üéÆ Money Quest! üéÆ"}),e.jsx("p",{className:"text-xl text-white/80",children:"Learn to save and earn!"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-4",children:"Choose Your Challenge"}),e.jsx("div",{className:"flex justify-center gap-4 flex-wrap",children:Object.entries(ei).map(([p,A])=>e.jsxs(ne.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>_(p),className:`px-6 py-3 rounded-2xl font-bold text-lg transition-all ${b===p?"bg-gradient-to-r from-yellow-400 to-orange-400 text-white shadow-lg shadow-orange-500/50":"bg-white/20 text-white hover:bg-white/30"}`,children:[A.emoji," ",A.name]},p))})]}),e.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-4",children:"Pick Your Character!"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Sh.map((p,A)=>e.jsxs(ne.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.1},whileHover:{scale:1.03,y:-5},whileTap:{scale:.97},onClick:()=>F(p),className:`p-5 rounded-3xl bg-gradient-to-br ${p.color} shadow-lg text-white text-left relative overflow-hidden group`,children:[e.jsx("div",{className:"absolute inset-0 bg-white/0 group-hover:bg-white/10 transition-all"}),e.jsx("div",{className:"text-5xl mb-2",children:p.emoji}),e.jsx("h3",{className:"text-xl font-bold",children:p.name}),e.jsx("p",{className:"text-sm opacity-80 mb-2",children:p.description}),e.jsxs("div",{className:"text-xs bg-white/20 rounded-full px-2 py-1 inline-block",children:["‚≠ê ",p.specialty]})]},p.id))})]})});if(i.hasWon)return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-yellow-500 via-orange-500 to-pink-500 flex items-center justify-center p-4",children:e.jsxs(ne.div,{initial:{scale:0},animate:{scale:1,rotate:[0,5,-5,0]},className:"bg-white rounded-3xl p-8 max-w-md text-center shadow-2xl",children:[e.jsx("div",{className:"text-8xl mb-4",children:"üèÜ"}),e.jsx("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-500 to-orange-500 mb-4",children:"YOU DID IT!"}),e.jsxs("p",{className:"text-xl text-gray-700 mb-4",children:["You saved ",R(((we=i.savingsGoal)==null?void 0:we.targetAmount)||0)," for your ",(Ee=i.savingsGoal)==null?void 0:Ee.emoji," ",(pe=i.savingsGoal)==null?void 0:pe.name,"!"]}),e.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["It took you ",i.week," weeks!"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>{n(Nn),v(!0),u(!1)},className:"w-full py-3 bg-gradient-to-r from-green-400 to-emerald-500 text-white font-bold rounded-xl hover:shadow-lg transition-all",children:"üéÆ Play Again!"}),e.jsx("button",{onClick:t,className:"w-full py-3 bg-gray-200 text-gray-700 font-bold rounded-xl hover:bg-gray-300 transition-all",children:"‚Üê Back to Menu"})]})]})});const xe=fl[i.careerPath],he=xe.levels[i.careerLevel],ge=Math.round((xe.baseAllowance+he.weeklyBonus)*ei[i.difficulty].allowanceMultiplier),ve=i.careerLevel<3?i.skillPoints/((i.careerLevel+1)*10)*100:100;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-indigo-600 via-purple-600 to-pink-600",children:[e.jsx(it,{children:C&&e.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[80] bg-black/70 flex items-center justify-center p-4",children:e.jsxs(ne.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-xl bg-white rounded-3xl overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-gradient-to-r from-indigo-500 to-pink-500",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-bold text-lg",children:"üíæ Save & Load"}),e.jsx("p",{className:"text-white/80 text-xs",children:"Autosaves often ‚Ä¢ Use slots to save special moments"})]}),e.jsx("button",{onClick:()=>M(!1),className:"p-2 rounded-full bg-white/20 text-white hover:bg-white/30",children:e.jsx(ls,{size:18})})]}),e.jsxs("div",{className:"p-6 space-y-3",children:[y.map(p=>{const A=j.find(ue=>ue.slotId===p),T=!A,B=p==="autosave"?"Autosave":`Slot ${p.replace("slot","")}`;return e.jsx("div",{className:"border border-gray-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-bold text-gray-800",children:B}),(A==null?void 0:A.label)&&p!=="autosave"&&e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-700",children:A.label})]}),T?e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Empty"}):e.jsxs("div",{className:"text-sm mt-1 text-gray-700",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:["Last saved: ",Z(A.updatedAt)]}),e.jsxs("p",{className:"mt-1",children:["Week ",A.week," ‚Ä¢ Cash ",R(A.cashOnHand||0)]}),A.savingsGoalName&&e.jsxs("p",{className:"text-xs text-gray-600",children:["Goal: ",A.savingsGoalName," (",R(A.savingsGoalTarget||0),")"]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("button",{onClick:()=>W(p),className:"px-3 py-2 rounded-xl bg-emerald-500 hover:bg-emerald-600 text-white font-bold text-sm flex items-center gap-2",children:[e.jsx(li,{size:16})," Save"]}),e.jsxs("button",{disabled:T,onClick:()=>Q(p),className:"px-3 py-2 rounded-xl bg-indigo-500 hover:bg-indigo-600 disabled:bg-gray-200 disabled:text-gray-400 text-white font-bold text-sm flex items-center gap-2",children:[e.jsx(Cl,{size:16})," Load"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{disabled:p==="autosave"||T,onClick:()=>k(p),className:"flex-1 px-3 py-2 rounded-xl bg-gray-100 hover:bg-gray-200 disabled:bg-gray-50 disabled:text-gray-400 text-gray-700 text-xs",children:"Rename"}),e.jsx("button",{disabled:T,onClick:()=>re(p),className:"px-3 py-2 rounded-xl bg-red-500 hover:bg-red-600 disabled:bg-gray-50 disabled:text-gray-400 text-white text-xs flex items-center gap-1",children:e.jsx(jl,{size:14})})]})]})]})},p)}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 rounded-xl bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold",children:"Close"})})]})]})})}),e.jsx("div",{className:"bg-black/20 p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-4xl",children:(be=i.character)==null?void 0:be.emoji}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-white font-bold text-lg",children:($=i.character)==null?void 0:$.name}),e.jsx("p",{className:"text-white/70 text-sm",children:he.title})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"bg-yellow-400 text-yellow-900 px-4 py-2 rounded-full font-bold text-xl flex items-center gap-2",children:[e.jsx(Sl,{size:24}),R(i.cash)]}),e.jsxs("div",{className:"bg-white/20 text-white px-3 py-2 rounded-full font-bold",children:["Week ",i.week]}),e.jsx("button",{onClick:()=>{ln(i,"autosave"),t()},className:"p-2 bg-white/20 rounded-full text-white hover:bg-white/30",title:"Back to Menu",children:"‚Üê"}),e.jsx("button",{onClick:D,className:"p-2 bg-white/20 rounded-full text-white hover:bg-white/30",title:"Save / Load",children:e.jsx(li,{size:20})}),e.jsx("button",{onClick:()=>w(!E),className:"p-2 bg-white/20 rounded-full text-white hover:bg-white/30",children:E?e.jsx(kn,{size:20}):e.jsx(In,{size:20})})]})]})}),e.jsx("div",{className:"bg-black/10 p-3",children:e.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"üòä"}),e.jsx("div",{className:"w-24 h-3 bg-white/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-400 to-orange-400 transition-all",style:{width:`${i.happiness}%`}})})]}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((p,A)=>e.jsx(ba,{size:24,className:A<i.energy?"text-red-400 fill-red-400":"text-white/30"},A))}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Id,{className:"text-yellow-400",size:24}),e.jsx("div",{className:"w-24 h-3 bg-white/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-400 to-amber-500 transition-all",style:{width:`${ve}%`}})})]})]})}),i.savingsGoal&&e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-green-500 p-3",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between text-white mb-2",children:[e.jsxs("span",{className:"font-bold flex items-center gap-2",children:[e.jsx(wl,{size:18}),"Goal: ",i.savingsGoal.emoji," ",i.savingsGoal.name]}),e.jsxs("span",{children:[R(i.cash)," / ",R(i.savingsGoal.targetAmount)]})]}),e.jsx("div",{className:"w-full h-4 bg-white/30 rounded-full overflow-hidden",children:e.jsx(ne.div,{className:"h-full bg-white",initial:{width:0},animate:{width:`${Math.min(100,i.cash/i.savingsGoal.targetAmount*100)}%`}})})]})}),e.jsx("div",{className:"bg-white/10 p-2",children:e.jsx("div",{className:"max-w-4xl mx-auto flex justify-center gap-2",children:[{id:"home",label:"Home",emoji:"üè†"},{id:"earn",label:"Earn",emoji:"üí∞"},{id:"spend",label:"Shop",emoji:"üõçÔ∏è"},{id:"goals",label:"Goals",emoji:"üéØ"}].map(p=>e.jsxs("button",{onClick:()=>r(p.id),className:`px-5 py-2 rounded-full font-bold transition-all ${g===p.id?"bg-white text-purple-600 shadow-lg":"text-white hover:bg-white/20"}`,children:[p.emoji," ",p.label]},p.id))})}),e.jsx("div",{className:"max-w-4xl mx-auto p-4",children:e.jsxs(it,{mode:"wait",children:[i.pendingEvent&&e.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(ne.div,{initial:{scale:.8,y:20},animate:{scale:1,y:0},className:"bg-white rounded-3xl p-6 max-w-md w-full shadow-2xl",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:i.pendingEvent.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:i.pendingEvent.description})]}),e.jsx("div",{className:"space-y-3",children:i.pendingEvent.options.map((p,A)=>e.jsx(ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>ie(A),className:`flex w-full p-4 rounded-2xl font-bold text-left transition-all cursor-pointer focus:outline-none focus:ring-2 focus:ring-offset-2 active:scale-[0.98] ${p.outcome.cashChange>=0?"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 hover:from-green-200 hover:to-emerald-200 focus:ring-green-500 focus:ring-offset-white":"bg-gradient-to-r from-orange-100 to-amber-100 text-orange-800 hover:from-orange-200 hover:to-amber-200 focus:ring-orange-500 focus:ring-offset-white"}`,children:e.jsxs("div",{className:"flex w-full justify-between items-center",children:[e.jsx("span",{children:p.label}),e.jsxs("span",{className:`flex-shrink-0 ${p.outcome.cashChange>=0?"text-green-600":"text-orange-600"}`,children:[p.outcome.cashChange>=0?"+":"",R(p.outcome.cashChange)]})]})},A))})]})}),g==="home"&&e.jsxs(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[e.jsxs("div",{className:"bg-white/20 rounded-2xl p-4 mb-4 text-white text-center",children:[e.jsx(Ut,{className:"inline mr-2",size:20}),i.weeklyTip]}),e.jsxs(ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:V,disabled:f||!!i.pendingEvent,className:"w-full py-5 bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-400 text-white font-bold text-2xl rounded-2xl shadow-lg shadow-orange-500/30 mb-6 disabled:opacity-50 flex items-center justify-center gap-3",children:[f?"‚è≥ Loading...":"‚ñ∂Ô∏è Next Week!",e.jsx(vl,{size:28})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center",children:[e.jsx("div",{className:"text-3xl mb-1",children:"üíµ"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:R(ge)}),e.jsx("div",{className:"text-sm text-gray-500",children:"per week"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center",children:[e.jsx("div",{className:"text-3xl mb-1",children:"üìä"}),e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:R(i.totalEarned)}),e.jsx("div",{className:"text-sm text-gray-500",children:"total earned"})]})]}),i.activeHustles.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl p-4 mb-4",children:[e.jsxs("h3",{className:"font-bold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx(Ds,{className:"text-yellow-500",size:20}),"Your Jobs"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.activeHustles.map(p=>{const A=Za.find(T=>T.id===p);return A?e.jsxs("span",{className:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium",children:[A.emoji," ",A.name]},p):null})})]}),i.achievements.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl p-4",children:[e.jsxs("h3",{className:"font-bold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx(fi,{className:"text-yellow-500",size:20}),"Achievements"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.achievements.map(p=>e.jsxs("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:[p.emoji," ",p.name]},p.id))})]})]},"home"),g==="earn"&&e.jsxs(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"üí∞ Ways to Earn Money"}),e.jsx("div",{className:"grid gap-4",children:Za.map(p=>{const A=i.activeHustles.includes(p.id),T=i.cash>=p.startupCost;return e.jsx(ne.div,{whileHover:{scale:1.01},className:`bg-white rounded-2xl p-4 ${A?"ring-2 ring-green-400":""}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-4xl",children:p.emoji}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800",children:p.name}),e.jsx("p",{className:"text-sm text-gray-500",children:p.description}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs",children:[e.jsxs("span",{className:"text-green-600 font-medium",children:["Earns: $",p.earnRange.min,"-$",p.earnRange.max,"/week"]}),e.jsxs("span",{className:"text-red-500 flex items-center gap-1",children:[e.jsx(ba,{size:12,className:"fill-red-500"})," -",p.energyCost]})]})]})]}),e.jsx("button",{onClick:()=>te(p.id),disabled:A||!T,className:`px-4 py-2 rounded-xl font-bold transition-all ${A?"bg-green-100 text-green-600":T?"bg-gradient-to-r from-green-400 to-emerald-500 text-white hover:shadow-lg":"bg-gray-200 text-gray-400"}`,children:A?"‚úì Active":p.startupCost>0?`Start (${R(p.startupCost)})`:"Start Free!"})]})},p.id)})})]},"earn"),g==="spend"&&e.jsxs(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"üõçÔ∏è Collectibles Shop"}),i.collectibles.length>0&&e.jsxs("div",{className:"bg-white/20 rounded-2xl p-4 mb-4",children:[e.jsx("h3",{className:"font-bold text-white mb-2",children:"Your Collection"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.collectibles.map(p=>e.jsxs("span",{className:"bg-white/90 text-gray-800 px-3 py-1 rounded-full text-sm",children:[p.emoji," ",p.name," (",R(p.currentValue),")"]},p.id))})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:Eh.map(p=>{const A=i.cash>=p.price;return e.jsxs(ne.div,{whileHover:{scale:1.02},className:"bg-white rounded-2xl p-4 text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:p.emoji}),e.jsx("h3",{className:"font-bold text-gray-800",children:p.name}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:p.description}),e.jsx("button",{onClick:()=>se(p),disabled:!A,className:`w-full py-2 rounded-xl font-bold transition-all ${A?"bg-gradient-to-r from-purple-400 to-pink-400 text-white hover:shadow-lg":"bg-gray-200 text-gray-400"}`,children:R(p.price)})]},p.id)})})]},"spend"),g==="goals"&&e.jsxs(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"üéØ Savings Goals"}),i.savingsGoal?e.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-4 text-center",children:[e.jsx("div",{className:"text-5xl mb-2",children:i.savingsGoal.emoji}),e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:i.savingsGoal.name}),e.jsxs("div",{className:"text-3xl font-bold text-purple-600 my-2",children:[R(i.cash)," / ",R(i.savingsGoal.targetAmount)]}),e.jsx("div",{className:"w-full h-4 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-purple-400 to-pink-400",style:{width:`${Math.min(100,i.cash/i.savingsGoal.targetAmount*100)}%`}})}),e.jsxs("p",{className:"text-gray-500 mt-2",children:[R(i.savingsGoal.targetAmount-i.cash)," more to go!"]})]}):e.jsx("div",{className:"grid gap-4",children:kh.map(p=>{const A=i.completedGoals.includes(p.id);return e.jsx(ne.div,{whileHover:{scale:1.01},className:`bg-white rounded-2xl p-4 ${A?"opacity-50":""}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-4xl",children:p.emoji}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800",children:p.name}),e.jsx("p",{className:"text-sm text-gray-500",children:p.description})]})]}),e.jsx("button",{onClick:()=>de(p),disabled:A,className:`px-4 py-2 rounded-xl font-bold transition-all ${A?"bg-green-100 text-green-600":"bg-gradient-to-r from-orange-400 to-pink-500 text-white hover:shadow-lg"}`,children:A?"‚úì Done!":R(p.price)})]})},p.id)})})]},"goals")]})}),e.jsx(it,{children:Y&&e.jsx(ne.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 -translate-x-1/2 bg-black/80 text-white px-6 py-3 rounded-full font-bold",children:Y})})]})},_n="tycoon_authenticated",Ah="Bokke",Cn=[{bg:"from-emerald-500 to-teal-600",border:"border-emerald-500"},{bg:"from-blue-500 to-indigo-600",border:"border-blue-500"},{bg:"from-amber-500 to-orange-600",border:"border-amber-500"},{bg:"from-pink-500 to-rose-600",border:"border-pink-500"}],ua=["üë®‚Äçüíº","üë©‚Äçüíº","üë®‚Äçüíª","üë©‚Äçüíª","üë®‚Äç‚öïÔ∏è","üë©‚Äç‚öïÔ∏è","üë®‚Äçüîß","üë©‚Äçüîß","üßë‚Äçüíº","üßë‚Äçüíª"],Mh=t=>{try{return localStorage.getItem(t)}catch(s){return console.warn("localStorage.getItem failed:",t,s),null}},qh=(t,s)=>{try{localStorage.setItem(t,s)}catch(l){console.warn("localStorage.setItem failed:",t,l)}},Lh=t=>{try{localStorage.removeItem(t)}catch(s){console.warn("localStorage.removeItem failed:",t,s)}},mc=()=>{var pe,be;const{t,formatNumber:s,formatCurrency:l,formatDateTime:i}=Dt(),[n,o]=d.useState("select"),[u,h]=d.useState(!1),[v,b]=d.useState(""),[_,g]=d.useState(""),[r,f]=d.useState(!0),[S,Y]=d.useState(2),[P,E]=d.useState([]),[w,y]=d.useState("count"),[C,M]=d.useState(null),[j,L]=d.useState(null),Z=["autosave","slot1","slot2","slot3"],[G,D]=d.useState(null),[W,Q]=d.useState(null),[re,k]=d.useState(null),[R,H]=d.useState(null),[F,V]=d.useState(!1),[ie,te]=d.useState([]);d.useEffect(()=>{Mh(_n)==="true"&&h(!0),f(!1)},[]),d.useEffect(()=>{j!==null&&(P[j]||L(null))},[j,P]);const se=()=>{try{k(pi("adult","autosave")),H(pi("kids","autosave")),te(hi())}catch($){console.warn("Failed to refresh save summaries:",$)}};d.useEffect(()=>{n==="select"&&se()},[n]);const de=$=>{$.preventDefault(),v===Ah?(qh(_n,"true"),h(!0),g("")):(g(t("modeSelector.auth.incorrectPassword")),b(""))},xe=()=>{Lh(_n),h(!1),D(null),Q(null),V(!1),o("select"),M(null),E([]),y("count")},he=$=>{const p=[];for(let A=0;A<$;A++)p.push({id:`player-${A+1}`,name:"",careerPath:"TECH",difficulty:"NORMAL",color:Cn[A].bg,avatarEmoji:ua[A%ua.length],avatarImage:void 0});E(p),y("configure")},ge=($,p)=>{E(A=>{const T=[...A];return T[$]={...T[$],...p},T})},ve=()=>{var T;if(P.some(B=>!B.name.trim())){g(t("modeSelector.multiplayer.allPlayersNeedNames"));return}const $={},p=((T=Bn[0])==null?void 0:T.perk)??{id:"perk_generalist",name:"Generalist",description:"No perk applied."};P.forEach(B=>{const ue=Qe[B.difficulty]||Qe.NORMAL,_e=Ce[B.careerPath],ze=_e.levels[0],Fe={...ma,character:{id:B.id,name:B.name,backstory:"",avatarEmoji:B.avatarEmoji,avatarImage:B.avatarImage,avatarColor:B.color,careerPath:B.careerPath,startingBonus:{type:"cash",amount:0},traits:[],perk:p},difficulty:B.difficulty,cash:ue.startingCash,career:{path:B.careerPath,level:0,experience:0,title:ze.title,salary:Math.round(ze.baseSalary*ue.salaryMultiplier),skills:{},aiVulnerability:_e.aiVulnerability,futureProofScore:_e.futureProofScore},netWorthHistory:[],family:{children:[],isEngaged:!1},liabilities:[],assets:[],mortgages:[],vehicles:[],activeSideHustles:[],events:[]};$[B.id]=Fe}),M({players:P,currentPlayerIndex:0,gameStates:$,turnsPerRound:3,currentTurnInRound:0,gameStarted:!0,winner:null}),o("multiplayer-game"),g("")},we=($,p)=>{if(!C)return;const A={...C.gameStates,[$]:p};let T=C.winner;p.hasWon&&!T&&(T=$);const B=(C.currentPlayerIndex+1)%C.players.length;M({...C,gameStates:A,currentPlayerIndex:B,winner:T})},Ee=$=>{if(!C)return null;const p=C.gameStates[$],A=us(p),T=Ps(p),B=A.lifestyleCost+A.childrenExpenses+A.vehicleCosts+A.debtPayments+A.educationPayment,ue=A.passive-B;return{passiveIncome:A.passive,totalExpenses:B,surplus:ue,netWorth:T}};if(r)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:e.jsx("div",{className:"text-white text-xl",children:t("modeSelector.loading")})});if(!u)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:e.jsxs(ne.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("img",{src:"/logo.jpg",alt:"Tycoon",className:"w-48 h-48 mx-auto rounded-2xl shadow-2xl mb-4",onError:$=>{$.currentTarget.style.display="none"}}),e.jsx("h1",{className:"text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-green-300 to-cyan-300 mb-2",children:t("modeSelector.title")}),e.jsx("p",{className:"text-lg text-white/70",children:t("modeSelector.subtitle")})]}),e.jsxs("div",{className:"bg-slate-800/80 backdrop-blur-sm border border-slate-700 rounded-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"text-4xl mb-3",children:"üîê"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:t("modeSelector.auth.title")}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:t("modeSelector.auth.subtitle")})]}),e.jsxs("form",{onSubmit:de,children:[e.jsx("input",{type:"password",value:v,onChange:$=>b($.target.value),placeholder:t("modeSelector.auth.placeholder"),className:"w-full px-4 py-3 bg-slate-900/50 border border-slate-600 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 transition-all mb-4",autoFocus:!0}),_&&e.jsx(ne.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-400 text-sm text-center mb-4",children:_}),e.jsx(ne.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 bg-gradient-to-r from-emerald-500 to-cyan-500 text-white font-bold rounded-xl hover:from-emerald-600 hover:to-cyan-600 transition-all",children:t("modeSelector.auth.enter")})]})]}),e.jsxs("p",{className:"text-center text-slate-500 text-sm mt-6",children:[t("modeSelector.createdBy")," ",e.jsx("span",{className:"text-slate-400",children:"Pieter van der Walt"})]})]})});if(n==="multiplayer-game"&&C){const $=C.players[C.currentPlayerIndex],p=C.gameStates[$.id];return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-900/95 backdrop-blur-lg border-b border-slate-700 px-4 py-2",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br ${$.color} flex items-center justify-center text-xl overflow-hidden`,children:$.avatarImage?e.jsx("img",{src:$.avatarImage,alt:$.name,className:"w-full h-full object-cover"}):$.avatarEmoji}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-bold",children:t("modeSelector.multiplayer.turnLabel",{name:$.name})}),e.jsx("p",{className:"text-slate-400 text-xs",children:t(((pe=Qe[$.difficulty])==null?void 0:pe.label)||"difficulty.normal")})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:C.players.map((A,T)=>{const B=Ee(A.id),ue=T===C.currentPlayerIndex;return e.jsxs("div",{className:`text-center px-3 py-1 rounded-lg ${ue?"bg-emerald-500/20 border border-emerald-500/50":"bg-slate-800/50"}`,children:[e.jsx("p",{className:"text-xs text-slate-400",children:A.name}),e.jsxs("p",{className:`text-sm font-bold ${((B==null?void 0:B.surplus)||0)>0?"text-emerald-400":"text-white"}`,children:["$",(B==null?void 0:B.passiveIncome)||0,"/mo"]})]},A.id)})}),e.jsx("button",{onClick:()=>{o("select"),M(null),E([]),y("count")},className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white text-sm transition-all",children:t("modeSelector.multiplayer.exit")})]})}),C.winner&&e.jsx("div",{className:"fixed inset-0 z-[60] bg-black/80 flex items-center justify-center p-4",children:e.jsxs(ne.div,{initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},className:"bg-gradient-to-br from-yellow-500 via-amber-500 to-orange-500 rounded-3xl p-8 text-center max-w-lg w-full mx-4",children:[e.jsx(ne.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},className:"text-6xl mb-4",children:"üèÜ"}),e.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:[(be=C.players.find(A=>A.id===C.winner))==null?void 0:be.name," Wins!"]}),e.jsx("p",{className:"text-white/90 mb-2",children:"üéâ Achieved Financial Freedom!"}),e.jsx("p",{className:"text-white/70 text-sm italic mb-6",children:(()=>{const A=C.players.length-1,T=[`${A===1?"Your opponent is":"All opponents are"} now questioning their life choices. ü§î`,"The rat race just got a lot lonelier for everyone else! üêÄ","Someone's about to retire on a yacht while the others row to work. ‚õµ",`Achievement unlocked: Making friends feel poor since ${new Date().getFullYear()}! üí∏`,`${A===1?"They're":"They're all"} going to need financial therapy. üìä`];return T[Math.floor(Math.random()*T.length)]})()}),(()=>{const A=Ee(C.winner);return A&&e.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-4",children:[e.jsx("h3",{className:"text-white font-bold mb-2",children:"üéØ Victory Stats"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsx("div",{className:"text-left text-white/70",children:"Passive Income:"}),e.jsxs("div",{className:"text-right text-emerald-300 font-bold",children:["$",A.passiveIncome.toLocaleString(),"/mo"]}),e.jsx("div",{className:"text-left text-white/70",children:"Total Expenses:"}),e.jsxs("div",{className:"text-right text-red-300 font-bold",children:["$",A.totalExpenses.toLocaleString(),"/mo"]}),e.jsx("div",{className:"text-left text-white/70 font-bold",children:"Monthly Surplus:"}),e.jsxs("div",{className:"text-right text-yellow-300 font-bold",children:["+$",A.surplus.toLocaleString(),"/mo"]})]})]})})(),e.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-6",children:[e.jsx("h3",{className:"text-white font-bold mb-3",children:"üìä The Financial Scoreboard"}),C.players.map(A=>{const T=Ee(A.id);return{...A,surplus:(T==null?void 0:T.surplus)||0,netWorth:(T==null?void 0:T.netWorth)||0,passiveIncome:(T==null?void 0:T.passiveIncome)||0,totalExpenses:(T==null?void 0:T.totalExpenses)||0}}).sort((A,T)=>T.surplus-A.surplus).map((A,T)=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10 last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:T===0?"üëë":T===1?"ü•à":T===2?"ü•â":"ü¶Ü"}),e.jsx("span",{className:"text-white",children:A.name}),T===0&&e.jsx("span",{className:"text-xs bg-amber-600 px-2 py-0.5 rounded-full",children:"Winner!"}),A.surplus<0&&T>0&&e.jsx("span",{className:"text-xs bg-red-600/50 px-2 py-0.5 rounded-full",children:"Still Working üòÖ"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`font-bold ${A.surplus>0?"text-emerald-300":"text-red-300"}`,children:[A.surplus>=0?"+":"","$",A.surplus.toLocaleString(),"/mo"]}),e.jsxs("p",{className:"text-xs text-white/60",children:["Net Worth: $",A.netWorth>=1e6?`${(A.netWorth/1e6).toFixed(1)}M`:`${(A.netWorth/1e3).toFixed(0)}K`]})]})]},A.id))]}),e.jsx("button",{onClick:()=>{o("select"),M(null),E([]),y("count")},className:"px-6 py-3 bg-white text-amber-600 font-bold rounded-xl hover:bg-white/90 transition-all",children:"Back to Menu"})]})}),e.jsx("div",{className:"pt-16",children:e.jsx(xl,{initialGameState:p,playerConfig:$,isMultiplayer:!0,onTurnComplete:A=>we($.id,A),onBackToMenu:()=>{o("select"),M(null)}},$.id)})]})}if(n==="multiplayer-setup"){if(j!==null){const $=P[j];if($)return e.jsx(tc,{initialName:$.name,initialCareerPath:$.careerPath,onCancel:()=>L(null),onComplete:p=>{ge(j,{name:p.name,careerPath:p.careerPath,avatarImage:p.avatarImage}),L(null)}})}return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs(ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-green-300 to-cyan-300 mb-2",children:"üë• Multiplayer Setup"}),e.jsx("p",{className:"text-white/70",children:"Set up your game with friends and family"})]}),e.jsx(it,{mode:"wait",children:w==="count"?e.jsxs(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-slate-800/80 backdrop-blur-sm border border-slate-700 rounded-2xl p-8",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-6 text-center",children:"How many players?"}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[2,3,4].map($=>e.jsxs(ne.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y($),className:`p-6 rounded-xl border-2 transition-all ${S===$?"border-emerald-500 bg-emerald-500/20":"border-slate-600 bg-slate-700/50 hover:border-slate-500"}`,children:[e.jsx("div",{className:"text-4xl mb-2",children:"üë§".repeat($)}),e.jsxs("p",{className:"text-white font-bold text-lg",children:[$," Players"]})]},$))}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>o("select"),className:"flex-1 py-3 bg-slate-700 hover:bg-slate-600 text-white font-medium rounded-xl transition-all",children:"‚Üê Back"}),e.jsx("button",{onClick:()=>he(S),className:"flex-1 py-3 bg-gradient-to-r from-emerald-500 to-cyan-500 text-white font-bold rounded-xl hover:from-emerald-600 hover:to-cyan-600 transition-all",children:"Continue ‚Üí"})]})]},"count"):e.jsxs(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[_&&e.jsx(ne.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-400 text-center mb-4 bg-red-500/10 border border-red-500/30 rounded-lg py-2",children:_}),e.jsx("div",{className:"space-y-6",children:P.map(($,p)=>e.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:`bg-gradient-to-r ${Cn[p].bg} p-1 rounded-2xl`,children:e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("button",{onClick:()=>{if($.avatarImage){L(p);return}const T=(ua.indexOf($.avatarEmoji)+1)%ua.length;ge(p,{avatarEmoji:ua[T]})},className:`w-14 h-14 rounded-full bg-gradient-to-br ${Cn[p].bg} flex items-center justify-center text-3xl hover:scale-110 transition-transform overflow-hidden`,title:$.avatarImage?"Click to edit custom avatar":"Click to change avatar",children:$.avatarImage?e.jsx("img",{src:$.avatarImage,alt:$.name||"Avatar",className:"w-full h-full object-cover"}):$.avatarEmoji}),e.jsx("input",{type:"text",value:$.name,onChange:A=>ge(p,{name:A.target.value}),className:"flex-1 px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white text-lg focus:outline-none focus:border-emerald-500",placeholder:"Enter your name..."})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx("button",{onClick:()=>L(p),className:"px-3 py-1 rounded-full bg-emerald-500/20 text-emerald-200 text-xs font-semibold border border-emerald-500/30 hover:bg-emerald-500/30 transition-all",children:$.avatarImage?"Edit Custom Avatar":"Create Custom Avatar"}),$.avatarImage&&e.jsx("button",{onClick:()=>ge(p,{avatarImage:void 0}),className:"px-3 py-1 rounded-full bg-slate-700 text-slate-200 text-xs font-semibold border border-slate-600 hover:bg-slate-600 transition-all",children:"Use Emoji"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-slate-400 text-sm mb-2",children:"Choose Your Career:"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.keys(Ce).map(A=>{const T=Ce[A];return e.jsxs("button",{onClick:()=>ge(p,{careerPath:A}),className:`p-3 rounded-lg border-2 transition-all ${$.careerPath===A?"border-emerald-500 bg-emerald-500/20":"border-slate-600 bg-slate-700/50 hover:border-slate-500"}`,children:[e.jsx("div",{className:"text-2xl text-center mb-1",children:T.icon}),e.jsx("p",{className:"text-white text-sm text-center font-medium",children:T.name}),e.jsxs("p",{className:"text-slate-400 text-xs text-center",children:["AI-Proof: ",T.futureProofScore,"%"]})]},A)})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-sm mb-2",children:"Difficulty Level:"}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-2",children:Object.entries(Qe).map(([A,T])=>e.jsx("button",{onClick:()=>ge(p,{difficulty:A}),className:`p-2 rounded-lg border-2 transition-all ${$.difficulty===A?"border-emerald-500 bg-emerald-500/20":"border-slate-600 bg-slate-700/50 hover:border-slate-500"}`,children:e.jsx("p",{className:"text-white text-sm font-medium",children:T.label})},A))})]})]})},$.id))}),e.jsxs("div",{className:"flex gap-4 mt-8",children:[e.jsx("button",{onClick:()=>y("count"),className:"flex-1 py-3 bg-slate-700 hover:bg-slate-600 text-white font-medium rounded-xl transition-all",children:"‚Üê Back"}),e.jsx("button",{onClick:ve,className:"flex-1 py-3 bg-gradient-to-r from-emerald-500 to-cyan-500 text-white font-bold rounded-xl hover:from-emerald-600 hover:to-cyan-600 transition-all",children:"üéÆ Start Game!"})]})]},"configure")}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("button",{onClick:()=>o("select"),className:"text-slate-400 hover:text-white text-sm transition-colors",children:"‚Üê Back to Main Menu"})})]})})}return n==="adult"?e.jsx(xl,{onBackToMenu:()=>o("select"),initialGameState:G||void 0}):n==="kids"?e.jsx(Rh,{onBackToMenu:()=>o("select"),initialGameState:W||void 0}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-5xl w-full",children:[e.jsxs(ne.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},className:"text-center mb-12",children:[e.jsx("img",{src:"/logo.jpg",alt:"Tycoon",className:"w-40 h-40 mx-auto rounded-2xl shadow-2xl mb-4",onError:$=>{$.currentTarget.style.display="none"}}),e.jsx("h1",{className:"text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-green-300 to-cyan-300 mb-4",children:"üí∞ TYCOON üí∞"}),e.jsx("p",{className:"text-xl text-white/70",children:"Build Your Financial Empire"})]}),(re||R)&&e.jsxs(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-slate-800/70 backdrop-blur-sm border border-slate-700 rounded-2xl p-5 mb-6",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-bold text-lg",children:"Continue where you left off"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Autosave resumes your last session. Use Manage Saves to load manual slots."})]}),e.jsx("button",{onClick:()=>{se(),V(!0)},className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-xl text-white text-sm font-medium transition-all",children:"Manage Saves"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[re&&e.jsxs("button",{onClick:()=>{const $=An("autosave");$&&(D($),o("adult"))},className:"text-left p-4 rounded-2xl bg-gradient-to-r from-emerald-600/30 to-cyan-600/20 border border-emerald-500/30 hover:border-emerald-500/60 transition-all",children:[e.jsx("p",{className:"text-white font-bold",children:"‚ñ∂ Continue (Adult)"}),e.jsxs("p",{className:"text-slate-300 text-sm mt-1",children:["Year ",Math.ceil((re.month||1)/12)," ‚Ä¢ Month ",((re.month||1)-1)%12+1]}),e.jsxs("p",{className:"text-slate-400 text-xs mt-1",children:["Cash: $",(re.cash||0).toLocaleString()," ‚Ä¢ Net Worth: $",(re.netWorth||0).toLocaleString()]})]}),R&&e.jsxs("button",{onClick:()=>{const $=Mn("autosave");$&&(Q($),o("kids"))},className:"text-left p-4 rounded-2xl bg-gradient-to-r from-pink-500/30 to-indigo-500/20 border border-pink-400/30 hover:border-pink-400/60 transition-all",children:[e.jsx("p",{className:"text-white font-bold",children:"‚ñ∂ Continue (Kids)"}),e.jsxs("p",{className:"text-slate-300 text-sm mt-1",children:["Week ",R.week||1]}),e.jsxs("p",{className:"text-slate-400 text-xs mt-1",children:["Cash: $",(R.cashOnHand||0).toLocaleString()," ",R.savingsGoalName?`‚Ä¢ Goal: ${R.savingsGoalName}`:""]})]})]})]}),e.jsx(it,{children:F&&e.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[80] bg-black/70 flex items-center justify-center p-4",children:e.jsxs(ne.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-full max-w-3xl bg-slate-900 border border-slate-700 rounded-2xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-700",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-bold text-lg",children:"üíæ Manage Saves"}),e.jsx("p",{className:"text-slate-400 text-xs",children:"Load or delete Autosave and manual slots."})]}),e.jsx("button",{onClick:()=>V(!1),className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white text-sm",children:"Close"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[["adult","kids"].map($=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-bold mb-3",children:$==="adult"?"Adult Mode":"Kids Mode"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:Z.map(p=>{const A=ie.find(ue=>ue.mode===$&&ue.slotId===p),T=!A,B=p==="autosave"?"Autosave":`Slot ${p.replace("slot","")}`;return e.jsx("div",{className:"bg-slate-800/60 border border-slate-700 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white font-bold",children:B}),T?e.jsx("p",{className:"text-slate-400 text-sm",children:"Empty"}):e.jsxs("p",{className:"text-slate-300 text-sm",children:["Last saved: ",new Date(A.updatedAt).toLocaleString()]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{disabled:T,onClick:()=>{if($==="adult"){const ue=An(p);if(!ue)return;D(ue),o("adult")}else{const ue=Mn(p);if(!ue)return;Q(ue),o("kids")}V(!1)},className:"px-3 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-500 disabled:bg-slate-700 disabled:text-slate-500 text-white text-sm font-medium",children:"Load"}),e.jsx("button",{disabled:T,onClick:()=>{Fn($,p),se()},className:"px-3 py-2 rounded-lg bg-red-600/80 hover:bg-red-600 disabled:bg-slate-700 disabled:text-slate-500 text-white text-sm font-medium",children:"Delete"})]})]})},p)})})]},$)),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>se(),className:"text-slate-400 hover:text-white text-sm",children:"Refresh"})})]})]})})}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs(ne.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},whileHover:{scale:1.03,y:-5},whileTap:{scale:.97},onClick:()=>{Q(null),o("kids")},className:"relative bg-gradient-to-br from-pink-500 via-purple-500 to-indigo-500 rounded-3xl p-6 text-left overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 opacity-30",children:e.jsx("div",{className:"absolute top-4 right-4 text-5xl animate-bounce",children:"üéÆ"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("span",{className:"text-4xl",children:"üßí"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Kids Mode"}),e.jsx("p",{className:"text-white/70 text-sm",children:"Ages 8-10"})]})]}),e.jsxs("ul",{className:"space-y-1 text-white/90 text-sm mb-4",children:[e.jsx("li",{children:"‚úì Fun & simple"}),e.jsx("li",{children:"‚úì Learn basics"}),e.jsx("li",{children:"‚úì Save for goals"})]}),e.jsx("div",{className:"bg-white/20 rounded-xl px-4 py-2 inline-block",children:e.jsx("span",{className:"text-white font-medium",children:"Play Solo ‚Üí"})})]})]}),e.jsxs(ne.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},whileHover:{scale:1.03,y:-5},whileTap:{scale:.97},onClick:()=>{D(null),o("adult")},className:"relative bg-gradient-to-br from-emerald-600 via-teal-600 to-cyan-700 rounded-3xl p-6 text-left overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 opacity-30",children:e.jsx("div",{className:"absolute top-4 right-4 text-5xl",children:"üìà"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("span",{className:"text-4xl",children:"üëî"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Single Player"}),e.jsx("p",{className:"text-white/70 text-sm",children:"Full Experience"})]})]}),e.jsxs("ul",{className:"space-y-1 text-white/90 text-sm mb-4",children:[e.jsx("li",{children:"‚úì Full simulation"}),e.jsx("li",{children:"‚úì Invest & grow"}),e.jsx("li",{children:"‚úì Life events"})]}),e.jsx("div",{className:"bg-white/20 rounded-xl px-4 py-2 inline-block",children:e.jsx("span",{className:"text-white font-medium",children:"Play Solo ‚Üí"})})]})]}),e.jsxs(ne.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},whileHover:{scale:1.03,y:-5},whileTap:{scale:.97},onClick:()=>o("multiplayer-setup"),className:"relative bg-gradient-to-br from-amber-500 via-orange-500 to-red-500 rounded-3xl p-6 text-left overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 opacity-30",children:e.jsx("div",{className:"absolute top-4 right-4 text-5xl",children:"üèÜ"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("span",{className:"text-4xl",children:"üë•"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Multiplayer"}),e.jsx("p",{className:"text-white/70 text-sm",children:"2-4 Players"})]})]}),e.jsxs("ul",{className:"space-y-1 text-white/90 text-sm mb-4",children:[e.jsx("li",{children:"‚úì Play with family"}),e.jsx("li",{children:"‚úì Different difficulties"}),e.jsx("li",{children:"‚úì First to freedom wins!"})]}),e.jsx("div",{className:"bg-white/20 rounded-xl px-4 py-2 inline-block",children:e.jsx("span",{className:"text-white font-medium",children:"Setup Game ‚Üí"})})]})]})]}),e.jsxs(ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-center mt-12",children:[e.jsxs("p",{className:"text-slate-500 text-sm mb-2",children:["Created by ",e.jsx("span",{className:"text-slate-400 font-medium",children:"Pieter van der Walt"})]}),e.jsx("button",{onClick:xe,className:"text-slate-600 hover:text-slate-400 text-xs transition-colors",children:"Logout"})]})]})})};class hc extends qn.Component{constructor(){super(...arguments);is(this,"state",{hasError:!1});is(this,"handleReset",()=>{if(this.props.onReset)return this.props.onReset();window.location.reload()})}static getDerivedStateFromError(l){return{hasError:!0,error:l}}componentDidCatch(l,i){console.error("ErrorBoundary caught an error:",l,i)}render(){var l,i;if(this.state.hasError){const n=((l=this.context)==null?void 0:l.t)??(o=>o);return e.jsx("div",{className:"min-h-screen bg-slate-900 text-white flex items-center justify-center p-6",children:e.jsxs("div",{className:"max-w-lg w-full bg-slate-800/60 border border-slate-700 rounded-2xl p-6",children:[e.jsx("h1",{className:"text-xl font-bold mb-2",children:n("errors.genericTitle")}),e.jsx("p",{className:"text-slate-300 text-sm mb-4",children:n("errors.genericBody")}),e.jsx("div",{className:"bg-slate-900/60 border border-slate-700 rounded-xl p-3 text-xs text-slate-300 overflow-auto",children:((i=this.state.error)==null?void 0:i.message)||n("errors.unknown")}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("button",{className:"px-4 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-500 font-semibold",onClick:this.handleReset,children:n("actions.refresh")}),e.jsx("button",{className:"px-4 py-2 rounded-xl bg-slate-700 hover:bg-slate-600 font-semibold",onClick:()=>this.setState({hasError:!1,error:void 0}),children:n("actions.tryContinue")})]})]})})}return this.props.children}}is(hc,"contextType",yi);const pc=[{label:"Play",path:"/play"},{label:"Money",path:"/money"},{label:"Career",path:"/career"},{label:"Learn",path:"/learn"},{label:"Life",path:"/life"}],Ph=new Set(pc.map(t=>t.path)),jn=t=>!t||t==="/"?"/play":Ph.has(t)?t:"/play",Oh=()=>{const[t,s]=d.useState(()=>jn(window.location.pathname));d.useEffect(()=>{const n=jn(window.location.pathname);n!==window.location.pathname&&(window.history.replaceState({},"",n),s(n));const o=()=>s(jn(window.location.pathname));return window.addEventListener("popstate",o),()=>window.removeEventListener("popstate",o)},[]);const l=n=>{n!==t&&(window.history.pushState({},"",n),s(n))},i=d.useMemo(()=>{switch(t){case"/money":return Tm;case"/career":return Mm;case"/learn":return Pm;case"/life":return zm;case"/play":default:return Cm}},[t]);return e.jsx(Xl,{title:"Financial Freedom",subtitle:"Tycoon",navItems:pc,activePath:t,onNavigate:l,children:e.jsx(i,{})})},Dh="tycoon_ui_v2",bl=t=>t?["1","true","yes","on"].includes(t.toLowerCase()):!1,Bh=()=>{try{const t=localStorage.getItem(Dh);if(t!==null)return bl(t)}catch{}return bl(void 0)},zh=()=>{const[t,s]=d.useState(()=>Bh()),l=!0;d.useEffect(()=>{},[l]);const i=d.useMemo(()=>t?Oh:mc,[t]);return e.jsxs(e.Fragment,{children:[e.jsx(i,{}),!l]})},Yh=Hd.createRoot(document.getElementById("root"));Yh.render(e.jsx(qn.StrictMode,{children:e.jsx(hc,{onReset:()=>window.location.reload(),children:e.jsx(ru,{children:e.jsx(zh,{})})})}));export{Ce as C,Ot as a,ui as b,Pt as g};
